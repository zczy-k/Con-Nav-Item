import{_ as Bt,r as Gt,A as ht,g as zt,I as xe,h as Ht,c as Ne,o as Pe,F as Lt,a as Wt,m as $t,n as Ve,b as le,d as jt,t as Ut}from"./index-CorQPJqj.js";function gt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function j(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gt(Object(t),!0).forEach(function(n){Vt(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):gt(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Xe(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xe=function(e){return typeof e}:Xe=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(i)}function Vt(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function q(){return q=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},q.apply(this,arguments)}function qt(i,e){if(i==null)return{};var t={},n=Object.keys(i),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(t[r]=i[r]);return t}function Jt(i,e){if(i==null)return{};var t=qt(i,e),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(r=0;r<o.length;r++)n=o[r],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(t[n]=i[n])}return t}var Kt="1.15.6";function V(i){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(i)}var J=V(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ie=V(/Edge/i),pt=V(/firefox/i),_e=V(/safari/i)&&!V(/chrome/i)&&!V(/android/i),st=V(/iP(ad|od|hone)/i),Dt=V(/chrome/i)&&V(/android/i),St={capture:!1,passive:!1};function _(i,e,t){i.addEventListener(e,t,!J&&St)}function E(i,e,t){i.removeEventListener(e,t,!J&&St)}function He(i,e){if(e){if(e[0]===">"&&(e=e.substring(1)),i)try{if(i.matches)return i.matches(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function Ct(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function L(i,e,t,n){if(i){t=t||document;do{if(e!=null&&(e[0]===">"?i.parentNode===t&&He(i,e):He(i,e))||n&&i===t)return i;if(i===t)break}while(i=Ct(i))}return null}var mt=/\s+/g;function B(i,e,t){if(i&&e)if(i.classList)i.classList[t?"add":"remove"](e);else{var n=(" "+i.className+" ").replace(mt," ").replace(" "+e+" "," ");i.className=(n+(t?" "+e:"")).replace(mt," ")}}function g(i,e,t){var n=i&&i.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(t=i.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function fe(i,e){var t="";if(typeof i=="string")t=i;else do{var n=g(i,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(i=i.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(t)}function Tt(i,e,t){if(i){var n=i.getElementsByTagName(e),r=0,o=n.length;if(t)for(;r<o;r++)t(n[r],r);return n}return[]}function $(){var i=document.scrollingElement;return i||document.documentElement}function N(i,e,t,n,r){if(!(!i.getBoundingClientRect&&i!==window)){var o,a,l,s,u,h,c;if(i!==window&&i.parentNode&&i!==$()?(o=i.getBoundingClientRect(),a=o.top,l=o.left,s=o.bottom,u=o.right,h=o.height,c=o.width):(a=0,l=0,s=window.innerHeight,u=window.innerWidth,h=window.innerHeight,c=window.innerWidth),(e||t)&&i!==window&&(r=r||i.parentNode,!J))do if(r&&r.getBoundingClientRect&&(g(r,"transform")!=="none"||t&&g(r,"position")!=="static")){var b=r.getBoundingClientRect();a-=b.top+parseInt(g(r,"border-top-width")),l-=b.left+parseInt(g(r,"border-left-width")),s=a+o.height,u=l+o.width;break}while(r=r.parentNode);if(n&&i!==window){var S=fe(r||i),w=S&&S.a,D=S&&S.d;S&&(a/=D,l/=w,c/=w,h/=D,s=a+h,u=l+c)}return{top:a,left:l,bottom:s,right:u,width:c,height:h}}}function vt(i,e,t){for(var n=te(i,!0),r=N(i)[e];n;){var o=N(n)[t],a=void 0;if(a=r>=o,!a)return n;if(n===$())break;n=te(n,!1)}return!1}function he(i,e,t,n){for(var r=0,o=0,a=i.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==p.ghost&&(n||a[o]!==p.dragged)&&L(a[o],t.draggable,i,!1)){if(r===e)return a[o];r++}o++}return null}function ut(i,e){for(var t=i.lastElementChild;t&&(t===p.ghost||g(t,"display")==="none"||e&&!He(t,e));)t=t.previousElementSibling;return t||null}function z(i,e){var t=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==p.clone&&(!e||He(i,e))&&t++;return t}function bt(i){var e=0,t=0,n=$();if(i)do{var r=fe(i),o=r.a,a=r.d;e+=i.scrollLeft*o,t+=i.scrollTop*a}while(i!==n&&(i=i.parentNode));return[e,t]}function Zt(i,e){for(var t in i)if(i.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===i[t][n])return Number(t)}return-1}function te(i,e){if(!i||!i.getBoundingClientRect)return $();var t=i,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var r=g(t);if(t.clientWidth<t.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return $();if(n||e)return t;n=!0}}while(t=t.parentNode);return $()}function Qt(i,e){if(i&&e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function qe(i,e){return Math.round(i.top)===Math.round(e.top)&&Math.round(i.left)===Math.round(e.left)&&Math.round(i.height)===Math.round(e.height)&&Math.round(i.width)===Math.round(e.width)}var De;function It(i,e){return function(){if(!De){var t=arguments,n=this;t.length===1?i.call(n,t[0]):i.apply(n,t),De=setTimeout(function(){De=void 0},e)}}}function en(){clearTimeout(De),De=void 0}function Ot(i,e,t){i.scrollLeft+=e,i.scrollTop+=t}function At(i){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(i).cloneNode(!0):t?t(i).clone(!0)[0]:i.cloneNode(!0)}function xt(i,e,t){var n={};return Array.from(i.children).forEach(function(r){var o,a,l,s;if(!(!L(r,e.draggable,i,!1)||r.animated||r===t)){var u=N(r);n.left=Math.min((o=n.left)!==null&&o!==void 0?o:1/0,u.left),n.top=Math.min((a=n.top)!==null&&a!==void 0?a:1/0,u.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,u.right),n.bottom=Math.max((s=n.bottom)!==null&&s!==void 0?s:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var X="Sortable"+new Date().getTime();function tn(){var i=[],e;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(g(r,"display")==="none"||r===p.ghost)){i.push({target:r,rect:N(r)});var o=j({},i[i.length-1].rect);if(r.thisAnimationDuration){var a=fe(r,!0);a&&(o.top-=a.f,o.left-=a.e)}r.fromRect=o}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(Zt(i,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var o=!1,a=0;i.forEach(function(l){var s=0,u=l.target,h=u.fromRect,c=N(u),b=u.prevFromRect,S=u.prevToRect,w=l.rect,D=fe(u,!0);D&&(c.top-=D.f,c.left-=D.e),u.toRect=c,u.thisAnimationDuration&&qe(b,c)&&!qe(h,c)&&(w.top-c.top)/(w.left-c.left)===(h.top-c.top)/(h.left-c.left)&&(s=rn(w,b,S,r.options)),qe(c,h)||(u.prevFromRect=h,u.prevToRect=c,s||(s=r.options.animation),r.animate(u,w,c,s)),s&&(o=!0,a=Math.max(a,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),o?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),i=[]},animate:function(n,r,o,a){if(a){g(n,"transition",""),g(n,"transform","");var l=fe(this.el),s=l&&l.a,u=l&&l.d,h=(r.left-o.left)/(s||1),c=(r.top-o.top)/(u||1);n.animatingX=!!h,n.animatingY=!!c,g(n,"transform","translate3d("+h+"px,"+c+"px,0)"),this.forRepaintDummy=nn(n),g(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),g(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){g(n,"transition",""),g(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function nn(i){return i.offsetWidth}function rn(i,e,t,n){return Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var se=[],Je={initializeByDefault:!0},Oe={mount:function(e){for(var t in Je)Je.hasOwnProperty(t)&&!(t in e)&&(e[t]=Je[t]);se.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),se.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";se.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][o]&&t[a.pluginName][o](j({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](j({sortable:t},n)))})},initializePlugins:function(e,t,n,r){se.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var u=new l(e,t,e.options);u.sortable=e,u.options=e.options,e[s]=u,q(n,u.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);typeof a!="undefined"&&(e.options[o]=a)}},getEventProperties:function(e,t){var n={};return se.forEach(function(r){typeof r.eventProperties=="function"&&q(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return se.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(r=o.optionListeners[t].call(e[o.pluginName],n))}),r}};function on(i){var e=i.sortable,t=i.rootEl,n=i.name,r=i.targetEl,o=i.cloneEl,a=i.toEl,l=i.fromEl,s=i.oldIndex,u=i.newIndex,h=i.oldDraggableIndex,c=i.newDraggableIndex,b=i.originalEvent,S=i.putSortable,w=i.extraEventProperties;if(e=e||t&&t[X],!!e){var D,F=e.options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!J&&!Ie?D=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(D=document.createEvent("Event"),D.initEvent(n,!0,!0)),D.to=a||t,D.from=l||t,D.item=r||t,D.clone=o,D.oldIndex=s,D.newIndex=u,D.oldDraggableIndex=h,D.newDraggableIndex=c,D.originalEvent=b,D.pullMode=S?S.lastPutMode:void 0;var v=j(j({},w),Oe.getEventProperties(n,e));for(var y in v)D[y]=v[y];t&&t.dispatchEvent(D),F[f]&&F[f].call(e,D)}}var an=["evt"],R=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,o=Jt(n,an);Oe.pluginEvent.bind(p)(e,t,j({dragEl:d,parentEl:O,ghostEl:m,rootEl:T,nextEl:ae,lastDownEl:Ye,cloneEl:I,cloneHidden:ee,dragStarted:ye,putSortable:P,activeSortable:p.active,originalEvent:r,oldIndex:ce,oldDraggableIndex:Se,newIndex:G,newDraggableIndex:Q,hideGhostForTarget:kt,unhideGhostForTarget:Ft,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(l){k({sortable:t,name:l,originalEvent:r})}},o))};function k(i){on(j({putSortable:P,cloneEl:I,targetEl:d,rootEl:T,oldIndex:ce,oldDraggableIndex:Se,newIndex:G,newDraggableIndex:Q},i))}var d,O,m,T,ae,Ye,I,ee,ce,G,Se,Q,Me,P,de=!1,Le=!1,We=[],re,H,Ke,Ze,yt,Et,ye,ue,Ce,Te=!1,ke=!1,Be,M,Qe=[],rt=!1,$e=[],Ue=typeof document!="undefined",Fe=st,wt=Ie||J?"cssFloat":"float",ln=Ue&&!Dt&&!st&&"draggable"in document.createElement("div"),Nt=(function(){if(Ue){if(J)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}})(),Pt=function(e,t){var n=g(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=he(e,0,t),a=he(e,1,t),l=o&&g(o),s=a&&g(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+N(o).width,h=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+N(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===c)?"vertical":"horizontal"}return o&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=r&&n[wt]==="none"||a&&n[wt]==="none"&&u+h>r)?"vertical":"horizontal"},sn=function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,a=n?e.width:e.height,l=n?t.left:t.top,s=n?t.right:t.bottom,u=n?t.width:t.height;return r===l||o===s||r+a/2===l+u/2},un=function(e,t){var n;return We.some(function(r){var o=r[X].options.emptyInsertThreshold;if(!(!o||ut(r))){var a=N(r),l=e>=a.left-o&&e<=a.right+o,s=t>=a.top-o&&t<=a.bottom+o;if(l&&s)return n=r}}),n},Mt=function(e){function t(o,a){return function(l,s,u,h){var c=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(o==null&&(a||c))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return t(o(l,s,u,h),a)(l,s,u,h);var b=(a?l:s).options.group.name;return o===!0||typeof o=="string"&&o===b||o.join&&o.indexOf(b)>-1}}var n={},r=e.group;(!r||Xe(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},kt=function(){!Nt&&m&&g(m,"display","none")},Ft=function(){!Nt&&m&&g(m,"display","")};Ue&&!Dt&&document.addEventListener("click",function(i){if(Le)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Le=!1,!1},!0);var oe=function(e){if(d){e=e.touches?e.touches[0]:e;var t=un(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[X]._onDragOver(n)}}},dn=function(e){d&&d.parentNode[X]._isOutsideThisEl(e.target)};function p(i,e){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=e=q({},e),i[X]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pt(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!_e||st),emptyInsertThreshold:5};Oe.initializePlugins(this,i,t);for(var n in t)!(n in e)&&(e[n]=t[n]);Mt(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:ln,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?_(i,"pointerdown",this._onTapStart):(_(i,"mousedown",this._onTapStart),_(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(_(i,"dragover",this),_(i,"dragenter",this)),We.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),q(this,tn())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ue=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,h=r.filter;if(bn(n),!d&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&_e&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=L(s,r.draggable,n,!1),!(s&&s.animated)&&Ye!==s)){if(ce=z(s),Se=z(s,r.draggable),typeof h=="function"){if(h.call(this,e,s,this)){k({sortable:t,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),R("filter",t,{evt:e}),o&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(c){if(c=L(u,c.trim(),n,!1),c)return k({sortable:t,rootEl:c,name:"filter",targetEl:s,fromEl:n,toEl:n}),R("filter",t,{evt:e}),!0}),h)){o&&e.preventDefault();return}r.handle&&!L(u,r.handle,n,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,t,n){var r=this,o=r.el,a=r.options,l=o.ownerDocument,s;if(n&&!d&&n.parentNode===o){var u=N(n);if(T=o,d=n,O=d.parentNode,ae=d.nextSibling,Ye=n,Me=a.group,p.dragged=d,re={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},yt=re.clientX-u.left,Et=re.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",s=function(){if(R("delayEnded",r,{evt:e}),p.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!pt&&r.nativeDraggable&&(d.draggable=!0),r._triggerDragStart(e,t),k({sortable:r,name:"choose",originalEvent:e}),B(d,a.chosenClass,!0)},a.ignore.split(",").forEach(function(h){Tt(d,h.trim(),et)}),_(l,"dragover",oe),_(l,"mousemove",oe),_(l,"touchmove",oe),a.supportPointer?(_(l,"pointerup",r._onDrop),!this.nativeDraggable&&_(l,"pointercancel",r._onDrop)):(_(l,"mouseup",r._onDrop),_(l,"touchend",r._onDrop),_(l,"touchcancel",r._onDrop)),pt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),R("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Ie||J))){if(p.eventCanceled){this._onDrop();return}a.supportPointer?(_(l,"pointerup",r._disableDelayedDrag),_(l,"pointercancel",r._disableDelayedDrag)):(_(l,"mouseup",r._disableDelayedDrag),_(l,"touchend",r._disableDelayedDrag),_(l,"touchcancel",r._disableDelayedDrag)),_(l,"mousemove",r._delayedDragTouchMoveHandler),_(l,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&_(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&et(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;E(e,"mouseup",this._disableDelayedDrag),E(e,"touchend",this._disableDelayedDrag),E(e,"touchcancel",this._disableDelayedDrag),E(e,"pointerup",this._disableDelayedDrag),E(e,"pointercancel",this._disableDelayedDrag),E(e,"mousemove",this._delayedDragTouchMoveHandler),E(e,"touchmove",this._delayedDragTouchMoveHandler),E(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?_(document,"pointermove",this._onTouchMove):t?_(document,"touchmove",this._onTouchMove):_(document,"mousemove",this._onTouchMove):(_(d,"dragend",this),_(T,"dragstart",this._onDragStart));try{document.selection?Ge(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(de=!1,T&&d){R("dragStarted",this,{evt:t}),this.nativeDraggable&&_(document,"dragover",dn);var n=this.options;!e&&B(d,n.dragClass,!1),B(d,n.ghostClass,!0),p.active=this,e&&this._appendGhost(),k({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(H){this._lastX=H.clientX,this._lastY=H.clientY,kt();for(var e=document.elementFromPoint(H.clientX,H.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(H.clientX,H.clientY),e!==t);)t=e;if(d.parentNode[X]._isOutsideThisEl(e),t)do{if(t[X]){var n=void 0;if(n=t[X]._onDragOver({clientX:H.clientX,clientY:H.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=Ct(t));Ft()}},_onTouchMove:function(e){if(re){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,a=m&&fe(m,!0),l=m&&a&&a.a,s=m&&a&&a.d,u=Fe&&M&&bt(M),h=(o.clientX-re.clientX+r.x)/(l||1)+(u?u[0]-Qe[0]:0)/(l||1),c=(o.clientY-re.clientY+r.y)/(s||1)+(u?u[1]-Qe[1]:0)/(s||1);if(!p.active&&!de){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(m){a?(a.e+=h-(Ke||0),a.f+=c-(Ze||0)):a={a:1,b:0,c:0,d:1,e:h,f:c};var b="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");g(m,"webkitTransform",b),g(m,"mozTransform",b),g(m,"msTransform",b),g(m,"transform",b),Ke=h,Ze=c,H=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:T,t=N(d,!0,Fe,!0,e),n=this.options;if(Fe){for(M=e;g(M,"position")==="static"&&g(M,"transform")==="none"&&M!==document;)M=M.parentNode;M!==document.body&&M!==document.documentElement?(M===document&&(M=$()),t.top+=M.scrollTop,t.left+=M.scrollLeft):M=$(),Qe=bt(M)}m=d.cloneNode(!0),B(m,n.ghostClass,!1),B(m,n.fallbackClass,!0),B(m,n.dragClass,!0),g(m,"transition",""),g(m,"transform",""),g(m,"box-sizing","border-box"),g(m,"margin",0),g(m,"top",t.top),g(m,"left",t.left),g(m,"width",t.width),g(m,"height",t.height),g(m,"opacity","0.8"),g(m,"position",Fe?"absolute":"fixed"),g(m,"zIndex","100000"),g(m,"pointerEvents","none"),p.ghost=m,e.appendChild(m),g(m,"transform-origin",yt/parseInt(m.style.width)*100+"% "+Et/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;if(R("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}R("setupClone",this),p.eventCanceled||(I=At(d),I.removeAttribute("id"),I.draggable=!1,I.style["will-change"]="",this._hideClone(),B(I,this.options.chosenClass,!1),p.clone=I),n.cloneId=Ge(function(){R("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||T.insertBefore(I,d),n._hideClone(),k({sortable:n,name:"clone"}))}),!t&&B(d,o.dragClass,!0),t?(Le=!0,n._loopId=setInterval(n._emulateDragOver,50)):(E(document,"mouseup",n._onDrop),E(document,"touchend",n._onDrop),E(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,d)),_(document,"drop",n),g(d,"transform","translateZ(0)")),de=!0,n._dragStartId=Ge(n._dragStarted.bind(n,t,e)),_(document,"selectstart",n),ye=!0,window.getSelection().removeAllRanges(),_e&&g(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,r,o,a,l=this.options,s=l.group,u=p.active,h=Me===s,c=l.sort,b=P||u,S,w=this,D=!1;if(rt)return;function F(be,Xt){R(be,w,j({evt:e,isOwner:h,axis:S?"vertical":"horizontal",revert:a,dragRect:r,targetRect:o,canSort:c,fromSortable:b,target:n,completed:v,onMove:function(ft,Yt){return Re(T,t,d,r,ft,N(ft),e,Yt)},changed:y},Xt))}function f(){F("dragOverAnimationCapture"),w.captureAnimationState(),w!==b&&b.captureAnimationState()}function v(be){return F("dragOverCompleted",{insertion:be}),be&&(h?u._hideClone():u._showClone(w),w!==b&&(B(d,P?P.options.ghostClass:u.options.ghostClass,!1),B(d,l.ghostClass,!0)),P!==w&&w!==p.active?P=w:w===p.active&&P&&(P=null),b===w&&(w._ignoreWhileAnimating=n),w.animateAll(function(){F("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(n===d&&!d.animated||n===t&&!n.animated)&&(ue=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(d.parentNode[X]._isOutsideThisEl(e.target),!be&&oe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),D=!0}function y(){G=z(d),Q=z(d,l.draggable),k({sortable:w,name:"change",toEl:t,newIndex:G,newDraggableIndex:Q,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=L(n,l.draggable,t,!0),F("dragOver"),p.eventCanceled)return D;if(d.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||w._ignoreWhileAnimating===n)return v(!1);if(Le=!1,u&&!l.disabled&&(h?c||(a=O!==T):P===this||(this.lastPutMode=Me.checkPull(this,u,d,e))&&s.checkPut(this,u,d,e))){if(S=this._getDirection(e,n)==="vertical",r=N(d),F("dragOverValid"),p.eventCanceled)return D;if(a)return O=T,f(),this._hideClone(),F("revert"),p.eventCanceled||(ae?T.insertBefore(d,ae):T.appendChild(d)),v(!0);var A=ut(t,l.draggable);if(!A||gn(e,S,this)&&!A.animated){if(A===d)return v(!1);if(A&&t===e.target&&(n=A),n&&(o=N(n)),Re(T,t,d,r,n,o,e,!!n)!==!1)return f(),A&&A.nextSibling?t.insertBefore(d,A.nextSibling):t.appendChild(d),O=t,y(),v(!0)}else if(A&&hn(e,S,this)){var C=he(t,0,l,!0);if(C===d)return v(!1);if(n=C,o=N(n),Re(T,t,d,r,n,o,e,!1)!==!1)return f(),t.insertBefore(d,C),O=t,y(),v(!0)}else if(n.parentNode===t){o=N(n);var W=0,ne,ge=d.parentNode!==t,Y=!sn(d.animated&&d.toRect||r,n.animated&&n.toRect||o,S),pe=S?"top":"left",K=vt(n,"top","top")||vt(d,"top","top"),me=K?K.scrollTop:void 0;ue!==n&&(ne=o[pe],Te=!1,ke=!Y&&l.invertSwap||ge),W=pn(e,n,o,S,Y?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,ke,ue===n);var U;if(W!==0){var ie=z(d);do ie-=W,U=O.children[ie];while(U&&(g(U,"display")==="none"||U===m))}if(W===0||U===n)return v(!1);ue=n,Ce=W;var ve=n.nextElementSibling,Z=!1;Z=W===1;var Ae=Re(T,t,d,r,n,o,e,Z);if(Ae!==!1)return(Ae===1||Ae===-1)&&(Z=Ae===1),rt=!0,setTimeout(fn,30),f(),Z&&!ve?t.appendChild(d):n.parentNode.insertBefore(d,Z?ve:n),K&&Ot(K,0,me-K.scrollTop),O=d.parentNode,ne!==void 0&&!ke&&(Be=Math.abs(ne-N(n)[pe])),y(),v(!0)}if(t.contains(d))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){E(document,"mousemove",this._onTouchMove),E(document,"touchmove",this._onTouchMove),E(document,"pointermove",this._onTouchMove),E(document,"dragover",oe),E(document,"mousemove",oe),E(document,"touchmove",oe)},_offUpEvents:function(){var e=this.el.ownerDocument;E(e,"mouseup",this._onDrop),E(e,"touchend",this._onDrop),E(e,"pointerup",this._onDrop),E(e,"pointercancel",this._onDrop),E(e,"touchcancel",this._onDrop),E(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(G=z(d),Q=z(d,n.draggable),R("drop",this,{evt:e}),O=d&&d.parentNode,G=z(d),Q=z(d,n.draggable),p.eventCanceled){this._nulling();return}de=!1,ke=!1,Te=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ot(this.cloneId),ot(this._dragStartId),this.nativeDraggable&&(E(document,"drop",this),E(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_e&&g(document.body,"user-select",""),g(d,"transform",""),e&&(ye&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(T===O||P&&P.lastPutMode!=="clone")&&I&&I.parentNode&&I.parentNode.removeChild(I),d&&(this.nativeDraggable&&E(d,"dragend",this),et(d),d.style["will-change"]="",ye&&!de&&B(d,P?P.options.ghostClass:this.options.ghostClass,!1),B(d,this.options.chosenClass,!1),k({sortable:this,name:"unchoose",toEl:O,newIndex:null,newDraggableIndex:null,originalEvent:e}),T!==O?(G>=0&&(k({rootEl:O,name:"add",toEl:O,fromEl:T,originalEvent:e}),k({sortable:this,name:"remove",toEl:O,originalEvent:e}),k({rootEl:O,name:"sort",toEl:O,fromEl:T,originalEvent:e}),k({sortable:this,name:"sort",toEl:O,originalEvent:e})),P&&P.save()):G!==ce&&G>=0&&(k({sortable:this,name:"update",toEl:O,originalEvent:e}),k({sortable:this,name:"sort",toEl:O,originalEvent:e})),p.active&&((G==null||G===-1)&&(G=ce,Q=Se),k({sortable:this,name:"end",toEl:O,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){R("nulling",this),T=d=O=m=ae=I=Ye=ee=re=H=ye=G=Q=ce=Se=ue=Ce=P=Me=p.dragged=p.ghost=p.clone=p.active=null,$e.forEach(function(e){e.checked=!0}),$e.length=Ke=Ze=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),cn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,r=0,o=n.length,a=this.options;r<o;r++)t=n[r],L(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||vn(t));return e},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(o,a){var l=r.children[a];L(l,this.options.draggable,r,!1)&&(n[o]=l)},this),t&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(r.removeChild(n[o]),r.appendChild(n[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return L(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var r=Oe.modifyOption(this,e,t);typeof r!="undefined"?n[e]=r:n[e]=t,e==="group"&&Mt(n)},destroy:function(){R("destroy",this);var e=this.el;e[X]=null,E(e,"mousedown",this._onTapStart),E(e,"touchstart",this._onTapStart),E(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(E(e,"dragover",this),E(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),We.splice(We.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(R("hideClone",this),p.eventCanceled)return;g(I,"display","none"),this.options.removeCloneOnHide&&I.parentNode&&I.parentNode.removeChild(I),ee=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ee){if(R("showClone",this),p.eventCanceled)return;d.parentNode==T&&!this.options.group.revertClone?T.insertBefore(I,d):ae?T.insertBefore(I,ae):T.appendChild(I),this.options.group.revertClone&&this.animate(d,I),g(I,"display",""),ee=!1}}};function cn(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Re(i,e,t,n,r,o,a,l){var s,u=i[X],h=u.options.onMove,c;return window.CustomEvent&&!J&&!Ie?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=i,s.dragged=t,s.draggedRect=n,s.related=r||e,s.relatedRect=o||N(e),s.willInsertAfter=l,s.originalEvent=a,i.dispatchEvent(s),h&&(c=h.call(u,s,a)),c}function et(i){i.draggable=!1}function fn(){rt=!1}function hn(i,e,t){var n=N(he(t.el,0,t.options,!0)),r=xt(t.el,t.options,m),o=10;return e?i.clientX<r.left-o||i.clientY<n.top&&i.clientX<n.right:i.clientY<r.top-o||i.clientY<n.bottom&&i.clientX<n.left}function gn(i,e,t){var n=N(ut(t.el,t.options.draggable)),r=xt(t.el,t.options,m),o=10;return e?i.clientX>r.right+o||i.clientY>n.bottom&&i.clientX>n.left:i.clientY>r.bottom+o||i.clientX>n.right&&i.clientY>n.top}function pn(i,e,t,n,r,o,a,l){var s=n?i.clientY:i.clientX,u=n?t.height:t.width,h=n?t.top:t.left,c=n?t.bottom:t.right,b=!1;if(!a){if(l&&Be<u*r){if(!Te&&(Ce===1?s>h+u*o/2:s<c-u*o/2)&&(Te=!0),Te)b=!0;else if(Ce===1?s<h+Be:s>c-Be)return-Ce}else if(s>h+u*(1-r)/2&&s<c-u*(1-r)/2)return mn(e)}return b=b||a,b&&(s<h+u*o/2||s>c-u*o/2)?s>h+u/2?1:-1:0}function mn(i){return z(d)<z(i)?1:-1}function vn(i){for(var e=i.tagName+i.className+i.src+i.href+i.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function bn(i){$e.length=0;for(var e=i.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&$e.push(n)}}function Ge(i){return setTimeout(i,0)}function ot(i){return clearTimeout(i)}Ue&&_(document,"touchmove",function(i){(p.active||de)&&i.cancelable&&i.preventDefault()});p.utils={on:_,off:E,css:g,find:Tt,is:function(e,t){return!!L(e,t,e,!1)},extend:Qt,throttle:It,closest:L,toggleClass:B,clone:At,index:z,nextTick:Ge,cancelNextTick:ot,detectDirection:Pt,getChild:he,expando:X};p.get=function(i){return i[X]};p.mount=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=j(j({},p.utils),n.utils)),Oe.mount(n)})};p.create=function(i,e){return new p(i,e)};p.version=Kt;var x=[],Ee,at,lt=!1,tt,nt,je,we;function yn(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return i.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):this.options.supportPointer?_(document,"pointermove",this._handleFallbackAutoScroll):n.touches?_(document,"touchmove",this._handleFallbackAutoScroll):_(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):(E(document,"pointermove",this._handleFallbackAutoScroll),E(document,"touchmove",this._handleFallbackAutoScroll),E(document,"mousemove",this._handleFallbackAutoScroll)),_t(),ze(),en()},nulling:function(){je=at=Ee=lt=we=tt=nt=null,x.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var r=this,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(o,a);if(je=t,n||this.options.forceAutoScrollFallback||Ie||J||_e){it(t,this.options,l,n);var s=te(l,!0);lt&&(!we||o!==tt||a!==nt)&&(we&&_t(),we=setInterval(function(){var u=te(document.elementFromPoint(o,a),!0);u!==s&&(s=u,ze()),it(t,r.options,u,n)},10),tt=o,nt=a)}else{if(!this.options.bubbleScroll||te(l,!0)===$()){ze();return}it(t,this.options,te(l,!1),!1)}}},q(i,{pluginName:"scroll",initializeByDefault:!0})}function ze(){x.forEach(function(i){clearInterval(i.pid)}),x=[]}function _t(){clearInterval(we)}var it=It(function(i,e,t,n){if(e.scroll){var r=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,s=$(),u=!1,h;at!==t&&(at=t,ze(),Ee=e.scroll,h=e.scrollFn,Ee===!0&&(Ee=te(t,!0)));var c=0,b=Ee;do{var S=b,w=N(S),D=w.top,F=w.bottom,f=w.left,v=w.right,y=w.width,A=w.height,C=void 0,W=void 0,ne=S.scrollWidth,ge=S.scrollHeight,Y=g(S),pe=S.scrollLeft,K=S.scrollTop;S===s?(C=y<ne&&(Y.overflowX==="auto"||Y.overflowX==="scroll"||Y.overflowX==="visible"),W=A<ge&&(Y.overflowY==="auto"||Y.overflowY==="scroll"||Y.overflowY==="visible")):(C=y<ne&&(Y.overflowX==="auto"||Y.overflowX==="scroll"),W=A<ge&&(Y.overflowY==="auto"||Y.overflowY==="scroll"));var me=C&&(Math.abs(v-r)<=a&&pe+y<ne)-(Math.abs(f-r)<=a&&!!pe),U=W&&(Math.abs(F-o)<=a&&K+A<ge)-(Math.abs(D-o)<=a&&!!K);if(!x[c])for(var ie=0;ie<=c;ie++)x[ie]||(x[ie]={});(x[c].vx!=me||x[c].vy!=U||x[c].el!==S)&&(x[c].el=S,x[c].vx=me,x[c].vy=U,clearInterval(x[c].pid),(me!=0||U!=0)&&(u=!0,x[c].pid=setInterval(function(){n&&this.layer===0&&p.active._onTouchMove(je);var ve=x[this.layer].vy?x[this.layer].vy*l:0,Z=x[this.layer].vx?x[this.layer].vx*l:0;typeof h=="function"&&h.call(p.dragged.parentNode[X],Z,ve,i,je,x[this.layer].el)!=="continue"||Ot(x[this.layer].el,Z,ve)}.bind({layer:c}),24))),c++}while(e.bubbleScroll&&b!==s&&(b=te(b,!1)));lt=u}},30),Rt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var u=n||o;l();var h=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(h.clientX,h.clientY);s(),u&&!u.el.contains(c)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function dt(){}dt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=he(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Rt};q(dt,{pluginName:"revertOnSpill"});function ct(){}ct.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:Rt};q(ct,{pluginName:"removeOnSpill"});p.mount(new yn);p.mount(ct,dt);const En=["data-card-id"],wn=["href","target","title"],_n=["src","onError"],Dn={class:"link-text"},Sn={key:0,class:"card-btns"},Cn=["checked","onClick"],Tn=["onClick"],In=["onClick"],On={__name:"CardGrid",props:{cards:Array,editMode:Boolean,selectedCards:Array,categoryId:Number,subCategoryId:[Number,null]},emits:["cardsReordered","editCard","deleteCard","toggleCardSelection"],setup(i,{emit:e}){const t=i,n=e,r=Gt(null);let o=null;function a(){if(!t.editMode||o)return;const f=r.value;f&&(o=new p(f,{animation:150,group:"cards",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",handle:".drag-handle",filter:".card-btn, .card-checkbox",preventOnFilter:!1,onEnd:v=>{const y=v.to,A=Array.from(y.children).map(C=>parseInt(C.getAttribute("data-card-id"))).filter(C=>!isNaN(C));n("cardsReordered",A,t.categoryId,t.subCategoryId)}}))}function l(){o&&(o.destroy(),o=null)}ht(()=>t.editMode,f=>{f?xe(()=>a()):l()}),zt(()=>{t.editMode&&xe(()=>a())}),Ht(()=>{l()}),ht(()=>t.cards,(f,v)=>{f&&f.length>0&&(!v||v.length===0||JSON.stringify(f)!==JSON.stringify(v))&&xe(()=>{t.editMode&&(l(),xe(()=>a()))})},{deep:!0,immediate:!1});function s(f){return{background:F[f%F.length]}}function u(f){try{return new URL(f).origin}catch(v){return null}}function h(f){if(f.logo_url)return f.logo_url;const v=u(f.url);return v?`https://api.xinac.net/icon/?url=${v}&sz=128`:"/default-favicon.png"}const c=[f=>`https://api.xinac.net/icon/?url=${f}&sz=128`,f=>`https://api.afmax.cn/so/ico/index.php?r=${f}&sz=128`,f=>`https://icon.horse/icon/${f}`,f=>`https://www.google.com/s2/favicons?domain=${f}&sz=128`,f=>`https://favicon.im/${f}?larger=true`];function b(f,v){const y=f.target.src,A=u(v.url);if(!A){f.target.src="/default-favicon.png";return}f.target._cdnIndex===void 0&&(f.target._cdnIndex=0);for(let C=0;C<c.length;C++)if(c[C](A),y.includes("api.xinac.net")&&C===0||y.includes("api.afmax.cn")&&C===1||y.includes("icon.horse")&&C===2||y.includes("www.google.com/s2/favicons")&&C===3||y.includes("favicon.im")&&C===4){if(C+1<c.length){f.target._cdnIndex=C+1,f.target.src=c[C+1](A);return}break}f.target.src="/default-favicon.png"}function S(f){let v="";return f.desc&&(v+=f.desc+`
`),f.tags&&f.tags.length>0&&(v+="Ê†áÁ≠æ: "+f.tags.map(y=>y.name).join(", ")+`
`),v+=f.url,v}function w(f){return f?f.length>20?f.slice(0,20)+"...":f:""}function D(f){var v;return((v=t.selectedCards)==null?void 0:v.some(y=>y.id===f.id))||!1}const F=["linear-gradient(135deg, rgba(102, 126, 234, 0.8) 0%, rgba(118, 75, 162, 0.8) 100%)","linear-gradient(135deg, rgba(240, 147, 251, 0.8) 0%, rgba(245, 87, 108, 0.8) 100%)","linear-gradient(135deg, rgba(79, 172, 254, 0.8) 0%, rgba(0, 242, 254, 0.8) 100%)","linear-gradient(135deg, rgba(67, 233, 123, 0.8) 0%, rgba(56, 249, 215, 0.8) 100%)","linear-gradient(135deg, rgba(250, 112, 154, 0.8) 0%, rgba(254, 225, 64, 0.8) 100%)","linear-gradient(135deg, rgba(48, 207, 208, 0.8) 0%, rgba(51, 8, 103, 0.8) 100%)","linear-gradient(135deg, rgba(168, 237, 234, 0.8) 0%, rgba(254, 214, 227, 0.8) 100%)","linear-gradient(135deg, rgba(255, 154, 158, 0.8) 0%, rgba(254, 207, 239, 0.8) 100%)","linear-gradient(135deg, rgba(255, 236, 210, 0.8) 0%, rgba(252, 182, 159, 0.8) 100%)","linear-gradient(135deg, rgba(255, 110, 127, 0.8) 0%, rgba(191, 233, 255, 0.8) 100%)","linear-gradient(135deg, rgba(224, 195, 252, 0.8) 0%, rgba(142, 197, 252, 0.8) 100%)","linear-gradient(135deg, rgba(248, 177, 149, 0.8) 0%, rgba(246, 114, 128, 0.8) 100%)","linear-gradient(135deg, rgba(210, 153, 194, 0.8) 0%, rgba(254, 249, 215, 0.8) 100%)","linear-gradient(135deg, rgba(253, 219, 146, 0.8) 0%, rgba(209, 253, 255, 0.8) 100%)","linear-gradient(135deg, rgba(152, 144, 227, 0.8) 0%, rgba(177, 244, 207, 0.8) 100%)","linear-gradient(135deg, rgba(235, 192, 253, 0.8) 0%, rgba(217, 222, 216, 0.8) 100%)","linear-gradient(135deg, rgba(150, 251, 196, 0.8) 0%, rgba(249, 245, 134, 0.8) 100%)","linear-gradient(135deg, rgba(253, 160, 133, 0.8) 0%, rgba(246, 211, 101, 0.8) 100%)"];return(f,v)=>(Pe(),Ne("div",{ref_key:"cardGridRef",ref:r,class:Ve(["container card-grid",{"edit-mode":i.editMode}])},[(Pe(!0),Ne(Lt,null,Wt(i.cards,(y,A)=>(Pe(),Ne("div",{key:y.id,class:Ve(["link-item",{draggable:i.editMode}]),"data-card-id":y.id,style:$t(s(A))},[le("a",{href:i.editMode?"javascript:void(0)":y.url,target:i.editMode?"":"_blank",title:S(y),onClick:v[0]||(v[0]=C=>i.editMode?C.preventDefault():null),class:Ve({"drag-handle":i.editMode})},[le("img",{class:"link-icon",src:h(y),alt:"",onError:C=>b(C,y),loading:"lazy"},null,40,_n),le("span",Dn,Ut(w(y.title)),1)],10,wn),i.editMode?(Pe(),Ne("div",Sn,[le("input",{type:"checkbox",class:"card-checkbox",checked:D(y),onClick:C=>f.$emit("toggleCardSelection",y),title:"ÈÄâ‰∏≠"},null,8,Cn),le("button",{onClick:C=>f.$emit("editCard",y),class:"card-btn edit-btn",title:"ÁºñËæë"},"‚úèÔ∏è",8,Tn),le("button",{onClick:C=>f.$emit("deleteCard",y),class:"card-btn del-btn",title:"Âà†Èô§"},"üóëÔ∏è",8,In)])):jt("",!0)],14,En))),128))],2))}},Nn=Bt(On,[["__scopeId","data-v-1e9dcd31"]]);export{Nn as default};
