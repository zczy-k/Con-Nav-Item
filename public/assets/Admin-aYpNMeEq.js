var Se=Object.defineProperty,Le=Object.defineProperties;var We=Object.getOwnPropertyDescriptors;var Ce=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var Me=(z,d,u)=>d in z?Se(z,d,{enumerable:!0,configurable:!0,writable:!0,value:u}):z[d]=u,me=(z,d)=>{for(var u in d||(d={}))Ne.call(d,u)&&Me(z,u,d[u]);if(Ce)for(var u of Ce(d))ze.call(d,u)&&Me(z,u,d[u]);return z},ge=(z,d)=>Le(z,We(d));var B=(z,d,u)=>new Promise((U,V)=>{var L=n=>{try{D(u.next(n))}catch(m){V(m)}},A=n=>{try{D(u.throw(n))}catch(m){V(m)}},D=n=>n.done?U(n.value):Promise.resolve(n.value).then(L,A);D((u=u.apply(z,d)).next())});import{_ as Z,c as r,o as i,d as e,t as _,z as ie,r as g,g as le,a as N,j as x,v as I,l as ke,F as q,b as J,e as ne,A as xe,B as ye,q as P,x as _e,w as $e,n as F,C as ae,y as he,p as oe,h as Ee,D as Pe,i as He,k as Oe,T as Fe,E as Re,G as je,H as qe}from"./index-DudR1lSj.js";import{g as De,l as Je,w as Ge,t as Ke,u as Qe,m as Xe,n as Ye,c as Te,j as Ze,o as Ve,x as Be,f as et,z as tt,A as st,B as we,C as lt,D as at,E as ot,F as nt,G as be,b as it,H as dt,I as rt,J as ut,K as ct,L as vt,M as pt,N as mt}from"./urlNormalizer-CK9zOwnQ.js";const bt={class:"welcome-page"},ft={class:"welcome-title"},gt={class:"welcome-cards"},ht={class:"welcome-card"},wt={class:"welcome-value"},kt={class:"welcome-card"},yt={class:"welcome-value"},_t={__name:"WelcomePage",props:{lastLoginTime:String,lastLoginIp:String,currentUsername:String},setup(z){return(d,u)=>(i(),r("div",bt,[e("h2",ft,"æ¬¢è¿æ‚¨ï¼Œ"+_(z.currentUsername||"admin")+"ï¼",1),e("div",gt,[e("div",ht,[u[0]||(u[0]=ie('<div class="welcome-icon time-icon" data-v-5cc4f846><svg width="32" height="32" viewBox="0 0 24 24" fill="none" data-v-5cc4f846><circle cx="12" cy="12" r="10" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></circle><path d="M12 6v6l4 2" stroke="#1abc9c" stroke-width="2" stroke-linecap="round" data-v-5cc4f846></path></svg></div><div class="welcome-label" data-v-5cc4f846>ä¸Šæ¬¡ç™»å½•æ—¶é—´</div>',2)),e("div",wt,_(z.lastLoginTime||"--"),1)]),e("div",kt,[u[1]||(u[1]=ie('<div class="welcome-icon ip-icon" data-v-5cc4f846><svg width="32" height="32" viewBox="0 0 24 24" fill="none" data-v-5cc4f846><circle cx="12" cy="12" r="10" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></circle><path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8z" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></path><circle cx="12" cy="12" r="2" fill="#1abc9c" data-v-5cc4f846></circle></svg></div><div class="welcome-label" data-v-5cc4f846>ä¸Šæ¬¡ç™»å½•IP</div>',2)),e("div",yt,_(z.lastLoginIp||"--"),1)])])]))}},$t=Z(_t,[["__scopeId","data-v-5cc4f846"]]),Ct={class:"menu-manage"},Mt={key:0,class:"loading-overlay"},xt={class:"menu-header"},Vt={class:"menu-add"},Bt=["disabled"],Ut={class:"menu-content"},Dt={key:0,class:"empty-state"},Tt={class:"menu-card-header"},At={class:"menu-title"},It={class:"menu-name"},St={class:"menu-order"},Lt={class:"menu-actions"},Wt=["onClick"],Nt=["onClick"],zt=["onClick"],Et={key:0,class:"sub-menu-list"},Pt={class:"sub-menu-name"},Ht={class:"sub-menu-order"},Ot={class:"sub-menu-actions"},Ft=["onClick"],Rt=["onClick"],jt={key:1,class:"no-sub-menu"},qt={key:1,class:"modal-overlay"},Jt={class:"modal"},Gt={class:"modal-header"},Kt={class:"modal-body"},Qt={class:"form-group"},Xt={class:"form-group"},Yt={class:"modal-footer"},Zt=["disabled"],es={key:2,class:"modal-overlay"},ts={class:"modal"},ss={class:"modal-header"},ls={class:"modal-body"},as={class:"form-group"},os={class:"form-group"},ns={class:"modal-footer"},is=["disabled"],ds={key:3,class:"modal-overlay"},rs={class:"modal"},us={class:"modal-body"},cs={class:"form-group"},vs={class:"form-group"},ps={class:"modal-footer"},ms=["disabled"],bs={__name:"MenuManage",setup(z){const d=g([]),u=g(!1),U=g("åŠ è½½ä¸­..."),V=g(""),L=g(!1),A=g(null),D=g({name:"",order:0}),n=g(!1),m=g(null),b=g(""),p=g({name:"",order:0}),k=g(!1),v=g(null),a=g({name:"",order:0});le(()=>{l()});function o(){try{window.dispatchEvent(new CustomEvent("nav-menus-updated")),console.log("[æ ç›®ç®¡ç†] å·²é€šçŸ¥æ‰©å±•åˆ·æ–°å³é”®èœå•")}catch(W){console.warn("[æ ç›®ç®¡ç†] é€šçŸ¥æ‰©å±•å¤±è´¥:",W)}}function l(W=!1){return B(this,null,function*(){var f,M;u.value=!0,U.value="åŠ è½½ä¸­...";try{const T=yield De(!0);d.value=T.data||[],W&&o()}catch(T){alert("åŠ è½½å¤±è´¥: "+(((M=(f=T.response)==null?void 0:f.data)==null?void 0:M.error)||T.message))}finally{u.value=!1}})}function C(){return B(this,null,function*(){var W,f;if(V.value.trim()){u.value=!0,U.value="æ·»åŠ ä¸­...";try{const M=d.value.length?Math.max(...d.value.map(T=>T.order||0)):0;yield Je({name:V.value.trim(),order:M+1}),V.value="",yield l(!0)}catch(M){alert("æ·»åŠ å¤±è´¥: "+(((f=(W=M.response)==null?void 0:W.data)==null?void 0:f.error)||M.message)),u.value=!1}}})}function y(W){A.value=W,D.value={name:W.name,order:W.order},L.value=!0}function $(){return B(this,null,function*(){var T,c;if(!D.value.name.trim()||!A.value)return;const W=A.value.id,f=D.value.name.trim(),M=D.value.order;O(),u.value=!0,U.value="ä¿å­˜ä¸­...";try{yield Qe(W,{name:f,order:M}),yield l(!0)}catch(s){alert("ä¿å­˜å¤±è´¥: "+(((c=(T=s.response)==null?void 0:T.data)==null?void 0:c.error)||s.message)),u.value=!1}})}function H(W){return B(this,null,function*(){var f,M;if(confirm(`ç¡®å®šåˆ é™¤ä¸»èœå•ã€Œ${W.name}ã€å—ï¼Ÿ
å°†åŒæ—¶åˆ é™¤å…¶ä¸‹æ‰€æœ‰å­èœå•å’Œå¡ç‰‡ï¼`)){u.value=!0,U.value="åˆ é™¤ä¸­...";try{yield Ge(W.id),yield l(!0)}catch(T){alert("åˆ é™¤å¤±è´¥: "+(((M=(f=T.response)==null?void 0:f.data)==null?void 0:M.error)||T.message)),u.value=!1}}})}function Q(W){m.value=W.id,b.value=W.name;const f=W.subMenus||[],M=f.length?Math.max(...f.map(T=>T.order||0)):0;p.value={name:"",order:M+1},n.value=!0}function X(){return B(this,null,function*(){var T,c;if(!p.value.name.trim()||!m.value)return;const W=m.value,f=p.value.name.trim(),M=p.value.order;O(),u.value=!0,U.value="æ·»åŠ ä¸­...";try{yield Xe(W,{name:f,order:M}),yield l(!0)}catch(s){alert("æ·»åŠ å¤±è´¥: "+(((c=(T=s.response)==null?void 0:T.data)==null?void 0:c.error)||s.message)),u.value=!1}})}function Y(W,f){v.value=f,a.value={name:f.name,order:f.order},k.value=!0}function te(){return B(this,null,function*(){var T,c;if(!a.value.name.trim()||!v.value)return;const W=v.value.id,f=a.value.name.trim(),M=a.value.order;O(),u.value=!0,U.value="ä¿å­˜ä¸­...";try{yield Ye(W,{name:f,order:M}),yield l(!0)}catch(s){alert("ä¿å­˜å¤±è´¥: "+(((c=(T=s.response)==null?void 0:T.data)==null?void 0:c.error)||s.message)),u.value=!1}})}function R(W){return B(this,null,function*(){var f,M;if(confirm(`ç¡®å®šåˆ é™¤å­èœå•ã€Œ${W.name}ã€å—ï¼Ÿ
å°†åŒæ—¶åˆ é™¤å…¶ä¸‹æ‰€æœ‰å¡ç‰‡ï¼`)){u.value=!0,U.value="åˆ é™¤ä¸­...";try{yield Ke(W.id),yield l(!0)}catch(T){alert("åˆ é™¤å¤±è´¥: "+(((M=(f=T.response)==null?void 0:f.data)==null?void 0:M.error)||T.message)),u.value=!1}}})}function O(){L.value=!1,n.value=!1,k.value=!1,A.value=null,v.value=null}return(W,f)=>(i(),r("div",Ct,[u.value?(i(),r("div",Mt,[f[7]||(f[7]=e("div",{class:"loading-spinner"},null,-1)),e("span",null,_(U.value),1)])):N("",!0),e("div",xt,[f[8]||(f[8]=e("h2",{class:"page-title"},"æ ç›®ç®¡ç†",-1)),e("div",Vt,[x(e("input",{"onUpdate:modelValue":f[0]||(f[0]=M=>V.value=M),placeholder:"è¾“å…¥ä¸»èœå•åç§°",class:"input",onKeyup:ke(C,["enter"])},null,544),[[I,V.value]]),e("button",{class:"btn btn-primary",onClick:C,disabled:u.value||!V.value.trim()}," + æ·»åŠ ä¸»èœå• ",8,Bt)])]),e("div",Ut,[d.value.length===0?(i(),r("div",Dt,[...f[9]||(f[9]=[e("p",null,"æš‚æ— èœå•ï¼Œè¯·æ·»åŠ ç¬¬ä¸€ä¸ªä¸»èœå•",-1)])])):N("",!0),(i(!0),r(q,null,J(d.value,M=>(i(),r("div",{key:M.id,class:"menu-card"},[e("div",Tt,[e("div",At,[e("span",It,_(M.name),1),e("span",St,"æ’åº: "+_(M.order),1)]),e("div",Lt,[e("button",{class:"btn-icon btn-edit",onClick:T=>y(M),title:"ç¼–è¾‘"},[...f[10]||(f[10]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Wt),e("button",{class:"btn-icon btn-add",onClick:T=>Q(M),title:"æ·»åŠ å­èœå•"},[...f[11]||(f[11]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1)])],8,Nt),e("button",{class:"btn-icon btn-delete",onClick:T=>H(M),title:"åˆ é™¤"},[...f[12]||(f[12]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"})],-1)])],8,zt)])]),M.subMenus&&M.subMenus.length>0?(i(),r("div",Et,[(i(!0),r(q,null,J(M.subMenus,T=>(i(),r("div",{key:T.id,class:"sub-menu-item"},[e("span",Pt,_(T.name),1),e("span",Ht,"æ’åº: "+_(T.order),1),e("div",Ot,[e("button",{class:"btn-icon-sm btn-edit",onClick:c=>Y(M,T),title:"ç¼–è¾‘"},[...f[13]||(f[13]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Ft),e("button",{class:"btn-icon-sm btn-delete",onClick:c=>R(T),title:"åˆ é™¤"},[...f[14]||(f[14]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"})],-1)])],8,Rt)])]))),128))])):(i(),r("div",jt,[...f[15]||(f[15]=[e("span",null,"æš‚æ— å­èœå•",-1)])]))]))),128))]),L.value?(i(),r("div",qt,[e("div",Jt,[e("div",Gt,[e("h3",null,_(A.value?"ç¼–è¾‘ä¸»èœå•":"æ·»åŠ å­èœå•"),1),e("button",{class:"modal-close",onClick:O},"Ã—")]),e("div",Kt,[e("div",Qt,[f[16]||(f[16]=e("label",null,"åç§°",-1)),x(e("input",{"onUpdate:modelValue":f[1]||(f[1]=M=>D.value.name=M),type:"text",class:"input",placeholder:"è¯·è¾“å…¥åç§°"},null,512),[[I,D.value.name]])]),e("div",Xt,[f[17]||(f[17]=e("label",null,"æ’åº",-1)),x(e("input",{"onUpdate:modelValue":f[2]||(f[2]=M=>D.value.order=M),type:"number",class:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"},null,512),[[I,D.value.order,void 0,{number:!0}]])])]),e("div",Yt,[e("button",{class:"btn btn-cancel",onClick:O},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:$,disabled:!D.value.name.trim()},"ä¿å­˜",8,Zt)])])])):N("",!0),n.value?(i(),r("div",es,[e("div",ts,[e("div",ss,[e("h3",null,"æ·»åŠ å­èœå•åˆ°ã€Œ"+_(b.value)+"ã€",1),e("button",{class:"modal-close",onClick:O},"Ã—")]),e("div",ls,[e("div",as,[f[18]||(f[18]=e("label",null,"å­èœå•åç§°",-1)),x(e("input",{"onUpdate:modelValue":f[3]||(f[3]=M=>p.value.name=M),type:"text",class:"input",placeholder:"è¯·è¾“å…¥å­èœå•åç§°"},null,512),[[I,p.value.name]])]),e("div",os,[f[19]||(f[19]=e("label",null,"æ’åº",-1)),x(e("input",{"onUpdate:modelValue":f[4]||(f[4]=M=>p.value.order=M),type:"number",class:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"},null,512),[[I,p.value.order,void 0,{number:!0}]])])]),e("div",ns,[e("button",{class:"btn btn-cancel",onClick:O},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:X,disabled:!p.value.name.trim()},"æ·»åŠ ",8,is)])])])):N("",!0),k.value?(i(),r("div",ds,[e("div",rs,[e("div",{class:"modal-header"},[f[20]||(f[20]=e("h3",null,"ç¼–è¾‘å­èœå•",-1)),e("button",{class:"modal-close",onClick:O},"Ã—")]),e("div",us,[e("div",cs,[f[21]||(f[21]=e("label",null,"å­èœå•åç§°",-1)),x(e("input",{"onUpdate:modelValue":f[5]||(f[5]=M=>a.value.name=M),type:"text",class:"input",placeholder:"è¯·è¾“å…¥å­èœå•åç§°"},null,512),[[I,a.value.name]])]),e("div",vs,[f[22]||(f[22]=e("label",null,"æ’åº",-1)),x(e("input",{"onUpdate:modelValue":f[6]||(f[6]=M=>a.value.order=M),type:"number",class:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"},null,512),[[I,a.value.order,void 0,{number:!0}]])])]),e("div",ps,[e("button",{class:"btn btn-cancel",onClick:O},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:te,disabled:!a.value.name.trim()},"ä¿å­˜",8,ms)])])])):N("",!0)]))}},fs=Z(bs,[["__scopeId","data-v-7671c3a1"]]),gs={class:"card-manage"},hs={class:"card-header"},ws={class:"card-add"},ks=["value"],ys=["value"],_s={class:"card-card"},$s={class:"card-table"},Cs=["onUpdate:modelValue","onBlur"],Ms=["onUpdate:modelValue","onBlur"],xs=["onUpdate:modelValue","onBlur"],Vs=["onUpdate:modelValue","onBlur"],Bs=["onClick"],Us={key:0,class:"selected-tags"},Ds={key:1,class:"tag-placeholder"},Ts=["onUpdate:modelValue","onBlur"],As=["onClick"],Is={class:"modal-body"},Ss={key:0,class:"empty-tags"},Ls={key:1,class:"tag-options"},Ws=["checked","onChange"],Ns={class:"modal-body"},zs={class:"duplicate-comparison"},Es={class:"card-info-box existing"},Ps={class:"card-details"},Hs={class:"detail-row"},Os={class:"detail-value"},Fs={class:"detail-row"},Rs={class:"detail-value url"},js={key:0,class:"detail-row"},qs={class:"detail-value url"},Js={class:"card-info-box pending"},Gs={class:"card-details"},Ks={class:"detail-row"},Qs={class:"detail-value"},Xs={class:"detail-row"},Ys={class:"detail-value url"},Zs={key:0,class:"detail-row"},el={class:"detail-value url"},tl={__name:"CardManage",setup(z){const d=g([]),u=g([]),U=g(),V=g(""),L=g(""),A=g(""),D=g(""),n=g([]),m=g(!1),b=g(null),p=g([]),k=g(!1),v=g(null),a=g(null),o=ne(()=>{if(!U.value)return[];const c=d.value.find(s=>s.id===U.value);return(c==null?void 0:c.subMenus)||[]});le(()=>B(null,null,function*(){const c=yield De();d.value=c.data,d.value.length&&(U.value=d.value[0].id,V.value="");const s=yield Te();n.value=s.data})),xe(U,()=>{V.value="",y()}),xe(V,y);function l(){V.value=""}function C(){y()}function y(){return B(this,null,function*(){if(!U.value)return;const c=yield et(U.value,V.value||null);u.value=c.data})}function $(){return B(this,null,function*(){if(!L.value||!A.value)return;const c=u.value.find(s=>Ze({title:L.value,url:A.value},s));c?(v.value=c,a.value={menu_id:U.value,sub_menu_id:V.value||null,title:L.value,url:A.value,logo_url:D.value},k.value=!0):yield O({menu_id:U.value,sub_menu_id:V.value||null,title:L.value,url:A.value,logo_url:D.value})})}function H(c){return B(this,null,function*(){yield Ve(c.id,{menu_id:U.value,sub_menu_id:V.value||null,title:c.title,url:c.url,logo_url:c.logo_url,desc:c.desc,order:c.order,tagIds:c.tags?c.tags.map(s=>s.id):[]}),y()})}function Q(c){return B(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å¡ç‰‡å—ï¼Ÿ"))return;const s=u.value.findIndex(se=>se.id===c);s>-1&&u.value.splice(s,1);try{yield Be(c)}catch(se){console.error("åˆ é™¤å¡ç‰‡å¤±è´¥:",se),yield y()}})}function X(c){b.value=c,p.value=c.tags?c.tags.map(s=>s.id):[],m.value=!0}function Y(){m.value=!1,b.value=null,p.value=[]}function te(c){const s=p.value.indexOf(c);s>-1?p.value.splice(s,1):p.value.push(c)}function R(){return B(this,null,function*(){b.value&&(yield Ve(b.value.id,{menu_id:b.value.menu_id,sub_menu_id:b.value.sub_menu_id,title:b.value.title,url:b.value.url,logo_url:b.value.logo_url,desc:b.value.desc,order:b.value.order,tagIds:p.value}),Y(),y())})}function O(c){return B(this,null,function*(){yield tt(c),L.value="",A.value="",D.value="",y()})}function W(){k.value=!1,v.value=null,a.value=null}function f(){W(),L.value="",A.value="",D.value=""}function M(){return B(this,null,function*(){!a.value||!v.value||(yield Be(v.value.id),yield O(a.value),W())})}function T(){a.value&&(L.value=a.value.title,A.value=a.value.url,D.value=a.value.logo_url||"",W(),alert("è¯·ä¿®æ”¹å¡ç‰‡ä¿¡æ¯åå†æ¬¡ç‚¹å‡»â€œæ·»åŠ å¡ç‰‡â€æŒ‰é’®"))}return(c,s)=>{var se,de,re,ue,K,ce,ve,ee;return i(),r("div",gs,[e("div",hs,[s[9]||(s[9]=e("div",{class:"header-content"},[e("h2",{class:"page-title"},"ç®¡ç†ç½‘ç«™å¯¼èˆªå¡ç‰‡ï¼Œæ”¯æŒä¸»èœå•å’Œå­èœå•åˆ†ç±»")],-1)),e("div",ws,[x(e("select",{"onUpdate:modelValue":s[0]||(s[0]=S=>U.value=S),class:"input narrow",onChange:l},[(i(!0),r(q,null,J(d.value,S=>(i(),r("option",{value:S.id,key:S.id},_(S.name),9,ks))),128))],544),[[ye,U.value]]),x(e("select",{"onUpdate:modelValue":s[1]||(s[1]=S=>V.value=S),class:"input narrow",onChange:C},[s[7]||(s[7]=e("option",{value:""},"ä¸»èœå•",-1)),(i(!0),r(q,null,J(o.value,S=>(i(),r("option",{value:S.id,key:S.id},_(S.name),9,ys))),128))],544),[[ye,V.value]]),x(e("input",{"onUpdate:modelValue":s[2]||(s[2]=S=>L.value=S),placeholder:"å¡ç‰‡æ ‡é¢˜",class:"input narrow"},null,512),[[I,L.value]]),x(e("input",{"onUpdate:modelValue":s[3]||(s[3]=S=>A.value=S),placeholder:"å¡ç‰‡é“¾æ¥",class:"input wide"},null,512),[[I,A.value]]),x(e("input",{"onUpdate:modelValue":s[4]||(s[4]=S=>D.value=S),placeholder:"logoé“¾æ¥(å¯é€‰)",class:"input wide"},null,512),[[I,D.value]]),e("button",{class:"btn",onClick:$},[...s[8]||(s[8]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),P(" æ·»åŠ å¡ç‰‡ ",-1)])])])]),e("div",_s,[e("table",$s,[s[11]||(s[11]=e("thead",null,[e("tr",null,[e("th",null,"æ ‡é¢˜"),e("th",null,"ç½‘å€"),e("th",null,"Logoé“¾æ¥"),e("th",null,"æè¿°"),e("th",null,"æ ‡ç­¾"),e("th",null,"æ’åº"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(i(!0),r(q,null,J(u.value,S=>(i(),r("tr",{key:S.id},[e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.title=E,onBlur:E=>H(S),class:"table-input"},null,40,Cs),[[I,S.title]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.url=E,onBlur:E=>H(S),class:"table-input"},null,40,Ms),[[I,S.url]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.logo_url=E,onBlur:E=>H(S),class:"table-input",placeholder:"logoé“¾æ¥(å¯é€‰)"},null,40,xs),[[I,S.logo_url]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.desc=E,onBlur:E=>H(S),class:"table-input",placeholder:"æè¿°ï¼ˆå¯é€‰ï¼‰"},null,40,Vs),[[I,S.desc]])]),e("td",null,[e("div",{class:"tag-selector",onClick:E=>X(S)},[S.tags&&S.tags.length>0?(i(),r("div",Us,[(i(!0),r(q,null,J(S.tags,E=>(i(),r("span",{key:E.id,class:"mini-tag",style:_e({backgroundColor:E.color})},_(E.name),5))),128))])):(i(),r("span",Ds,"é€‰æ‹©æ ‡ç­¾"))],8,Bs)]),e("td",null,[x(e("input",{"onUpdate:modelValue":E=>S.order=E,type:"number",onBlur:E=>H(S),class:"table-input order-input"},null,40,Ts),[[I,S.order,void 0,{number:!0}]])]),e("td",null,[e("button",{class:"btn btn-danger btn-icon",onClick:E=>Q(S.id),title:"åˆ é™¤"},[...s[10]||(s[10]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,As)])]))),128))])])]),m.value?(i(),r("div",{key:0,class:"modal-overlay",onClick:Y},[e("div",{class:"modal-content",onClick:s[5]||(s[5]=$e(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[12]||(s[12]=e("h3",null,"é€‰æ‹©æ ‡ç­¾",-1)),e("button",{class:"close-btn",onClick:Y},"Ã—")]),e("div",Is,[n.value.length===0?(i(),r("div",Ss,[...s[13]||(s[13]=[e("p",null,"æš‚æ— æ ‡ç­¾ï¼Œè¯·å…ˆåœ¨æ ‡ç­¾ç®¡ç†é¡µé¢åˆ›å»º",-1)])])):(i(),r("div",Ls,[(i(!0),r(q,null,J(n.value,S=>(i(),r("label",{key:S.id,class:"tag-option"},[e("input",{type:"checkbox",checked:p.value.includes(S.id),onChange:E=>te(S.id)},null,40,Ws),e("span",{class:"tag-label",style:_e({backgroundColor:S.color})},_(S.name),5)]))),128))]))]),e("div",{class:"modal-footer"},[e("button",{class:"btn btn-secondary",onClick:Y},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:R},"ç¡®å®š")])])])):N("",!0),k.value?(i(),r("div",{key:1,class:"modal-overlay",onClick:W},[e("div",{class:"modal-content duplicate-modal",onClick:s[6]||(s[6]=$e(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[14]||(s[14]=ie('<div class="header-with-icon" data-v-edd548d5><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2" data-v-edd548d5><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" data-v-edd548d5></path><line x1="12" y1="9" x2="12" y2="13" data-v-edd548d5></line><line x1="12" y1="17" x2="12.01" y2="17" data-v-edd548d5></line></svg><h3 data-v-edd548d5>æ£€æµ‹åˆ°é‡å¤å¡ç‰‡</h3></div>',1)),e("button",{class:"close-btn",onClick:W},"Ã—")]),e("div",Ns,[s[24]||(s[24]=e("div",{class:"duplicate-warning"},[e("p",{class:"warning-text"},"æ‚¨è¦æ·»åŠ çš„å¡ç‰‡ä¸ä»¥ä¸‹ç°æœ‰å¡ç‰‡é‡å¤ï¼š")],-1)),e("div",zs,[e("div",Es,[s[18]||(s[18]=e("div",{class:"box-header"},[e("span",{class:"box-label"},"ç°æœ‰å¡ç‰‡")],-1)),e("div",Ps,[e("div",Hs,[s[15]||(s[15]=e("span",{class:"detail-label"},"æ ‡é¢˜ï¼š",-1)),e("span",Os,_((se=v.value)==null?void 0:se.title),1)]),e("div",Fs,[s[16]||(s[16]=e("span",{class:"detail-label"},"ç½‘å€ï¼š",-1)),e("span",Rs,_((de=v.value)==null?void 0:de.url),1)]),(re=v.value)!=null&&re.logo_url?(i(),r("div",js,[s[17]||(s[17]=e("span",{class:"detail-label"},"Logoï¼š",-1)),e("span",qs,_((ue=v.value)==null?void 0:ue.logo_url),1)])):N("",!0)])]),s[23]||(s[23]=e("div",{class:"arrow-divider"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#9ca3af","stroke-width":"2"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})])],-1)),e("div",Js,[s[22]||(s[22]=e("div",{class:"box-header"},[e("span",{class:"box-label"},"å¾…æ·»åŠ å¡ç‰‡")],-1)),e("div",Gs,[e("div",Ks,[s[19]||(s[19]=e("span",{class:"detail-label"},"æ ‡é¢˜ï¼š",-1)),e("span",Qs,_((K=a.value)==null?void 0:K.title),1)]),e("div",Xs,[s[20]||(s[20]=e("span",{class:"detail-label"},"ç½‘å€ï¼š",-1)),e("span",Ys,_((ce=a.value)==null?void 0:ce.url),1)]),(ve=a.value)!=null&&ve.logo_url?(i(),r("div",Zs,[s[21]||(s[21]=e("span",{class:"detail-label"},"Logoï¼š",-1)),e("span",el,_((ee=a.value)==null?void 0:ee.logo_url),1)])):N("",!0)])])]),s[25]||(s[25]=e("div",{class:"duplicate-actions-info"},[e("p",null,"è¯·é€‰æ‹©å¦‚ä½•å¤„ç†ï¼š")],-1))]),e("div",{class:"modal-footer duplicate-footer"},[e("button",{class:"btn btn-secondary",onClick:f},[...s[26]||(s[26]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1),P(" è·³è¿‡ ",-1)])]),e("button",{class:"btn btn-warning",onClick:M},[...s[27]||(s[27]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 12a9 9 0 11-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),e("path",{d:"M21 3v5h-5"})],-1),P(" æ›¿æ¢ ",-1)])]),e("button",{class:"btn btn-primary",onClick:T},[...s[28]||(s[28]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),P(" ç¼–è¾‘åæ·»åŠ  ",-1)])])])])])):N("",!0)])}}},sl=Z(tl,[["__scopeId","data-v-edd548d5"]]),ll={class:"duplicate-manage"},al={class:"section-header"},ol=["disabled"],nl={key:0,class:"duplicate-results"},il={class:"result-summary"},dl={class:"summary-card"},rl={class:"summary-value"},ul={class:"summary-card warning"},cl={class:"summary-value"},vl={class:"summary-card danger"},pl={class:"summary-value"},ml={class:"duplicate-groups"},bl={class:"group-header"},fl={class:"group-count"},gl={class:"card-item original"},hl={class:"card-info"},wl={class:"card-title"},kl={class:"card-url"},yl={key:0,class:"card-desc"},_l={class:"card-id"},$l={class:"duplicates-list"},Cl={class:"card-info"},Ml={class:"card-title"},xl={class:"card-url"},Vl={key:0,class:"card-desc"},Bl={class:"card-actions"},Ul={class:"card-id"},Dl=["onClick","disabled"],Tl={class:"group-actions"},Al=["onClick","disabled"],Il={class:"global-actions"},Sl=["disabled"],Ll={key:1,class:"no-duplicates"},Wl={key:2,class:"initial-hint"},Nl={key:3,class:"error"},zl={__name:"DuplicateManage",setup(z){const d=g(!1),u=g(!1),U=g(!1),V=g([]),L=g(0),A=g(0),D=g("");function n(){return B(this,null,function*(){var k,v;d.value=!0,D.value="";try{const a=yield st();L.value=a.data.total,V.value=a.data.duplicateGroups,A.value=a.data.duplicateCount,U.value=!0}catch(a){D.value=((v=(k=a.response)==null?void 0:k.data)==null?void 0:v.error)||"æ£€æµ‹å¤±è´¥",console.error("æ£€æµ‹é‡å¤å¤±è´¥:",a)}finally{d.value=!1}})}function m(k){return B(this,null,function*(){var v,a,o;if(confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å¡ç‰‡å—ï¼Ÿ")){u.value=!0,D.value="";try{console.log("[å»é‡ç®¡ç†] åˆ é™¤å•ä¸ªå¡ç‰‡:",k);const l=yield we([k]);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",l.data),l.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield n()):D.value="åˆ é™¤å¤±è´¥ï¼š"+(l.data.message||"æœªçŸ¥é”™è¯¯")}catch(l){console.error("[å»é‡ç®¡ç†] åˆ é™¤å¡ç‰‡å¤±è´¥:",l),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(v=l.response)==null?void 0:v.data),D.value=((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||l.message||"åˆ é™¤å¤±è´¥"}finally{u.value=!1}}})}function b(k){return B(this,null,function*(){var a,o,l;const v=k.duplicates.length;if(confirm(`ç¡®å®šè¦åˆ é™¤è¿™ ${v} å¼ é‡å¤å¡ç‰‡å—ï¼Ÿ

å°†ä¿ç•™ï¼š${k.original.title}`)){u.value=!0,D.value="";try{const C=k.duplicates.map($=>$.id);console.log("[å»é‡ç®¡ç†] åˆ é™¤ä¸€ç»„é‡å¤å¡ç‰‡:",C);const y=yield we(C);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",y.data),y.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield n()):D.value="åˆ é™¤å¤±è´¥ï¼š"+(y.data.message||"æœªçŸ¥é”™è¯¯")}catch(C){console.error("[å»é‡ç®¡ç†] åˆ é™¤é‡å¤å¡ç‰‡å¤±è´¥:",C),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(a=C.response)==null?void 0:a.data),D.value=((l=(o=C.response)==null?void 0:o.data)==null?void 0:l.error)||C.message||"åˆ é™¤å¤±è´¥"}finally{u.value=!1}}})}function p(){return B(this,null,function*(){var v,a,o;const k=A.value;if(confirm(`ç¡®å®šè¦åˆ é™¤æ‰€æœ‰ ${k} å¼ é‡å¤å¡ç‰‡å—ï¼Ÿ

æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`)){u.value=!0,D.value="";try{const l=V.value.flatMap(y=>y.duplicates.map($=>$.id));console.log("[å»é‡ç®¡ç†] åˆ é™¤æ‰€æœ‰é‡å¤å¡ç‰‡:",l);const C=yield we(l);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",C.data),C.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield n()):D.value="åˆ é™¤å¤±è´¥ï¼š"+(C.data.message||"æœªçŸ¥é”™è¯¯")}catch(l){console.error("[å»é‡ç®¡ç†] åˆ é™¤æ‰€æœ‰é‡å¤å¤±è´¥:",l),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(v=l.response)==null?void 0:v.data),D.value=((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||l.message||"åˆ é™¤å¤±è´¥"}finally{u.value=!1}}})}return(k,v)=>(i(),r("div",ll,[e("div",al,[v[0]||(v[0]=e("h3",null,"å¡ç‰‡å»é‡ç®¡ç†",-1)),e("button",{onClick:n,class:"btn btn-primary",disabled:d.value},_(d.value?"æ£€æµ‹ä¸­...":"ğŸ” ä¸€é”®æ£€æµ‹é‡å¤"),9,ol)]),V.value.length>0?(i(),r("div",nl,[e("div",il,[e("div",dl,[v[1]||(v[1]=e("div",{class:"summary-label"},"æ€»å¡ç‰‡æ•°",-1)),e("div",rl,_(L.value),1)]),e("div",ul,[v[2]||(v[2]=e("div",{class:"summary-label"},"é‡å¤ç»„æ•°",-1)),e("div",cl,_(V.value.length),1)]),e("div",vl,[v[3]||(v[3]=e("div",{class:"summary-label"},"é‡å¤å¡ç‰‡",-1)),e("div",pl,_(A.value),1)])]),e("div",ml,[(i(!0),r(q,null,J(V.value,(a,o)=>(i(),r("div",{key:o,class:"duplicate-group"},[e("div",bl,[e("h4",null,"é‡å¤ç»„ "+_(o+1),1),e("span",fl,_(a.totalCount)+" å¼ å¡ç‰‡",1)]),e("div",gl,[v[4]||(v[4]=e("div",{class:"card-badge"},"ä¿ç•™",-1)),e("div",hl,[e("div",wl,_(a.original.title),1),e("div",kl,_(a.original.url),1),a.original.desc?(i(),r("div",yl,_(a.original.desc),1)):N("",!0)]),e("div",_l,"ID: "+_(a.original.id),1)]),e("div",$l,[(i(!0),r(q,null,J(a.duplicates,l=>(i(),r("div",{key:l.id,class:"card-item duplicate"},[v[5]||(v[5]=e("div",{class:"card-badge danger"},"é‡å¤",-1)),e("div",Cl,[e("div",Ml,_(l.title),1),e("div",xl,_(l.url),1),l.desc?(i(),r("div",Vl,_(l.desc),1)):N("",!0)]),e("div",Bl,[e("span",Ul,"ID: "+_(l.id),1),e("button",{onClick:C=>m(l.id),class:"btn-remove",disabled:u.value,title:"åˆ é™¤æ­¤å¡ç‰‡"}," åˆ é™¤ ",8,Dl)])]))),128))]),e("div",Tl,[e("button",{onClick:l=>b(a),class:"btn btn-danger",disabled:u.value}," åˆ é™¤æ­¤ç»„æ‰€æœ‰é‡å¤å¡ç‰‡ ("+_(a.duplicates.length)+" å¼ ) ",9,Al)])]))),128))]),e("div",Il,[e("button",{onClick:p,class:"btn btn-danger btn-large",disabled:u.value},_(u.value?"åˆ é™¤ä¸­...":`åˆ é™¤æ‰€æœ‰é‡å¤å¡ç‰‡ (${A.value} å¼ )`),9,Sl)])])):U.value&&V.value.length===0?(i(),r("div",Ll,[...v[6]||(v[6]=[e("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"#1abc9c","stroke-width":"2"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})],-1),e("h3",null,"å¤ªæ£’äº†ï¼æ²¡æœ‰å‘ç°é‡å¤å¡ç‰‡",-1),e("p",null,"æ‚¨çš„å¯¼èˆªå¡ç‰‡éƒ½æ˜¯å”¯ä¸€çš„",-1)])])):U.value?N("",!0):(i(),r("div",Wl,[...v[7]||(v[7]=[ie('<svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2" data-v-62bbc778><circle cx="12" cy="12" r="10" data-v-62bbc778></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" data-v-62bbc778></path><line x1="12" y1="17" x2="12.01" y2="17" data-v-62bbc778></line></svg><h3 data-v-62bbc778>ç‚¹å‡»&quot;ä¸€é”®æ£€æµ‹é‡å¤&quot;å¼€å§‹æ‰«æ</h3><p data-v-62bbc778>ç³»ç»Ÿå°†æ£€æµ‹æ‰€æœ‰é‡å¤çš„å¯¼èˆªå¡ç‰‡</p><ul class="hint-list" data-v-62bbc778><li data-v-62bbc778>ğŸ“Œ URL ç›¸åŒçš„å¡ç‰‡</li><li data-v-62bbc778>ğŸ“Œ æ ‡é¢˜ç›¸åŒä¸”åŸŸåç›¸åŒçš„å¡ç‰‡</li></ul>',4)])])),D.value?(i(),r("p",Nl,_(D.value),1)):N("",!0)]))}},El=Z(zl,[["__scopeId","data-v-62bbc778"]]),Pl={class:"tag-manage"},Hl={class:"tag-header"},Ol={class:"tag-add"},Fl={class:"tag-content"},Rl={key:0,class:"empty-state"},jl={key:1,class:"tag-list"},ql={class:"tag-info"},Jl=["onUpdate:modelValue","onBlur"],Gl={class:"tag-stats"},Kl={class:"card-count"},Ql={class:"tag-controls"},Xl=["onUpdate:modelValue","onChange"],Yl={class:"tag-order"},Zl=["onUpdate:modelValue","onBlur"],ea={class:"tag-actions"},ta=["onClick"],sa={__name:"TagManage",setup(z){const d=g([]),u=g(""),U=g("#2566d8");le(V);function V(){return B(this,null,function*(){const n=yield Te();d.value=n.data;for(const m of d.value)try{const b=yield lt(m.id);m.cardCount=b.data.count}catch(b){m.cardCount=0}})}function L(){return B(this,null,function*(){var k,v;if(!u.value.trim())return;const n=d.value.length?Math.max(...d.value.map(a=>a.order||0)):0,m=u.value.trim(),b=U.value,p={id:Date.now(),name:m,color:b,order:n+1,cardCount:0,_temp:!0};d.value.push(p),u.value="",U.value="#2566d8";try{const a=yield at({name:m,color:b,order:n+1}),o=d.value.findIndex(l=>l.id===p.id);o>-1&&(d.value[o]=ge(me({},a.data),{cardCount:0}))}catch(a){const o=d.value.findIndex(l=>l.id===p.id);o>-1&&d.value.splice(o,1),alert("æ·»åŠ æ ‡ç­¾å¤±è´¥ï¼š"+(((v=(k=a.response)==null?void 0:k.data)==null?void 0:v.error)||a.message))}})}function A(n){return B(this,null,function*(){var m,b;if(!n._temp)try{yield ot(n.id,{name:n.name,color:n.color,order:n.order})}catch(p){alert("æ›´æ–°æ ‡ç­¾å¤±è´¥ï¼š"+(((b=(m=p.response)==null?void 0:m.data)==null?void 0:b.error)||p.message)),V()}})}function D(n){return B(this,null,function*(){var k,v;const m=d.value.find(a=>a.id===n);if(!m)return;const b=m.cardCount>0?`ç¡®å®šè¦åˆ é™¤æ ‡ç­¾"${m.name}"å—ï¼Ÿè¿™å°†å–æ¶ˆ ${m.cardCount} å¼ å¡ç‰‡çš„å…³è”ã€‚`:`ç¡®å®šè¦åˆ é™¤æ ‡ç­¾"${m.name}"å—ï¼Ÿ`;if(!confirm(b))return;const p=d.value.findIndex(a=>a.id===n);p>-1&&d.value.splice(p,1);try{yield nt(n)}catch(a){alert("åˆ é™¤æ ‡ç­¾å¤±è´¥ï¼š"+(((v=(k=a.response)==null?void 0:k.data)==null?void 0:v.error)||a.message)),V()}})}return(n,m)=>(i(),r("div",Pl,[e("div",Hl,[m[3]||(m[3]=e("div",{class:"header-content"},[e("h2",{class:"page-title"},"ç®¡ç†æ ‡ç­¾"),e("p",{class:"page-desc"},"ä¸ºå¡ç‰‡åˆ›å»ºå¤šç»´åº¦åˆ†ç±»æ ‡ç­¾")],-1)),e("div",Ol,[x(e("input",{"onUpdate:modelValue":m[0]||(m[0]=b=>u.value=b),placeholder:"æ ‡ç­¾åç§°",class:"input",maxlength:"20"},null,512),[[I,u.value]]),x(e("input",{"onUpdate:modelValue":m[1]||(m[1]=b=>U.value=b),type:"color",class:"color-input",title:"é€‰æ‹©æ ‡ç­¾é¢œè‰²"},null,512),[[I,U.value]]),e("button",{class:"btn btn-primary",onClick:L},[...m[2]||(m[2]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),P(" æ·»åŠ æ ‡ç­¾ ",-1)])])])]),e("div",Fl,[d.value.length===0?(i(),r("div",Rl,[...m[4]||(m[4]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1),e("p",null,"æš‚æ— æ ‡ç­¾",-1),e("p",{class:"hint"},"åˆ›å»ºç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼Œå¼€å§‹ä¸ºå¡ç‰‡æ·»åŠ å¤šç»´åº¦åˆ†ç±»",-1)])])):(i(),r("div",jl,[(i(!0),r(q,null,J(d.value,b=>(i(),r("div",{key:b.id,class:"tag-item"},[e("div",{class:"tag-preview",style:_e({backgroundColor:b.color})},[...m[5]||(m[5]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1)])],4),e("div",ql,[x(e("input",{"onUpdate:modelValue":p=>b.name=p,onBlur:p=>A(b),class:"tag-name-input",maxlength:"20"},null,40,Jl),[[I,b.name]]),e("div",Gl,[e("span",Kl,_(b.cardCount||0)+" å¼ å¡ç‰‡",1)])]),e("div",Ql,[x(e("input",{"onUpdate:modelValue":p=>b.color=p,type:"color",onChange:p=>A(b),class:"color-picker",title:"æ›´æ”¹é¢œè‰²"},null,40,Xl),[[I,b.color]]),e("div",Yl,[m[6]||(m[6]=e("span",{class:"order-label"},"æ’åº",-1)),x(e("input",{"onUpdate:modelValue":p=>b.order=p,type:"number",onBlur:p=>A(b),class:"order-input"},null,40,Zl),[[I,b.order,void 0,{number:!0}]])])]),e("div",ea,[e("button",{class:"btn btn-danger btn-icon",onClick:p=>D(b.id),title:"åˆ é™¤æ ‡ç­¾"},[...m[7]||(m[7]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,ta)])]))),128))]))])]))}},la=Z(sa,[["__scopeId","data-v-56efcb56"]]),aa={class:"promo-manage"},oa={key:0,class:"loading-overlay"},na={class:"promo-header"},ia={class:"promo-form"},da=["disabled"],ra={class:"promo-section"},ua={class:"promo-list"},ca={key:0,class:"empty-state"},va={class:"promo-preview"},pa=["src"],ma={class:"promo-info"},ba={class:"promo-field"},fa=["onUpdate:modelValue","onBlur"],ga={class:"promo-field"},ha=["onUpdate:modelValue","onBlur"],wa={class:"promo-actions"},ka=["onClick"],ya={class:"promo-section"},_a={class:"promo-list"},$a={key:0,class:"empty-state"},Ca={class:"promo-preview"},Ma=["src"],xa={class:"promo-info"},Va={class:"promo-field"},Ba=["onUpdate:modelValue","onBlur"],Ua={class:"promo-field"},Da=["onUpdate:modelValue","onBlur"],Ta={class:"promo-actions"},Aa=["onClick"],fe="/api",Ia={__name:"PromoManage",setup(z){const d=()=>localStorage.getItem("token")||"",u=()=>({Authorization:`Bearer ${d()}`}),U=g([]),V=g(!1),L=g("åŠ è½½ä¸­..."),A=g({img:"",url:"",position:"left"}),D=ne(()=>U.value.filter(a=>a.position==="left")),n=ne(()=>U.value.filter(a=>a.position==="right"));le(()=>{m()});function m(){return B(this,null,function*(){var a,o;V.value=!0,L.value="åŠ è½½ä¸­...";try{const l=yield be.get(`${fe}/promos`);let C=[];Array.isArray(l.data)?C=l.data:l.data&&Array.isArray(l.data.data)&&(C=l.data.data),U.value=C}catch(l){console.error("åŠ è½½å®£ä¼ å¤±è´¥:",l),alert("åŠ è½½å®£ä¼ å¤±è´¥: "+(((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||l.message))}finally{V.value=!1}})}function b(){return B(this,null,function*(){var a,o;if(!A.value.img||!A.value.url){alert("è¯·å¡«å†™å®£ä¼ å›¾ç‰‡é“¾æ¥å’Œè·³è½¬é“¾æ¥");return}V.value=!0,L.value="æ·»åŠ ä¸­...";try{yield be.post(`${fe}/promos`,A.value,{headers:u()}),A.value={img:"",url:"",position:"left"},yield m()}catch(l){alert("æ·»åŠ å¤±è´¥: "+(((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.error)||l.message)),V.value=!1}})}function p(a){return B(this,null,function*(){var o,l;try{yield be.put(`${fe}/promos/${a.id}`,{img:a.img,url:a.url},{headers:u()})}catch(C){alert("æ›´æ–°å¤±è´¥: "+(((l=(o=C.response)==null?void 0:o.data)==null?void 0:l.error)||C.message)),yield m()}})}function k(a){return B(this,null,function*(){var o,l;if(confirm("ç¡®å®šåˆ é™¤è¿™ä¸ªå®£ä¼ å—ï¼Ÿ")){V.value=!0,L.value="åˆ é™¤ä¸­...";try{yield be.delete(`${fe}/promos/${a.id}`,{headers:u()}),yield m()}catch(C){alert("åˆ é™¤å¤±è´¥: "+(((l=(o=C.response)==null?void 0:o.data)==null?void 0:l.error)||C.message)),V.value=!1}}})}function v(a){a.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="60"><rect fill="%23f0f0f0" width="100" height="60"/><text x="50" y="35" text-anchor="middle" fill="%23999" font-size="12">å›¾ç‰‡åŠ è½½å¤±è´¥</text></svg>'}return(a,o)=>(i(),r("div",aa,[V.value?(i(),r("div",oa,[o[3]||(o[3]=e("div",{class:"loading-spinner"},null,-1)),e("span",null,_(L.value),1)])):N("",!0),e("div",na,[o[5]||(o[5]=e("h2",{class:"page-title"},"å®£ä¼ ç®¡ç†",-1)),e("div",ia,[x(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>A.value.img=l),placeholder:"å®£ä¼ å›¾ç‰‡é“¾æ¥",class:"input"},null,512),[[I,A.value.img]]),x(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>A.value.url=l),placeholder:"å®£ä¼ è·³è½¬é“¾æ¥",class:"input"},null,512),[[I,A.value.url]]),x(e("select",{"onUpdate:modelValue":o[2]||(o[2]=l=>A.value.position=l),class:"input select"},[...o[4]||(o[4]=[e("option",{value:"left"},"å·¦ä¾§å®£ä¼ ",-1),e("option",{value:"right"},"å³ä¾§å®£ä¼ ",-1)])],512),[[ye,A.value.position]]),e("button",{class:"btn btn-primary",onClick:b,disabled:!A.value.img||!A.value.url}," + æ·»åŠ å®£ä¼  ",8,da)])]),e("div",ra,[o[8]||(o[8]=e("h3",{class:"section-title"},"ğŸ“ å·¦ä¾§å®£ä¼ ",-1)),e("div",ua,[D.value.length===0?(i(),r("div",ca,"æš‚æ— å·¦ä¾§å®£ä¼ ")):N("",!0),(i(!0),r(q,null,J(D.value,l=>(i(),r("div",{key:l.id,class:"promo-card"},[e("div",va,[e("img",{src:l.img,alt:"å®£ä¼ å›¾ç‰‡",onError:v},null,40,pa)]),e("div",ma,[e("div",ba,[o[6]||(o[6]=e("label",null,"å›¾ç‰‡é“¾æ¥",-1)),x(e("input",{"onUpdate:modelValue":C=>l.img=C,class:"input",onBlur:C=>p(l)},null,40,fa),[[I,l.img]])]),e("div",ga,[o[7]||(o[7]=e("label",null,"è·³è½¬é“¾æ¥",-1)),x(e("input",{"onUpdate:modelValue":C=>l.url=C,class:"input",onBlur:C=>p(l)},null,40,ha),[[I,l.url]])])]),e("div",wa,[e("button",{class:"btn btn-danger",onClick:C=>k(l)},"åˆ é™¤",8,ka)])]))),128))])]),e("div",ya,[o[11]||(o[11]=e("h3",{class:"section-title"},"ğŸ“ å³ä¾§å®£ä¼ ",-1)),e("div",_a,[n.value.length===0?(i(),r("div",$a,"æš‚æ— å³ä¾§å®£ä¼ ")):N("",!0),(i(!0),r(q,null,J(n.value,l=>(i(),r("div",{key:l.id,class:"promo-card"},[e("div",Ca,[e("img",{src:l.img,alt:"å®£ä¼ å›¾ç‰‡",onError:v},null,40,Ma)]),e("div",xa,[e("div",Va,[o[9]||(o[9]=e("label",null,"å›¾ç‰‡é“¾æ¥",-1)),x(e("input",{"onUpdate:modelValue":C=>l.img=C,class:"input",onBlur:C=>p(l)},null,40,Ba),[[I,l.img]])]),e("div",Ua,[o[10]||(o[10]=e("label",null,"è·³è½¬é“¾æ¥",-1)),x(e("input",{"onUpdate:modelValue":C=>l.url=C,class:"input",onBlur:C=>p(l)},null,40,Da),[[I,l.url]])])]),e("div",Ta,[e("button",{class:"btn btn-danger",onClick:C=>k(l)},"åˆ é™¤",8,Aa)])]))),128))])])]))}},Sa=Z(Ia,[["__scopeId","data-v-0221fbc3"]]),La={class:"friend-manage"},Wa={class:"friend-add"},Na={class:"friend-card"},za={class:"friend-table"},Ea=["onUpdate:modelValue","onBlur"],Pa=["onUpdate:modelValue","onBlur"],Ha=["onUpdate:modelValue","onBlur"],Oa=["onClick"],Fa={__name:"FriendLinkManage",setup(z){const d=g([]),u=g(""),U=g(""),V=g("");le(L);function L(){return B(this,null,function*(){const m=yield it();d.value=m.data})}function A(){return B(this,null,function*(){!u.value||!U.value||(yield dt({title:u.value,url:U.value,logo:V.value}),u.value="",U.value="",V.value="",L())})}function D(m){return B(this,null,function*(){yield rt(m.id,{title:m.title,url:m.url,logo:m.logo}),L()})}function n(m){return B(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå‹é“¾å—ï¼Ÿ"))return;const b=d.value.findIndex(p=>p.id===m);b>-1&&d.value.splice(b,1);try{yield ut(m)}catch(p){console.error("åˆ é™¤å‹é“¾å¤±è´¥:",p),yield L()}})}return(m,b)=>(i(),r("div",La,[b[4]||(b[4]=e("div",{class:"friend-header"},null,-1)),e("div",Wa,[x(e("input",{"onUpdate:modelValue":b[0]||(b[0]=p=>u.value=p),placeholder:"ç½‘ç«™å",class:"input"},null,512),[[I,u.value]]),x(e("input",{"onUpdate:modelValue":b[1]||(b[1]=p=>U.value=p),placeholder:"ç½‘ç«™é“¾æ¥",class:"input"},null,512),[[I,U.value]]),x(e("input",{"onUpdate:modelValue":b[2]||(b[2]=p=>V.value=p),placeholder:"logoé“¾æ¥(å¯é€‰)",class:"input"},null,512),[[I,V.value]]),e("button",{class:"btn",onClick:A},"æ·»åŠ å‹é“¾")]),e("div",Na,[e("table",za,[b[3]||(b[3]=e("thead",null,[e("tr",null,[e("th",null,"ç½‘ç«™å"),e("th",null,"é“¾æ¥"),e("th",null,"Logo"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(i(!0),r(q,null,J(d.value,p=>(i(),r("tr",{key:p.id},[e("td",null,[x(e("input",{"onUpdate:modelValue":k=>p.title=k,onBlur:k=>D(p),class:"input"},null,40,Ea),[[I,p.title]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":k=>p.url=k,onBlur:k=>D(p),class:"input"},null,40,Pa),[[I,p.url]])]),e("td",null,[x(e("input",{"onUpdate:modelValue":k=>p.logo=k,onBlur:k=>D(p),class:"input",placeholder:"logoé“¾æ¥(å¯é€‰)"},null,40,Ha),[[I,p.logo]])]),e("td",null,[e("button",{class:"btn btn-danger",onClick:k=>n(p.id)},"åˆ é™¤",8,Oa)])]))),128))])])])]))}},Ra=Z(Fa,[["__scopeId","data-v-c25e838c"]]),ja={class:"user-manage"},qa={class:"user-card"},Ja={class:"username-section"},Ga={class:"username-form"},Ka={class:"current-username"},Qa={class:"username-display"},Xa={class:"form-group"},Ya={class:"form-actions"},Za=["disabled"],eo={class:"password-section"},to={class:"password-form"},so={class:"form-group"},lo={class:"form-group"},ao={class:"form-group"},oo={class:"form-actions"},no=["disabled"],io={__name:"UserManage",setup(z){const d=g(""),u=g(""),U=g(""),V=g(!1),L=g(""),A=g("success"),D=g({}),n=g(""),m=g(!1),b=g(""),p=g("success");le(()=>B(null,null,function*(){yield k()}));function k(){return B(this,null,function*(){try{const C=yield ct();D.value=C.data.data||C.data}catch(C){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",C)}})}function v(){return B(this,null,function*(){var C,y;if(!n.value){a("è¯·è¾“å…¥æ–°ç”¨æˆ·å","error");return}if(n.value.length<3||n.value.length>20){a("ç”¨æˆ·åé•¿åº¦åº”ä¸º3-20ä½","error");return}if(n.value===D.value.username){a("æ–°ç”¨æˆ·åä¸èƒ½ä¸å½“å‰ç”¨æˆ·åç›¸åŒ","error");return}m.value=!0,b.value="";try{yield vt(n.value),a("ç”¨æˆ·åä¿®æ”¹æˆåŠŸï¼2ç§’åè‡ªåŠ¨é€€å‡ºï¼Œè¯·ä½¿ç”¨æ–°ç”¨æˆ·åé‡æ–°ç™»å½•...","success"),n.value="",setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/admin"},2e3)}catch($){a(((y=(C=$.response)==null?void 0:C.data)==null?void 0:y.message)||"ç”¨æˆ·åä¿®æ”¹å¤±è´¥","error")}finally{m.value=!1}})}function a(C,y){b.value=C,p.value=y,setTimeout(()=>{b.value=""},3e3)}function o(){return B(this,null,function*(){var C,y;if(!d.value||!u.value||!U.value){l("è¯·å¡«å†™æ‰€æœ‰å¯†ç å­—æ®µ","error");return}if(u.value!==U.value){l("ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´","error");return}if(u.value.length<6){l("æ–°å¯†ç é•¿åº¦è‡³å°‘6ä½","error");return}V.value=!0,L.value="";try{yield pt(d.value,u.value),l("å¯†ç ä¿®æ”¹æˆåŠŸ","success"),d.value="",u.value="",U.value=""}catch($){l(((y=(C=$.response)==null?void 0:C.data)==null?void 0:y.message)||"å¯†ç ä¿®æ”¹å¤±è´¥","error")}finally{V.value=!1}})}function l(C,y){L.value=C,A.value=y,C==="å¯†ç ä¿®æ”¹æˆåŠŸ"&&y==="success"?setTimeout(()=>{L.value="2ç§’åè‡ªåŠ¨é€€å‡ºç™»å½•,è¯·ä½¿ç”¨æ–°å¯†ç é‡æ–°ç™»å½•...",setTimeout(()=>{localStorage.removeItem("token"),window.location.reload()},2e3)},500):setTimeout(()=>{L.value=""},3e3)}return(C,y)=>(i(),r("div",ja,[y[11]||(y[11]=e("div",{class:"user-header"},null,-1)),e("div",qa,[e("div",Ja,[y[6]||(y[6]=e("h3",{class:"section-title"},"ä¿®æ”¹ç”¨æˆ·å",-1)),e("div",Ga,[e("div",Ka,[y[4]||(y[4]=e("label",null,"å½“å‰ç”¨æˆ·åï¼š",-1)),e("span",Qa,_(D.value.username||"admin"),1)]),e("div",Xa,[y[5]||(y[5]=e("label",null,"æ–°ç”¨æˆ·åï¼š",-1)),x(e("input",{"onUpdate:modelValue":y[0]||(y[0]=$=>n.value=$),type:"text",placeholder:"è¯·è¾“å…¥æ–°ç”¨æˆ·åï¼ˆ3-20ä½ï¼‰",class:"input"},null,512),[[I,n.value]])]),e("div",Ya,[e("button",{onClick:v,class:"btn",disabled:m.value},_(m.value?"ä¿®æ”¹ä¸­...":"ä¿®æ”¹ç”¨æˆ·å"),9,Za)]),b.value?(i(),r("p",{key:0,class:F(["message",p.value])},_(b.value),3)):N("",!0)])]),e("div",eo,[y[10]||(y[10]=e("h3",{class:"section-title"},"ä¿®æ”¹å¯†ç ",-1)),e("div",to,[e("div",so,[y[7]||(y[7]=e("label",null,"å½“å‰å¯†ç ï¼š",-1)),x(e("input",{"onUpdate:modelValue":y[1]||(y[1]=$=>d.value=$),type:"password",placeholder:"è¯·è¾“å…¥å½“å‰å¯†ç ",class:"input"},null,512),[[I,d.value]])]),e("div",lo,[y[8]||(y[8]=e("label",null,"æ–°å¯†ç ï¼š",-1)),x(e("input",{"onUpdate:modelValue":y[2]||(y[2]=$=>u.value=$),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ",class:"input"},null,512),[[I,u.value]])]),e("div",ao,[y[9]||(y[9]=e("label",null,"ç¡®è®¤æ–°å¯†ç ï¼š",-1)),x(e("input",{"onUpdate:modelValue":y[3]||(y[3]=$=>U.value=$),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ",class:"input"},null,512),[[I,U.value]])]),e("div",oo,[e("button",{onClick:o,class:"btn",disabled:V.value},_(V.value?"ä¿®æ”¹ä¸­...":"ä¿®æ”¹å¯†ç "),9,no)]),L.value?(i(),r("p",{key:0,class:F(["message",A.value])},_(L.value),3)):N("",!0)])])])]))}},ro=Z(io,[["__scopeId","data-v-40392133"]]),uo={class:"backup-manage"},co={class:"tabs"},vo={class:"tab-content"},po={class:"toolbar"},mo=["disabled"],bo=["disabled"],fo=["disabled"],go={class:"backup-list"},ho={key:0,class:"empty-state"},wo={key:1,class:"backup-grid"},ko={class:"backup-info"},yo={class:"backup-name"},_o={class:"backup-meta"},$o={class:"backup-size"},Co={class:"backup-date"},Mo={key:0,class:"backup-signed",title:"å·²ç­¾åéªŒè¯"},xo={key:1,class:"backup-unsigned",title:"æœªç­¾åï¼ˆå¤–éƒ¨ä¸Šä¼ ï¼‰"},Vo={class:"backup-actions"},Bo=["onClick"],Uo=["onClick"],Do=["onClick"],To=["onClick"],Ao={class:"tab-content"},Io={class:"toolbar"},So=["disabled"],Lo=["disabled"],Wo={key:1,class:"info-box"},No={class:"backup-list"},zo={key:0,class:"empty-state"},Eo={key:1,class:"backup-grid"},Po={class:"backup-info"},Ho={class:"backup-name"},Oo={class:"backup-meta"},Fo={class:"backup-size"},Ro={class:"backup-date"},jo={class:"backup-actions"},qo=["onClick"],Jo=["onClick"],Go={class:"tab-content"},Ko={class:"config-section"},Qo={class:"config-card"},Xo={class:"config-header"},Yo={class:"switch"},Zo={key:0,class:"config-fields"},en={class:"field-row"},tn={class:"field-row"},sn={class:"config-card"},ln={class:"config-header"},an={class:"switch"},on={key:0,class:"config-fields"},nn={class:"field-row"},dn={class:"time-input"},rn={class:"field-row"},un={class:"field-row checkbox-row"},cn={class:"checkbox-label"},vn={class:"config-card"},pn={class:"config-header"},mn={class:"switch"},bn={class:"config-info"},fn={key:0,class:"warning-text"},gn={key:0,class:"config-fields"},hn={class:"field-row checkbox-row"},wn={class:"checkbox-label"},kn={class:"field-row checkbox-row"},yn={class:"checkbox-label"},_n={class:"config-card"},$n={class:"config-header"},Cn={class:"switch"},Mn={key:0,class:"stats-card"},xn={class:"stats-grid"},Vn={class:"stat-item"},Bn={class:"stat-value"},Un={class:"stat-item"},Dn={class:"stat-value"},Tn={class:"stat-item"},An={class:"stat-value"},In={class:"stat-item"},Sn={class:"stat-value"},Ln={class:"config-actions"},Wn=["disabled"],Nn={key:0,class:"modal-overlay"},zn={class:"modal-content config-modal"},En={class:"form-group"},Pn={class:"form-group"},Hn={class:"form-group"},On=["placeholder"],Fn={key:0},Rn={key:1},jn={class:"modal-actions"},qn=["disabled"],Jn={key:1,class:"modal-overlay"},Gn={class:"modal-content"},Kn={style:{"white-space":"pre-line"}},Qn={class:"modal-actions"},Xn=["disabled"],Yn=["disabled"],Zn={key:2,class:"modal-overlay"},ei={class:"modal-content config-modal"},ti={class:"form-group"},si={class:"form-group"},li={class:"modal-actions"},ai=["disabled"],oi={key:3,class:"modal-overlay"},ni={class:"modal-content config-modal"},ii={class:"form-group"},di={class:"modal-actions"},ri=["disabled"],ui={__name:"BackupManage",setup(z){const d=g("local"),u=g([]),U=g([]),V=g(!1),L=g(!1),A=g(!1),D=g(null),n=ae({create:!1,list:!1,delete:!1,restore:!1,upload:!1,rename:!1,webdavConfig:!1,webdavBackup:!1,webdavList:!1,webdavRestore:!1,webdavDelete:!1,autoBackupConfig:!1}),m=ae({name:"",description:""}),b=ae({oldName:"",newName:""}),p=g({text:"",type:""}),k=ae({show:!1,filename:"",action:null,title:"",message:"",confirmClass:"",signed:!0,processing:!1}),v=ae({configured:!1,url:"",username:""}),a=ae({url:"",username:"",password:""}),o=ae({debounce:{enabled:!0,delay:5,keep:5},scheduled:{enabled:!0,hour:2,minute:0,keep:7,onlyIfModified:!0},webdav:{enabled:!1,syncDaily:!0,syncIncremental:!0},autoClean:!0}),l=g(null),C=localStorage.getItem("token");function y(j){return B(this,arguments,function*(w,t={}){return(yield fetch(w,ge(me({},t),{headers:me({Authorization:`Bearer ${C}`,"Content-Type":"application/json"},t.headers)}))).json()})}const $=(w,t="success",j=4e3)=>{p.value={text:w,type:t},setTimeout(()=>{p.value={text:"",type:""}},t==="error"?6e3:j)};function H(){try{window.dispatchEvent(new CustomEvent("nav-menus-updated")),console.log("[å¤‡ä»½ç®¡ç†] å·²é€šçŸ¥æ‰©å±•åˆ·æ–°å³é”®èœå•")}catch(w){console.warn("[å¤‡ä»½ç®¡ç†] é€šçŸ¥æ‰©å±•å¤±è´¥:",w)}}const Q=()=>{m.name="",m.description="",L.value=!0},X=()=>B(null,null,function*(){n.create=!0;const w=yield y("/api/backup/create",{method:"POST",body:JSON.stringify({name:m.name||null,description:m.description||null})});w.success?($("å¤‡ä»½åˆ›å»ºæˆåŠŸï¼"),L.value=!1,yield R()):$(w.message||"å¤‡ä»½åˆ›å»ºå¤±è´¥","error"),n.create=!1}),Y=w=>{b.oldName=w,b.newName=w.replace(".zip",""),A.value=!0},te=()=>B(null,null,function*(){if(!b.newName.trim()){$("è¯·è¾“å…¥æ–°åç§°","error");return}n.rename=!0;const w=yield y(`/api/backup/rename/${b.oldName}`,{method:"PUT",body:JSON.stringify({newName:b.newName})});w.success?($("é‡å‘½åæˆåŠŸï¼"),A.value=!1,yield R()):$(w.message||"é‡å‘½åå¤±è´¥","error"),n.rename=!1}),R=()=>B(null,null,function*(){n.list=!0;const w=yield y("/api/backup/list");w.success?u.value=w.backups:$("è·å–å¤‡ä»½åˆ—è¡¨å¤±è´¥","error"),n.list=!1}),O=w=>{window.open(`/api/backup/download/${w}?token=${C}`,"_blank")},W=(w,t)=>{const j=typeof t=="object"?t:{name:t},h=j.name;k.show=!0,k.filename=h,k.action=w,k.signed=j.signed,k.processing=!1,w==="delete"?(k.title="åˆ é™¤",k.message=`ç¡®å®šè¦åˆ é™¤å¤‡ä»½æ–‡ä»¶ ${h} å—ï¼Ÿ`,k.confirmClass="btn-danger"):w==="restore"?(k.title="æ¢å¤",j.signed?k.message=`ç¡®å®šè¦æ¢å¤å¤‡ä»½æ–‡ä»¶ ${h} å—ï¼Ÿ`:k.message=`âš ï¸ è­¦å‘Šï¼šæ­¤å¤‡ä»½æ–‡ä»¶æœªç­¾åï¼ˆå¯èƒ½æ˜¯å¤–éƒ¨ä¸Šä¼ çš„ï¼‰ï¼Œæ— æ³•éªŒè¯å…¶å®Œæ•´æ€§ã€‚

ç¡®å®šè¦æ¢å¤å¤‡ä»½æ–‡ä»¶ ${h} å—ï¼Ÿ`,k.confirmClass="btn-restore"):w==="webdav-restore"?(k.title="ä»WebDAVæ¢å¤",k.message=`ç¡®å®šè¦ä»WebDAVæ¢å¤å¤‡ä»½ ${h} å—ï¼Ÿè¿™å°†è¦†ç›–å½“å‰æ•°æ®ã€‚`,k.confirmClass="btn-restore"):w==="webdav-delete"&&(k.title="åˆ é™¤WebDAVå¤‡ä»½",k.message=`ç¡®å®šè¦åˆ é™¤WebDAVå¤‡ä»½ ${h} å—ï¼Ÿ`,k.confirmClass="btn-danger")},f=()=>B(null,null,function*(){const{action:w,filename:t,signed:j}=k;k.show=!1,k.processing=!1;try{if(w==="delete"){$("æ­£åœ¨åˆ é™¤å¤‡ä»½...");const h=yield y(`/api/backup/delete/${t}`,{method:"DELETE"});h.success?($("âœ“ åˆ é™¤æˆåŠŸ"),yield R()):$("âœ— "+(h.message||"åˆ é™¤å¤±è´¥"),"error")}else if(w==="restore"){$("æ­£åœ¨æ¢å¤å¤‡ä»½ï¼Œè¯·ç¨å€™...");const h=j?{}:{forceRestore:!0},G=yield y(`/api/backup/restore/${t}`,{method:"POST",body:JSON.stringify(h)});if(G.success)$("âœ“ å¤‡ä»½å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½æ•°æ®..."),yield new Promise(pe=>setTimeout(pe,2e3)),yield Promise.all([R(),s(),K(),ee()]),H(),$("âœ“ æ¢å¤å®Œæˆï¼æ•°æ®å·²æ›´æ–°","success",5e3);else if(G.requireConfirm&&G.code==="NO_SIGNATURE"){if(confirm(G.message+`

ç‚¹å‡»"ç¡®å®š"ç»§ç»­æ¢å¤ï¼Œç‚¹å‡»"å–æ¶ˆ"æ”¾å¼ƒæ“ä½œã€‚`)){const pe=yield y(`/api/backup/restore/${t}`,{method:"POST",body:JSON.stringify({forceRestore:!0})});pe.success?($("âœ“ å¤‡ä»½å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½æ•°æ®..."),yield new Promise(Ie=>setTimeout(Ie,2e3)),yield Promise.all([R(),s(),K(),ee()]),H(),$("âœ“ æ¢å¤å®Œæˆï¼æ•°æ®å·²æ›´æ–°","success",5e3)):$("âœ— "+(pe.message||"æ¢å¤å¤±è´¥"),"error")}}else $("âœ— "+(G.message||"æ¢å¤å¤±è´¥"),"error")}else w==="webdav-restore"?yield ce(t):w==="webdav-delete"&&(yield ve(t))}catch(h){$("âœ— æ“ä½œå¤±è´¥: "+h.message,"error")}}),M=w=>w?new Date(w).toLocaleString("zh-CN",{hour12:!1}):"--",T=()=>{D.value.click()},c=w=>B(null,null,function*(){const t=w.target.files[0];if(t){if(!t.name.endsWith(".zip")){$("åªæ”¯æŒ.zipæ ¼å¼çš„å¤‡ä»½æ–‡ä»¶","error"),w.target.value="";return}if(t.size>500*1024*1024){$("å¤‡ä»½æ–‡ä»¶è¿‡å¤§ï¼Œæœ€å¤§æ”¯æŒ500MB","error"),w.target.value="";return}n.upload=!0;try{const j=new FormData;j.append("backup",t);const G=yield(yield fetch("/api/backup/upload",{method:"POST",headers:{Authorization:`Bearer ${C}`},body:j})).json();G.success?($("å¤‡ä»½æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),yield R()):$(G.message||"å¤‡ä»½æ–‡ä»¶ä¸Šä¼ å¤±è´¥","error")}catch(j){console.error("ä¸Šä¼ å¤±è´¥:",j),$("å¤‡ä»½æ–‡ä»¶ä¸Šä¼ å¤±è´¥","error")}finally{n.upload=!1,w.target.value=""}}}),s=()=>B(null,null,function*(){const w=yield y("/api/backup/webdav/config");w.success&&w.config&&(v.configured=w.config.configured,v.url=w.config.url||"",v.username=w.config.username||"")}),se=()=>B(null,null,function*(){yield s(),a.url=v.url,a.username=v.username,a.password="",V.value=!0}),de=()=>B(null,null,function*(){if(!a.url||!a.username){$("è¯·å¡«å†™URLå’Œç”¨æˆ·å","error");return}if(!v.configured&&!a.password){$("é¦–æ¬¡é…ç½®æ—¶å¯†ç ä¸èƒ½ä¸ºç©º","error");return}n.webdavConfig=!0;const w=yield y("/api/backup/webdav/config",{method:"POST",body:JSON.stringify(a)});w.success?(V.value=!1,yield s(),v.configured?(yield K(),yield ee(),o.webdav.enabled?$("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼"):(o.webdav.enabled=!0,(yield y("/api/backup/auto/config",{method:"POST",body:JSON.stringify(o)})).success?$("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼Œå·²è‡ªåŠ¨å¼€å¯WebDAVè‡ªåŠ¨åŒæ­¥ï¼"):$("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼Œä½†è‡ªåŠ¨åŒæ­¥å¼€å¯å¤±è´¥","error"))):$("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼")):$(w.message||"WebDAVé…ç½®ä¿å­˜å¤±è´¥","error"),n.webdavConfig=!1}),re=()=>B(null,null,function*(){n.webdavBackup=!0;const w=yield y("/api/backup/webdav/backup",{method:"POST"});w.success?($("å¤‡ä»½åˆ°WebDAVæˆåŠŸï¼"),yield K()):($(w.message||"å¤‡ä»½åˆ°WebDAVå¤±è´¥","error"),w.needReconfigure&&(v.configured=!1,v.url="",v.username="")),n.webdavBackup=!1}),ue=w=>{w.target.checked&&!v.configured&&(o.webdav.enabled=!1,$('è¯·å…ˆåœ¨"WebDAVå¤‡ä»½"æ ‡ç­¾é¡µé…ç½®WebDAVè¿æ¥',"error"),d.value="webdav")},K=()=>B(null,null,function*(){n.webdavList=!0;const w=yield y("/api/backup/webdav/list");w.success?(U.value=w.backups||[],w.configured===!1&&(v.configured=!1,v.url="",v.username="",w.message&&$(w.message,"error"))):$(w.message||"è·å–WebDAVå¤‡ä»½åˆ—è¡¨å¤±è´¥","error"),n.webdavList=!1}),ce=w=>B(null,null,function*(){$("æ­£åœ¨ä» WebDAV æ¢å¤å¤‡ä»½ï¼Œè¯·ç¨å€™..."),n.webdavRestore=!0;try{const t=yield y("/api/backup/webdav/restore",{method:"POST",body:JSON.stringify({filename:w})});t.success?($("âœ“ å¤‡ä»½å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½æ•°æ®..."),yield new Promise(j=>setTimeout(j,2e3)),yield Promise.all([R(),s(),K(),ee()]),H(),$("âœ“ æ¢å¤å®Œæˆï¼æ•°æ®å·²æ›´æ–°","success",5e3)):($("âœ— "+(t.message||"ä» WebDAV æ¢å¤å¤±è´¥"),"error"),t.needReconfigure&&(v.configured=!1,v.url="",v.username=""))}catch(t){$("âœ— æ¢å¤å¤±è´¥: "+t.message,"error")}finally{n.webdavRestore=!1}}),ve=w=>B(null,null,function*(){$("æ­£åœ¨åˆ é™¤ WebDAV å¤‡ä»½..."),n.webdavDelete=!0;try{const t=yield y(`/api/backup/webdav/delete/${w}`,{method:"DELETE"});t.success?($("âœ“ åˆ é™¤æˆåŠŸ"),yield K()):($("âœ— "+(t.message||"åˆ é™¤å¤±è´¥"),"error"),t.needReconfigure&&(v.configured=!1,v.url="",v.username=""))}catch(t){$("âœ— åˆ é™¤å¤±è´¥: "+t.message,"error")}finally{n.webdavDelete=!1}}),ee=()=>B(null,null,function*(){const w=yield y("/api/backup/auto/config");w.success&&w.config?(Object.assign(o,w.config),l.value=w.stats||null):$("åŠ è½½è‡ªåŠ¨å¤‡ä»½é…ç½®å¤±è´¥","error")}),S=()=>B(null,null,function*(){n.autoBackupConfig=!0;const w=yield y("/api/backup/auto/config",{method:"POST",body:JSON.stringify(o)});w.success?($("è‡ªåŠ¨å¤‡ä»½é…ç½®ä¿å­˜æˆåŠŸï¼"),yield ee()):$(w.message||"è‡ªåŠ¨å¤‡ä»½é…ç½®ä¿å­˜å¤±è´¥","error"),n.autoBackupConfig=!1}),E=()=>{if(!o.scheduled.enabled)return"æœªå¯ç”¨";const w=String(o.scheduled.hour).padStart(2,"0"),t=String(o.scheduled.minute).padStart(2,"0");return`æ¯å¤© ${w}:${t}`},Ae=()=>{confirm("ç¡®å®šè¦æ¢å¤ä¸ºé»˜è®¤é…ç½®å—ï¼Ÿè¿™å°†é‡ç½®æ‰€æœ‰è‡ªåŠ¨å¤‡ä»½è®¾ç½®ã€‚")&&(o.debounce={enabled:!0,delay:5,keep:5},o.scheduled={enabled:!0,hour:2,minute:0,keep:7,onlyIfModified:!0},o.webdav={enabled:!1,syncDaily:!0,syncIncremental:!0},o.autoClean=!0,$('å·²æ¢å¤é»˜è®¤é…ç½®ï¼Œè¯·ç‚¹å‡»"ä¿å­˜é…ç½®"ä»¥ç”Ÿæ•ˆ'))};return le(()=>B(null,null,function*(){yield R(),yield s(),v.configured&&(yield K()),yield ee()})),(w,t)=>{var j;return i(),r("div",uo,[e("div",co,[e("button",{class:F(["tab",{active:d.value==="local"}]),onClick:t[0]||(t[0]=h=>d.value="local")}," ğŸ“¦ æœ¬åœ°å¤‡ä»½ ",2),e("button",{class:F(["tab",{active:d.value==="webdav"}]),onClick:t[1]||(t[1]=h=>d.value="webdav")}," â˜ï¸ WebDAVå¤‡ä»½ ",2),e("button",{class:F(["tab",{active:d.value==="auto"}]),onClick:t[2]||(t[2]=h=>d.value="auto")}," âš™ï¸ è‡ªåŠ¨å¤‡ä»½é…ç½® ",2)]),x(e("div",vo,[e("div",po,[e("button",{class:"btn btn-primary",onClick:Q,disabled:n.create},[t[25]||(t[25]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})],-1)),P(" "+_(n.create?"å¤‡ä»½ä¸­...":"åˆ›å»ºå¤‡ä»½"),1)],8,mo),e("button",{class:"btn btn-success",onClick:T,disabled:n.upload},[t[26]||(t[26]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5-5 5 5M12 15V3"})],-1)),P(" "+_(n.upload?"ä¸Šä¼ ä¸­...":"ä¸Šä¼ å¤‡ä»½"),1)],8,bo),e("button",{class:"btn btn-secondary",onClick:R,disabled:n.list},[t[27]||(t[27]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)),P(" "+_(n.list?"åˆ·æ–°ä¸­...":"åˆ·æ–°åˆ—è¡¨"),1)],8,fo),e("input",{ref_key:"fileInput",ref:D,type:"file",accept:".zip",onChange:c,style:{display:"none"}},null,544)]),p.value.text?(i(),r("div",{key:0,class:F(["message",p.value.type])},_(p.value.text),3)):N("",!0),e("div",go,[u.value.length===0&&!n.list?(i(),r("div",ho,[...t[28]||(t[28]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#ccc","stroke-width":"1.5"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})],-1),e("p",null,"æš‚æ— å¤‡ä»½æ–‡ä»¶",-1)])])):(i(),r("div",wo,[(i(!0),r(q,null,J(u.value,h=>(i(),r("div",{key:h.name,class:"backup-card"},[t[33]||(t[33]=e("div",{class:"backup-icon"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"})])],-1)),e("div",ko,[e("div",yo,_(h.name),1),e("div",_o,[e("span",$o,_(h.size),1),e("span",Co,_(M(h.created)),1),h.signed?(i(),r("span",Mo,"ğŸ”’")):(i(),r("span",xo,"âš ï¸"))])]),e("div",Vo,[e("button",{class:"btn-icon btn-restore",onClick:G=>W("restore",h),title:"æ¢å¤å¤‡ä»½"},[...t[29]||(t[29]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)])],8,Bo),e("button",{class:"btn-icon btn-rename",onClick:G=>Y(h.name),title:"é‡å‘½å"},[...t[30]||(t[30]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Uo),e("button",{class:"btn-icon",onClick:G=>O(h.name),title:"ä¸‹è½½å¤‡ä»½"},[...t[31]||(t[31]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})],-1)])],8,Do),e("button",{class:"btn-icon btn-danger",onClick:G=>W("delete",h.name),title:"åˆ é™¤å¤‡ä»½"},[...t[32]||(t[32]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,To)])]))),128))]))])],512),[[he,d.value==="local"]]),x(e("div",Ao,[e("div",Io,[e("button",{class:"btn btn-primary",onClick:se},[...t[34]||(t[34]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})],-1),P(" WebDAVé…ç½® ",-1)])]),e("button",{class:"btn btn-primary",onClick:re,disabled:n.webdavBackup||!v.configured},[t[35]||(t[35]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})],-1)),P(" "+_(n.webdavBackup?"å¤‡ä»½ä¸­...":"å¤‡ä»½åˆ°WebDAV"),1)],8,So),e("button",{class:"btn btn-secondary",onClick:K,disabled:n.webdavList||!v.configured},[t[36]||(t[36]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)),P(" "+_(n.webdavList?"åˆ·æ–°ä¸­...":"åˆ·æ–°åˆ—è¡¨"),1)],8,Lo)]),p.value.text?(i(),r("div",{key:0,class:F(["message",p.value.type])},_(p.value.text),3)):N("",!0),v.configured?N("",!0):(i(),r("div",Wo,[...t[37]||(t[37]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),e("p",null,"è¯·å…ˆé…ç½®WebDAVè¿æ¥ä¿¡æ¯ï¼ˆæ”¯æŒï¼šåšæœäº‘ã€Nextcloudã€é˜¿é‡Œäº‘ç›˜WebDAVã€Dropboxç­‰ï¼‰",-1)])])),e("div",No,[U.value.length===0&&!n.webdavList?(i(),r("div",zo,[...t[38]||(t[38]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#ccc","stroke-width":"1.5"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})],-1),e("p",null,"æš‚æ— WebDAVå¤‡ä»½",-1)])])):(i(),r("div",Eo,[(i(!0),r(q,null,J(U.value,h=>(i(),r("div",{key:h.name,class:"backup-card"},[t[41]||(t[41]=ie('<div class="backup-icon" data-v-23e75a45><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#16a34a" stroke-width="2" data-v-23e75a45><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-23e75a45></path><polyline points="14 2 14 8 20 8" data-v-23e75a45></polyline><path d="M12 18v-6M9 15l3 3 3-3" data-v-23e75a45></path></svg></div>',1)),e("div",Po,[e("div",Ho,_(h.name),1),e("div",Oo,[e("span",Fo,_(h.size),1),e("span",Ro,_(M(h.created)),1)])]),e("div",jo,[e("button",{class:"btn-icon btn-restore",onClick:G=>W("webdav-restore",h.name),title:"ä»WebDAVæ¢å¤"},[...t[39]||(t[39]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)])],8,qo),e("button",{class:"btn-icon btn-danger",onClick:G=>W("webdav-delete",h.name),title:"åˆ é™¤WebDAVå¤‡ä»½"},[...t[40]||(t[40]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,Jo)])]))),128))]))])],512),[[he,d.value==="webdav"]]),x(e("div",Go,[p.value.text?(i(),r("div",{key:0,class:F(["message",p.value.type])},_(p.value.text),3)):N("",!0),e("div",Ko,[t[76]||(t[76]=e("h3",null,"âš¡ è‡ªåŠ¨å¤‡ä»½é…ç½®",-1)),t[77]||(t[77]=e("p",{class:"config-description"},"é…ç½®ç³»ç»Ÿè‡ªåŠ¨å¤‡ä»½ç­–ç•¥ï¼ŒåŒ…æ‹¬å¢é‡å¤‡ä»½å’Œå®šæ—¶å¤‡ä»½ã€‚",-1)),e("div",Qo,[e("div",Xo,[t[43]||(t[43]=e("h4",null,"å¢é‡å¤‡ä»½ï¼ˆé˜²æŠ–ï¼‰",-1)),e("label",Yo,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=h=>o.debounce.enabled=h)},null,512),[[oe,o.debounce.enabled]]),t[42]||(t[42]=e("span",{class:"slider"},null,-1))])]),t[48]||(t[48]=e("p",{class:"config-info"},"å½“æ•°æ®å˜æ›´æ—¶ï¼Œå»¶è¿Ÿä¸€æ®µæ—¶é—´åè‡ªåŠ¨å¤‡ä»½ã€‚é€‚åˆé¢‘ç¹ä¿®æ”¹çš„åœºæ™¯ã€‚",-1)),o.debounce.enabled?(i(),r("div",Zo,[e("div",en,[t[44]||(t[44]=e("label",null,"å»¶è¿Ÿæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=h=>o.debounce.delay=h),min:"5",max:"1440",class:"form-input"},null,512),[[I,o.debounce.delay,void 0,{number:!0}]]),t[45]||(t[45]=e("small",null,"æ•°æ®ä¿®æ”¹åå»¶è¿Ÿå¤šä¹…è§¦å‘å¤‡ä»½ï¼ŒèŒƒå›´ï¼š5-1440åˆ†é’Ÿ",-1))]),e("div",tn,[t[46]||(t[46]=e("label",null,"ä¿ç•™å¤‡ä»½æ•°é‡",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=h=>o.debounce.keep=h),min:"1",max:"30",class:"form-input"},null,512),[[I,o.debounce.keep,void 0,{number:!0}]]),t[47]||(t[47]=e("small",null,"è‡ªåŠ¨æ¸…ç†æ—¶ä¿ç•™æœ€æ–°çš„Nä¸ªå¤‡ä»½ï¼ŒèŒƒå›´ï¼š1-30ä¸ª",-1))])])):N("",!0)]),e("div",sn,[e("div",ln,[t[50]||(t[50]=e("h4",null,"å®šæ—¶å¤‡ä»½ï¼ˆæ¯æ—¥ï¼‰",-1)),e("label",an,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=h=>o.scheduled.enabled=h)},null,512),[[oe,o.scheduled.enabled]]),t[49]||(t[49]=e("span",{class:"slider"},null,-1))])]),t[58]||(t[58]=e("p",{class:"config-info"},"æ¯å¤©åœ¨å›ºå®šæ—¶é—´è‡ªåŠ¨æ‰§è¡Œå¤‡ä»½ã€‚",-1)),o.scheduled.enabled?(i(),r("div",on,[e("div",nn,[t[52]||(t[52]=e("label",null,"å¤‡ä»½æ—¶é—´",-1)),e("div",dn,[x(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=h=>o.scheduled.hour=h),min:"0",max:"23",class:"form-input time-field",placeholder:"æ—¶"},null,512),[[I,o.scheduled.hour,void 0,{number:!0}]]),t[51]||(t[51]=e("span",null,":",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=h=>o.scheduled.minute=h),min:"0",max:"59",class:"form-input time-field",placeholder:"åˆ†"},null,512),[[I,o.scheduled.minute,void 0,{number:!0}]])]),t[53]||(t[53]=e("small",null,"æ ¼å¼ï¼š24å°æ—¶åˆ¶ï¼Œå¦‚ 02:00",-1))]),e("div",rn,[t[54]||(t[54]=e("label",null,"ä¿ç•™å¤‡ä»½æ•°é‡",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=h=>o.scheduled.keep=h),min:"1",max:"30",class:"form-input"},null,512),[[I,o.scheduled.keep,void 0,{number:!0}]]),t[55]||(t[55]=e("small",null,"è‡ªåŠ¨æ¸…ç†æ—¶ä¿ç•™æœ€æ–°çš„Nä¸ªå¤‡ä»½ï¼ŒèŒƒå›´ï¼š1-30ä¸ª",-1))]),e("div",un,[e("label",cn,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=h=>o.scheduled.onlyIfModified=h)},null,512),[[oe,o.scheduled.onlyIfModified]]),t[56]||(t[56]=e("span",null,"ä»…åœ¨æœ‰ä¿®æ”¹æ—¶å¤‡ä»½",-1))]),t[57]||(t[57]=e("small",null,"å¦‚æœ24å°æ—¶å†…å·²æœ‰å¢é‡å¤‡ä»½ï¼Œè·³è¿‡å®šæ—¶å¤‡ä»½ï¼ˆé¿å…é‡å¤ï¼‰",-1))])])):N("",!0)]),e("div",vn,[e("div",pn,[t[60]||(t[60]=e("h4",null,"â˜ï¸ WebDAV è‡ªåŠ¨åŒæ­¥",-1)),e("label",mn,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=h=>o.webdav.enabled=h),onChange:ue},null,544),[[oe,o.webdav.enabled]]),t[59]||(t[59]=e("span",{class:"slider"},null,-1))])]),e("p",bn,[t[61]||(t[61]=P(" è‡ªåŠ¨å°†æœ¬åœ°å¤‡ä»½åŒæ­¥åˆ° WebDAV äº‘ç«¯ã€‚ ",-1)),v.configured?N("",!0):(i(),r("span",fn,'âš ï¸ è¯·å…ˆåœ¨"WebDAVå¤‡ä»½"æ ‡ç­¾é¡µé…ç½®è¿æ¥'))]),o.webdav.enabled?(i(),r("div",gn,[e("div",hn,[e("label",wn,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=h=>o.webdav.syncDaily=h)},null,512),[[oe,o.webdav.syncDaily]]),t[62]||(t[62]=e("span",null,"åŒæ­¥æ¯æ—¥å®šæ—¶å¤‡ä»½",-1))]),t[63]||(t[63]=e("small",null,"æ¯å¤©å®šæ—¶å¤‡ä»½åè‡ªåŠ¨ä¸Šä¼ åˆ° WebDAV",-1))]),e("div",kn,[e("label",yn,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=h=>o.webdav.syncIncremental=h)},null,512),[[oe,o.webdav.syncIncremental]]),t[64]||(t[64]=e("span",null,"åŒæ­¥å¢é‡å¤‡ä»½",-1))]),t[65]||(t[65]=e("small",null,"å¢é‡å¤‡ä»½åè‡ªåŠ¨ä¸Šä¼ åˆ° WebDAV",-1))])])):N("",!0)]),e("div",_n,[e("div",$n,[t[67]||(t[67]=e("h4",null,"è‡ªåŠ¨æ¸…ç†",-1)),e("label",Cn,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=h=>o.autoClean=h)},null,512),[[oe,o.autoClean]]),t[66]||(t[66]=e("span",{class:"slider"},null,-1))])]),t[68]||(t[68]=e("p",{class:"config-info"},"è‡ªåŠ¨åˆ é™¤è¶…å‡ºä¿ç•™æ•°é‡çš„æ—§å¤‡ä»½æ–‡ä»¶ï¼ˆæŒ‰æ—¶é—´æ’åºï¼Œä¿ç•™æœ€æ–°çš„ï¼‰ã€‚",-1))]),l.value?(i(),r("div",Mn,[t[73]||(t[73]=e("h4",null,"ğŸ“Š å¤‡ä»½ç»Ÿè®¡",-1)),e("div",xn,[e("div",Vn,[t[69]||(t[69]=e("span",{class:"stat-label"},"å¢é‡å¤‡ä»½æ•°é‡",-1)),e("span",Bn,_(((j=l.value.incremental)==null?void 0:j.count)||0)+" ä¸ª",1)]),e("div",Un,[t[70]||(t[70]=e("span",{class:"stat-label"},"æœ€åå¢é‡å¤‡ä»½",-1)),e("span",Dn,_(M(l.value.lastDebounce)||"æ— "),1)]),e("div",Tn,[t[71]||(t[71]=e("span",{class:"stat-label"},"æœ€åå®šæ—¶å¤‡ä»½",-1)),e("span",An,_(M(l.value.lastScheduled)||"æ— "),1)]),e("div",In,[t[72]||(t[72]=e("span",{class:"stat-label"},"ä¸‹æ¬¡å®šæ—¶å¤‡ä»½",-1)),e("span",Sn,_(E()),1)])])])):N("",!0),e("div",Ln,[e("button",{class:"btn btn-secondary",onClick:Ae},[...t[74]||(t[74]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1),P(" æ¢å¤é»˜è®¤ ",-1)])]),e("button",{class:"btn btn-primary",onClick:S,disabled:n.autoBackupConfig},[t[75]||(t[75]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1)),P(" "+_(n.autoBackupConfig?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"),1)],8,Wn)])])],512),[[he,d.value==="auto"]]),V.value?(i(),r("div",Nn,[e("div",zn,[t[82]||(t[82]=e("h3",null,"WebDAVé…ç½®",-1)),e("div",En,[t[78]||(t[78]=e("label",null,[P("WebDAV URL "),e("span",{class:"required"},"*")],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=h=>a.url=h),placeholder:"https://dav.jianguoyun.com/dav/",class:"form-input"},null,512),[[I,a.url]]),t[79]||(t[79]=e("small",null,"ä¾‹ï¼šåšæœäº‘ https://dav.jianguoyun.com/dav/",-1))]),e("div",Pn,[t[80]||(t[80]=e("label",null,[P("ç”¨æˆ·å "),e("span",{class:"required"},"*")],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=h=>a.username=h),placeholder:"é‚®ç®±æˆ–ç”¨æˆ·å",class:"form-input"},null,512),[[I,a.username]])]),e("div",Hn,[t[81]||(t[81]=e("label",null,[P("å¯†ç  "),e("span",{class:"required"},"*")],-1)),x(e("input",{type:"password","onUpdate:modelValue":t[17]||(t[17]=h=>a.password=h),placeholder:v.configured?"ç•™ç©ºåˆ™ä¿æŒåŸå¯†ç ä¸å˜":"åº”ç”¨å¯†ç æˆ–è®¿é—®ä»¤ç‰Œ",class:"form-input"},null,8,On),[[I,a.password]]),v.configured?(i(),r("small",Rn,"å¦‚éœ€ä¿®æ”¹å¯†ç è¯·è¾“å…¥æ–°å¯†ç ï¼Œç•™ç©ºåˆ™ä¿æŒåŸå¯†ç ä¸å˜")):(i(),r("small",Fn,"æ³¨æ„ï¼šæŸäº›æœåŠ¡éœ€è¦ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ï¼Œè€Œä¸æ˜¯ç™»å½•å¯†ç "))]),e("div",jn,[e("button",{class:"btn btn-secondary",onClick:t[18]||(t[18]=h=>V.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:de,disabled:n.webdavConfig},_(n.webdavConfig?"æµ‹è¯•è¿æ¥ä¸­...":"ä¿å­˜"),9,qn)])])])):N("",!0),k.show?(i(),r("div",Jn,[e("div",Gn,[e("h3",null,"ç¡®è®¤"+_(k.title),1),e("p",Kn,_(k.message),1),e("div",Qn,[e("button",{class:"btn btn-secondary",onClick:t[19]||(t[19]=h=>k.show=!1),disabled:k.processing},"å–æ¶ˆ",8,Xn),e("button",{class:F(["btn",k.confirmClass]),onClick:f,disabled:k.processing},_(k.processing?"å¤„ç†ä¸­...":"ç¡®è®¤"),11,Yn)])])])):N("",!0),L.value?(i(),r("div",Zn,[e("div",ei,[t[86]||(t[86]=e("h3",null,"åˆ›å»ºå¤‡ä»½",-1)),e("div",ti,[t[83]||(t[83]=e("label",null,"å¤‡ä»½åç§°ï¼ˆå¯é€‰ï¼‰",-1)),x(e("input",{type:"text","onUpdate:modelValue":t[20]||(t[20]=h=>m.name=h),placeholder:"ä¾‹å¦‚ï¼šæ·»åŠ ä¹¦ç­¾åçš„å¤‡ä»½",class:"form-input",maxlength:"50"},null,512),[[I,m.name]]),t[84]||(t[84]=e("small",null,"ç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤åç§°ï¼ˆbackup-æ—¶é—´æˆ³ï¼‰",-1))]),e("div",si,[t[85]||(t[85]=e("label",null,"å¤‡ä»½æè¿°ï¼ˆå¯é€‰ï¼‰",-1)),x(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=h=>m.description=h),placeholder:"æè¿°è¿™æ¬¡å¤‡ä»½çš„å†…å®¹æˆ–ç›®çš„...",class:"form-input",rows:"3"},null,512),[[I,m.description]])]),e("div",li,[e("button",{class:"btn btn-secondary",onClick:t[22]||(t[22]=h=>L.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:X,disabled:n.create},_(n.create?"å¤‡ä»½ä¸­...":"åˆ›å»ºå¤‡ä»½"),9,ai)])])])):N("",!0),A.value?(i(),r("div",oi,[e("div",ni,[t[88]||(t[88]=e("h3",null,"é‡å‘½åå¤‡ä»½",-1)),e("div",ii,[t[87]||(t[87]=e("label",null,[P("æ–°åç§° "),e("span",{class:"required"},"*")],-1)),x(e("input",{type:"text","onUpdate:modelValue":t[23]||(t[23]=h=>b.newName=h),placeholder:"è¾“å…¥æ–°çš„å¤‡ä»½åç§°",class:"form-input",maxlength:"50"},null,512),[[I,b.newName]]),e("small",null,"åŸåç§°ï¼š"+_(b.oldName),1)]),e("div",di,[e("button",{class:"btn btn-secondary",onClick:t[24]||(t[24]=h=>A.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:te,disabled:n.rename||!b.newName.trim()},_(n.rename?"é‡å‘½åä¸­...":"ç¡®è®¤é‡å‘½å"),9,ri)])])])):N("",!0)])}}},ci=Z(ui,[["__scopeId","data-v-23e75a45"]]),vi={key:0,class:"login-container"},pi={class:"login-card"},mi={class:"login-form"},bi={class:"password-input-wrapper"},fi=["type"],gi={key:0,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},hi={key:1,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},wi={class:"login-buttons"},ki=["disabled"],yi={key:0,class:"login-error"},_i={key:1,class:"admin-layout"},$i={class:"menu-list"},Ci={class:"admin-main"},Mi={class:"admin-header"},xi={class:"header-title"},Vi={class:"admin-content"},Ue=1800*1e3,Bi={__name:"Admin",setup(z){const d=g("welcome");let u=null,U=Date.now();function V(){U=Date.now(),localStorage.setItem("lastActivityTime",U.toString()),u&&clearTimeout(u),l.value&&(u=setTimeout(()=>{L()},Ue))}function L(){l.value&&(alert("ç”±äºé•¿æ—¶é—´æœªæ“ä½œï¼Œå·²è‡ªåŠ¨é€€å‡ºç™»å½•"),O())}function A(){const T=localStorage.getItem("lastActivityTime");return T&&Date.now()-parseInt(T)>=Ue?(localStorage.removeItem("token"),localStorage.removeItem("lastActivityTime"),!0):!1}const D=["mousedown","mousemove","keydown","scroll","touchstart","click"];function n(){D.forEach(T=>{document.addEventListener(T,V,{passive:!0})})}function m(){D.forEach(T=>{document.removeEventListener(T,V)})}Ee(()=>{u&&clearTimeout(u),m()});const b={welcome:$t,menu:fs,card:sl,duplicate:El,tag:la,promo:Sa,friend:Ra,user:ro,backup:ci},p=ne(()=>b[d.value]),k=ne(()=>d.value==="welcome"?{lastLoginTime:v.value,lastLoginIp:a.value,currentUsername:o.value}:{}),v=g(""),a=g(""),o=g("admin"),l=g(!1),C=g(""),y=g(""),$=g(!1),H=g(""),Q=g(!1),X=g(!1),Y=ne(()=>{switch(d.value){case"menu":return"æ ç›®ç®¡ç†";case"card":return"å¡ç‰‡ç®¡ç†";case"duplicate":return"å»é‡ç®¡ç†";case"tag":return"æ ‡ç­¾ç®¡ç†";case"promo":return"å®£ä¼ ç®¡ç†";case"friend":return"å‹é“¾ç®¡ç†";case"user":return"ç”¨æˆ·ç®¡ç†";case"backup":return"å¤‡ä»½ç®¡ç†";default:return""}});le(()=>B(null,null,function*(){if(A()){l.value=!1;return}localStorage.getItem("token")?(l.value=!0,yield te(),l.value&&(V(),n())):l.value=!1}));function te(){return B(this,null,function*(){try{const T=yield fetch("/api/users/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(T.ok){const c=yield T.json();v.value=c.last_login_time||"",a.value=c.last_login_ip||"",o.value=c.username||"admin"}else T.status===401&&(console.warn("TokenéªŒè¯å¤±è´¥ï¼Œè‡ªåŠ¨é€€å‡ºç™»å½•"),O())}catch(T){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",T)}})}function R(){return B(this,null,function*(){var T,c;if(!C.value||!y.value){H.value="è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ";return}$.value=!0,H.value="";try{const s=yield mt(C.value,y.value);s.data.token&&(localStorage.setItem("token",s.data.token),l.value=!0,v.value=s.data.lastLoginTime||"",a.value=s.data.lastLoginIp||"",yield te(),V(),n())}catch(s){H.value=((c=(T=s.response)==null?void 0:T.data)==null?void 0:c.message)||"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç "}finally{$.value=!1}})}function O(){u&&(clearTimeout(u),u=null),m(),localStorage.removeItem("token"),localStorage.removeItem("lastActivityTime"),l.value=!1,C.value="",y.value="",H.value=""}function W(){window.open("/","_blank")}function f(){X.value=!X.value}function M(){X.value=!1}return(T,c)=>l.value?(i(),r("div",_i,[e("aside",{class:F(["admin-sider",{open:X.value}]),onClick:$e(M,["self"])},[e("div",{class:"logo clickable",onClick:c[3]||(c[3]=s=>{d.value="welcome",M()})},"Admin"),e("ul",$i,[e("li",{class:F({active:d.value==="menu"}),onClick:c[4]||(c[4]=s=>{d.value="menu",M()})},"æ ç›®ç®¡ç†",2),e("li",{class:F({active:d.value==="card"}),onClick:c[5]||(c[5]=s=>{d.value="card",M()})},"å¡ç‰‡ç®¡ç†",2),e("li",{class:F({active:d.value==="duplicate"}),onClick:c[6]||(c[6]=s=>{d.value="duplicate",M()})},"å»é‡ç®¡ç†",2),e("li",{class:F({active:d.value==="tag"}),onClick:c[7]||(c[7]=s=>{d.value="tag",M()})},"æ ‡ç­¾ç®¡ç†",2),e("li",{class:F({active:d.value==="promo"}),onClick:c[8]||(c[8]=s=>{d.value="promo",M()})},"å®£ä¼ ç®¡ç†",2),e("li",{class:F({active:d.value==="friend"}),onClick:c[9]||(c[9]=s=>{d.value="friend",M()})},"å‹é“¾ç®¡ç†",2),e("li",{class:F({active:d.value==="user"}),onClick:c[10]||(c[10]=s=>{d.value="user",M()})},"ç”¨æˆ·ç®¡ç†",2),e("li",{class:F({active:d.value==="backup"}),onClick:c[11]||(c[11]=s=>{d.value="backup",M()})},"å¤‡ä»½ç®¡ç†",2)])],2),e("main",Ci,[e("div",Mi,[e("button",{class:"menu-toggle",onClick:f}," â˜° "),e("div",xi,_(Y.value),1),e("div",{class:"header-actions"},[e("span",{class:"home-icon",onClick:W,title:"è¿›å…¥ä¸»é¡µ"},[...c[16]||(c[16]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M3 10.5L12 4l9 6.5V20a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4h-4v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V10.5z",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),e("button",{class:"btn logout-btn",onClick:O},"é€€å‡ºç™»å½•")])]),e("div",Vi,[He(Fe,{name:"fade",mode:"out-in"},{default:Oe(()=>[(i(),Re(je(p.value),qe({key:d.value},k.value),null,16))]),_:1})]),c[17]||(c[17]=e("footer",{class:"admin-footer"},[e("p",{class:"admin-copyright"},[P("Copyright Â© 2025 Con-Nav-Item | "),e("a",{href:"https://github.com/zczy-k/Con-Nav-Item",target:"_blank",class:"footer-link"},"Powered by zczy-k")])],-1))])])):(i(),r("div",vi,[e("div",pi,[c[15]||(c[15]=e("h2",{class:"login-title"},"åå°ç®¡ç†ç™»å½•",-1)),e("div",mi,[x(e("input",{"onUpdate:modelValue":c[0]||(c[0]=s=>C.value=s),type:"text",placeholder:"ç”¨æˆ·åï¼ˆé»˜è®¤ï¼šadminï¼‰",class:"login-input",onKeyup:ke(R,["enter"])},null,544),[[I,C.value]]),e("div",bi,[x(e("input",{"onUpdate:modelValue":c[1]||(c[1]=s=>y.value=s),type:Q.value?"text":"password",placeholder:"å¯†ç ï¼ˆé»˜è®¤ï¼š123456ï¼‰",class:"login-input password-input",onKeyup:ke(R,["enter"])},null,40,fi),[[Pe,y.value]]),e("span",{class:"toggle-password",onClick:c[2]||(c[2]=s=>Q.value=!Q.value)},[Q.value?(i(),r("svg",gi,[...c[12]||(c[12]=[e("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"},null,-1),e("circle",{cx:"12",cy:"12",r:"3"},null,-1)])])):(i(),r("svg",hi,[...c[13]||(c[13]=[e("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.77 21.77 0 0 1 5.06-6.06"},null,-1),e("path",{d:"M1 1l22 22"},null,-1),e("path",{d:"M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47"},null,-1)])]))])]),e("div",wi,[e("button",{onClick:W,class:"back-btn"},[...c[14]||(c[14]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),P(" è¿”å›é¦–é¡µ ",-1)])]),e("button",{onClick:R,class:"login-btn",disabled:$.value},_($.value?"ç™»å½•ä¸­...":"ç™»å½•"),9,ki)]),H.value?(i(),r("p",yi,_(H.value),1)):N("",!0)])])]))}},Ai=Z(Bi,[["__scopeId","data-v-e40cc98a"]]);export{Ai as default};
