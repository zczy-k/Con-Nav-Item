var Ne=Object.defineProperty,Ee=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var Ue=(g,s,l)=>s in g?Ne(g,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):g[s]=l,he=(g,s)=>{for(var l in s||(s={}))Oe.call(s,l)&&Ue(g,l,s[l]);if(xe)for(var l of xe(s))He.call(s,l)&&Ue(g,l,s[l]);return g},ye=(g,s)=>Ee(g,ze(s));var B=(g,s,l)=>new Promise((D,a)=>{var _=v=>{try{I(l.next(v))}catch(y){a(y)}},m=v=>{try{I(l.throw(v))}catch(y){a(y)}},I=v=>v.done?D(v.value):Promise.resolve(v.value).then(_,m);I((l=l.apply(g,s)).next())});import{_ as Y,c as n,b as o,f as e,t as c,A as re,r as $,o as le,d as K,k as A,v as L,m as Ce,F as R,e as q,i as ie,w as Ve,B as be,s as z,y as ke,h as Me,g as E,C as oe,z as we,q as ae,D as De,a as Re,j as qe,l as Fe,T as Ge,E as je,G as Je,H as Qe}from"./index-BZtlW8Dq.js";import{g as Se,m as Xe,w as Ye,t as Ze,u as et,n as tt,o as st,c as Pe,k as at,p as Ae,x as Be,f as lt,z as ot,A as nt,B as _e,C as it,D as rt,E as dt,F as ut,i as ne,b as ct,G as vt,H as pt,I as mt,J as ft,K as ht,L as gt,M as bt}from"./urlNormalizer-B9d79qZ3.js";const kt={class:"welcome-page"},yt={class:"welcome-title"},wt={class:"welcome-cards"},_t={class:"welcome-card"},$t={class:"welcome-value"},Ct={class:"welcome-card"},Mt={class:"welcome-value"},xt={__name:"WelcomePage",props:{lastLoginTime:String,lastLoginIp:String,currentUsername:String},setup(g){return(s,l)=>(o(),n("div",kt,[e("h2",yt,"æ¬¢è¿æ‚¨ï¼Œ"+c(g.currentUsername||"admin")+"ï¼",1),e("div",wt,[e("div",_t,[l[0]||(l[0]=re('<div class="welcome-icon time-icon" data-v-5cc4f846><svg width="32" height="32" viewBox="0 0 24 24" fill="none" data-v-5cc4f846><circle cx="12" cy="12" r="10" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></circle><path d="M12 6v6l4 2" stroke="#1abc9c" stroke-width="2" stroke-linecap="round" data-v-5cc4f846></path></svg></div><div class="welcome-label" data-v-5cc4f846>ä¸Šæ¬¡ç™»å½•æ—¶é—´</div>',2)),e("div",$t,c(g.lastLoginTime||"--"),1)]),e("div",Ct,[l[1]||(l[1]=re('<div class="welcome-icon ip-icon" data-v-5cc4f846><svg width="32" height="32" viewBox="0 0 24 24" fill="none" data-v-5cc4f846><circle cx="12" cy="12" r="10" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></circle><path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8z" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></path><circle cx="12" cy="12" r="2" fill="#1abc9c" data-v-5cc4f846></circle></svg></div><div class="welcome-label" data-v-5cc4f846>ä¸Šæ¬¡ç™»å½•IP</div>',2)),e("div",Mt,c(g.lastLoginIp||"--"),1)])])]))}},Ut=Y(xt,[["__scopeId","data-v-5cc4f846"]]),Vt={class:"menu-manage"},At={key:0,class:"loading-overlay"},Bt={class:"menu-header"},Tt={class:"menu-add"},It=["disabled"],Dt={class:"menu-content"},St={key:0,class:"empty-state"},Pt={class:"menu-card-header"},Lt={class:"menu-title"},Kt={class:"menu-name"},Wt={class:"menu-order"},Nt={class:"menu-actions"},Et=["onClick"],zt=["onClick"],Ot=["onClick"],Ht={key:0,class:"sub-menu-list"},Rt={class:"sub-menu-name"},qt={class:"sub-menu-order"},Ft={class:"sub-menu-actions"},Gt=["onClick"],jt=["onClick"],Jt={key:1,class:"no-sub-menu"},Qt={key:1,class:"modal-overlay"},Xt={class:"modal"},Yt={class:"modal-header"},Zt={class:"modal-body"},es={class:"form-group"},ts={class:"form-group"},ss={class:"modal-footer"},as=["disabled"],ls={key:2,class:"modal-overlay"},os={class:"modal"},ns={class:"modal-header"},is={class:"modal-body"},rs={class:"form-group"},ds={class:"form-group"},us={class:"modal-footer"},cs=["disabled"],vs={key:3,class:"modal-overlay"},ps={class:"modal"},ms={class:"modal-body"},fs={class:"form-group"},hs={class:"form-group"},gs={class:"modal-footer"},bs=["disabled"],ks={__name:"MenuManage",setup(g){const s=$([]),l=$(!1),D=$("åŠ è½½ä¸­..."),a=$(""),_=$(!1),m=$(null),I=$({name:"",order:0}),v=$(!1),y=$(null),w=$(""),h=$({name:"",order:0}),x=$(!1),f=$(null),d=$({name:"",order:0});le(()=>{i()});function u(){try{window.dispatchEvent(new CustomEvent("nav-menus-updated")),console.log("[æ ç›®ç®¡ç†] å·²é€šçŸ¥æ‰©å±•åˆ·æ–°å³é”®èœå•")}catch(W){console.warn("[æ ç›®ç®¡ç†] é€šçŸ¥æ‰©å±•å¤±è´¥:",W)}}function i(W=!1){return B(this,null,function*(){var k,T;l.value=!0,D.value="åŠ è½½ä¸­...";try{const S=yield Se(!0);s.value=S.data||[],W&&u()}catch(S){alert("åŠ è½½å¤±è´¥: "+(((T=(k=S.response)==null?void 0:k.data)==null?void 0:T.error)||S.message))}finally{l.value=!1}})}function V(){return B(this,null,function*(){var W,k;if(a.value.trim()){l.value=!0,D.value="æ·»åŠ ä¸­...";try{const T=s.value.length?Math.max(...s.value.map(S=>S.order||0)):0;yield Xe({name:a.value.trim(),order:T+1}),a.value="",yield i(!0)}catch(T){alert("æ·»åŠ å¤±è´¥: "+(((k=(W=T.response)==null?void 0:W.data)==null?void 0:k.error)||T.message)),l.value=!1}}})}function M(W){m.value=W,I.value={name:W.name,order:W.order},_.value=!0}function U(){return B(this,null,function*(){var S,p;if(!I.value.name.trim()||!m.value)return;const W=m.value.id,k=I.value.name.trim(),T=I.value.order;N(),l.value=!0,D.value="ä¿å­˜ä¸­...";try{yield et(W,{name:k,order:T}),yield i(!0)}catch(r){alert("ä¿å­˜å¤±è´¥: "+(((p=(S=r.response)==null?void 0:S.data)==null?void 0:p.error)||r.message)),l.value=!1}})}function H(W){return B(this,null,function*(){var k,T;if(confirm(`ç¡®å®šåˆ é™¤ä¸»èœå•ã€Œ${W.name}ã€å—ï¼Ÿ
å°†åŒæ—¶åˆ é™¤å…¶ä¸‹æ‰€æœ‰å­èœå•å’Œå¡ç‰‡ï¼`)){l.value=!0,D.value="åˆ é™¤ä¸­...";try{yield Ye(W.id),yield i(!0)}catch(S){alert("åˆ é™¤å¤±è´¥: "+(((T=(k=S.response)==null?void 0:k.data)==null?void 0:T.error)||S.message)),l.value=!1}}})}function J(W){y.value=W.id,w.value=W.name;const k=W.subMenus||[],T=k.length?Math.max(...k.map(S=>S.order||0)):0;h.value={name:"",order:T+1},v.value=!0}function Z(){return B(this,null,function*(){var S,p;if(!h.value.name.trim()||!y.value)return;const W=y.value,k=h.value.name.trim(),T=h.value.order;N(),l.value=!0,D.value="æ·»åŠ ä¸­...";try{yield tt(W,{name:k,order:T}),yield i(!0)}catch(r){alert("æ·»åŠ å¤±è´¥: "+(((p=(S=r.response)==null?void 0:S.data)==null?void 0:p.error)||r.message)),l.value=!1}})}function ee(W,k){f.value=k,d.value={name:k.name,order:k.order},x.value=!0}function se(){return B(this,null,function*(){var S,p;if(!d.value.name.trim()||!f.value)return;const W=f.value.id,k=d.value.name.trim(),T=d.value.order;N(),l.value=!0,D.value="ä¿å­˜ä¸­...";try{yield st(W,{name:k,order:T}),yield i(!0)}catch(r){alert("ä¿å­˜å¤±è´¥: "+(((p=(S=r.response)==null?void 0:S.data)==null?void 0:p.error)||r.message)),l.value=!1}})}function te(W){return B(this,null,function*(){var k,T;if(confirm(`ç¡®å®šåˆ é™¤å­èœå•ã€Œ${W.name}ã€å—ï¼Ÿ
å°†åŒæ—¶åˆ é™¤å…¶ä¸‹æ‰€æœ‰å¡ç‰‡ï¼`)){l.value=!0,D.value="åˆ é™¤ä¸­...";try{yield Ze(W.id),yield i(!0)}catch(S){alert("åˆ é™¤å¤±è´¥: "+(((T=(k=S.response)==null?void 0:k.data)==null?void 0:T.error)||S.message)),l.value=!1}}})}function N(){_.value=!1,v.value=!1,x.value=!1,m.value=null,f.value=null}return(W,k)=>(o(),n("div",Vt,[l.value?(o(),n("div",At,[k[7]||(k[7]=e("div",{class:"loading-spinner"},null,-1)),e("span",null,c(D.value),1)])):K("",!0),e("div",Bt,[k[8]||(k[8]=e("h2",{class:"page-title"},"æ ç›®ç®¡ç†",-1)),e("div",Tt,[A(e("input",{"onUpdate:modelValue":k[0]||(k[0]=T=>a.value=T),placeholder:"è¾“å…¥ä¸»èœå•åç§°",class:"input",onKeyup:Ce(V,["enter"])},null,544),[[L,a.value]]),e("button",{class:"btn btn-primary",onClick:V,disabled:l.value||!a.value.trim()}," + æ·»åŠ ä¸»èœå• ",8,It)])]),e("div",Dt,[s.value.length===0?(o(),n("div",St,[...k[9]||(k[9]=[e("p",null,"æš‚æ— èœå•ï¼Œè¯·æ·»åŠ ç¬¬ä¸€ä¸ªä¸»èœå•",-1)])])):K("",!0),(o(!0),n(R,null,q(s.value,T=>(o(),n("div",{key:T.id,class:"menu-card"},[e("div",Pt,[e("div",Lt,[e("span",Kt,c(T.name),1),e("span",Wt,"æ’åº: "+c(T.order),1)]),e("div",Nt,[e("button",{class:"btn-icon btn-edit",onClick:S=>M(T),title:"ç¼–è¾‘"},[...k[10]||(k[10]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Et),e("button",{class:"btn-icon btn-add",onClick:S=>J(T),title:"æ·»åŠ å­èœå•"},[...k[11]||(k[11]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1)])],8,zt),e("button",{class:"btn-icon btn-delete",onClick:S=>H(T),title:"åˆ é™¤"},[...k[12]||(k[12]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"})],-1)])],8,Ot)])]),T.subMenus&&T.subMenus.length>0?(o(),n("div",Ht,[(o(!0),n(R,null,q(T.subMenus,S=>(o(),n("div",{key:S.id,class:"sub-menu-item"},[e("span",Rt,c(S.name),1),e("span",qt,"æ’åº: "+c(S.order),1),e("div",Ft,[e("button",{class:"btn-icon-sm btn-edit",onClick:p=>ee(T,S),title:"ç¼–è¾‘"},[...k[13]||(k[13]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Gt),e("button",{class:"btn-icon-sm btn-delete",onClick:p=>te(S),title:"åˆ é™¤"},[...k[14]||(k[14]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"})],-1)])],8,jt)])]))),128))])):(o(),n("div",Jt,[...k[15]||(k[15]=[e("span",null,"æš‚æ— å­èœå•",-1)])]))]))),128))]),_.value?(o(),n("div",Qt,[e("div",Xt,[e("div",Yt,[e("h3",null,c(m.value?"ç¼–è¾‘ä¸»èœå•":"æ·»åŠ å­èœå•"),1),e("button",{class:"modal-close",onClick:N},"Ã—")]),e("div",Zt,[e("div",es,[k[16]||(k[16]=e("label",null,"åç§°",-1)),A(e("input",{"onUpdate:modelValue":k[1]||(k[1]=T=>I.value.name=T),type:"text",class:"input",placeholder:"è¯·è¾“å…¥åç§°"},null,512),[[L,I.value.name]])]),e("div",ts,[k[17]||(k[17]=e("label",null,"æ’åº",-1)),A(e("input",{"onUpdate:modelValue":k[2]||(k[2]=T=>I.value.order=T),type:"number",class:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"},null,512),[[L,I.value.order,void 0,{number:!0}]])])]),e("div",ss,[e("button",{class:"btn btn-cancel",onClick:N},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:U,disabled:!I.value.name.trim()},"ä¿å­˜",8,as)])])])):K("",!0),v.value?(o(),n("div",ls,[e("div",os,[e("div",ns,[e("h3",null,"æ·»åŠ å­èœå•åˆ°ã€Œ"+c(w.value)+"ã€",1),e("button",{class:"modal-close",onClick:N},"Ã—")]),e("div",is,[e("div",rs,[k[18]||(k[18]=e("label",null,"å­èœå•åç§°",-1)),A(e("input",{"onUpdate:modelValue":k[3]||(k[3]=T=>h.value.name=T),type:"text",class:"input",placeholder:"è¯·è¾“å…¥å­èœå•åç§°"},null,512),[[L,h.value.name]])]),e("div",ds,[k[19]||(k[19]=e("label",null,"æ’åº",-1)),A(e("input",{"onUpdate:modelValue":k[4]||(k[4]=T=>h.value.order=T),type:"number",class:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"},null,512),[[L,h.value.order,void 0,{number:!0}]])])]),e("div",us,[e("button",{class:"btn btn-cancel",onClick:N},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:Z,disabled:!h.value.name.trim()},"æ·»åŠ ",8,cs)])])])):K("",!0),x.value?(o(),n("div",vs,[e("div",ps,[e("div",{class:"modal-header"},[k[20]||(k[20]=e("h3",null,"ç¼–è¾‘å­èœå•",-1)),e("button",{class:"modal-close",onClick:N},"Ã—")]),e("div",ms,[e("div",fs,[k[21]||(k[21]=e("label",null,"å­èœå•åç§°",-1)),A(e("input",{"onUpdate:modelValue":k[5]||(k[5]=T=>d.value.name=T),type:"text",class:"input",placeholder:"è¯·è¾“å…¥å­èœå•åç§°"},null,512),[[L,d.value.name]])]),e("div",hs,[k[22]||(k[22]=e("label",null,"æ’åº",-1)),A(e("input",{"onUpdate:modelValue":k[6]||(k[6]=T=>d.value.order=T),type:"number",class:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"},null,512),[[L,d.value.order,void 0,{number:!0}]])])]),e("div",gs,[e("button",{class:"btn btn-cancel",onClick:N},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:se,disabled:!d.value.name.trim()},"ä¿å­˜",8,bs)])])])):K("",!0)]))}},ys=Y(ks,[["__scopeId","data-v-7671c3a1"]]),ws={class:"card-manage"},_s={class:"card-header"},$s={class:"card-add"},Cs=["value"],Ms=["value"],xs={class:"card-card"},Us={class:"card-table"},Vs=["onUpdate:modelValue","onBlur"],As=["onUpdate:modelValue","onBlur"],Bs=["onUpdate:modelValue","onBlur"],Ts=["onUpdate:modelValue","onBlur"],Is=["onClick"],Ds={key:0,class:"selected-tags"},Ss={key:1,class:"tag-placeholder"},Ps=["onUpdate:modelValue","onBlur"],Ls=["onClick"],Ks={class:"modal-body"},Ws={key:0,class:"empty-tags"},Ns={key:1,class:"tag-options"},Es=["checked","onChange"],zs={class:"modal-body"},Os={class:"duplicate-comparison"},Hs={class:"card-info-box existing"},Rs={class:"card-details"},qs={class:"detail-row"},Fs={class:"detail-value"},Gs={class:"detail-row"},js={class:"detail-value url"},Js={key:0,class:"detail-row"},Qs={class:"detail-value url"},Xs={class:"card-info-box pending"},Ys={class:"card-details"},Zs={class:"detail-row"},ea={class:"detail-value"},ta={class:"detail-row"},sa={class:"detail-value url"},aa={key:0,class:"detail-row"},la={class:"detail-value url"},oa={__name:"CardManage",setup(g){const s=$([]),l=$([]),D=$(),a=$(""),_=$(""),m=$(""),I=$(""),v=$([]),y=$(!1),w=$(null),h=$([]),x=$(!1),f=$(null),d=$(null),u=ie(()=>{if(!D.value)return[];const p=s.value.find(r=>r.id===D.value);return(p==null?void 0:p.subMenus)||[]});le(()=>B(null,null,function*(){const p=yield Se();s.value=p.data,s.value.length&&(D.value=s.value[0].id,a.value="");const r=yield Pe();v.value=r.data})),Ve(D,()=>{a.value="",M()}),Ve(a,M);function i(){a.value=""}function V(){M()}function M(){return B(this,null,function*(){if(!D.value)return;const p=yield lt(D.value,a.value||null);l.value=p.data})}function U(){return B(this,null,function*(){if(!_.value||!m.value)return;const p=l.value.find(r=>at({title:_.value,url:m.value},r));p?(f.value=p,d.value={menu_id:D.value,sub_menu_id:a.value||null,title:_.value,url:m.value,logo_url:I.value},x.value=!0):yield N({menu_id:D.value,sub_menu_id:a.value||null,title:_.value,url:m.value,logo_url:I.value})})}function H(p){return B(this,null,function*(){yield Ae(p.id,{menu_id:D.value,sub_menu_id:a.value||null,title:p.title,url:p.url,logo_url:p.logo_url,desc:p.desc,order:p.order,tagIds:p.tags?p.tags.map(r=>r.id):[]}),M()})}function J(p){return B(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å¡ç‰‡å—ï¼Ÿ"))return;const r=l.value.findIndex(j=>j.id===p);r>-1&&l.value.splice(r,1);try{yield Be(p)}catch(j){console.error("åˆ é™¤å¡ç‰‡å¤±è´¥:",j),yield M()}})}function Z(p){w.value=p,h.value=p.tags?p.tags.map(r=>r.id):[],y.value=!0}function ee(){y.value=!1,w.value=null,h.value=[]}function se(p){const r=h.value.indexOf(p);r>-1?h.value.splice(r,1):h.value.push(p)}function te(){return B(this,null,function*(){w.value&&(yield Ae(w.value.id,{menu_id:w.value.menu_id,sub_menu_id:w.value.sub_menu_id,title:w.value.title,url:w.value.url,logo_url:w.value.logo_url,desc:w.value.desc,order:w.value.order,tagIds:h.value}),ee(),M())})}function N(p){return B(this,null,function*(){yield ot(p),_.value="",m.value="",I.value="",M()})}function W(){x.value=!1,f.value=null,d.value=null}function k(){W(),_.value="",m.value="",I.value=""}function T(){return B(this,null,function*(){!d.value||!f.value||(yield Be(f.value.id),yield N(d.value),W())})}function S(){d.value&&(_.value=d.value.title,m.value=d.value.url,I.value=d.value.logo_url||"",W(),alert("è¯·ä¿®æ”¹å¡ç‰‡ä¿¡æ¯åå†æ¬¡ç‚¹å‡»â€œæ·»åŠ å¡ç‰‡â€æŒ‰é’®"))}return(p,r)=>{var j,ue,ce,ve,pe,Q,me,fe;return o(),n("div",ws,[e("div",_s,[r[9]||(r[9]=e("div",{class:"header-content"},[e("h2",{class:"page-title"},"ç®¡ç†ç½‘ç«™å¯¼èˆªå¡ç‰‡ï¼Œæ”¯æŒä¸»èœå•å’Œå­èœå•åˆ†ç±»")],-1)),e("div",$s,[A(e("select",{"onUpdate:modelValue":r[0]||(r[0]=P=>D.value=P),class:"input narrow",onChange:i},[(o(!0),n(R,null,q(s.value,P=>(o(),n("option",{value:P.id,key:P.id},c(P.name),9,Cs))),128))],544),[[be,D.value]]),A(e("select",{"onUpdate:modelValue":r[1]||(r[1]=P=>a.value=P),class:"input narrow",onChange:V},[r[7]||(r[7]=e("option",{value:""},"ä¸»èœå•",-1)),(o(!0),n(R,null,q(u.value,P=>(o(),n("option",{value:P.id,key:P.id},c(P.name),9,Ms))),128))],544),[[be,a.value]]),A(e("input",{"onUpdate:modelValue":r[2]||(r[2]=P=>_.value=P),placeholder:"å¡ç‰‡æ ‡é¢˜",class:"input narrow"},null,512),[[L,_.value]]),A(e("input",{"onUpdate:modelValue":r[3]||(r[3]=P=>m.value=P),placeholder:"å¡ç‰‡é“¾æ¥",class:"input wide"},null,512),[[L,m.value]]),A(e("input",{"onUpdate:modelValue":r[4]||(r[4]=P=>I.value=P),placeholder:"logoé“¾æ¥(å¯é€‰)",class:"input wide"},null,512),[[L,I.value]]),e("button",{class:"btn",onClick:U},[...r[8]||(r[8]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),z(" æ·»åŠ å¡ç‰‡ ",-1)])])])]),e("div",xs,[e("table",Us,[r[11]||(r[11]=e("thead",null,[e("tr",null,[e("th",null,"æ ‡é¢˜"),e("th",null,"ç½‘å€"),e("th",null,"Logoé“¾æ¥"),e("th",null,"æè¿°"),e("th",null,"æ ‡ç­¾"),e("th",null,"æ’åº"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(o(!0),n(R,null,q(l.value,P=>(o(),n("tr",{key:P.id},[e("td",null,[A(e("input",{"onUpdate:modelValue":O=>P.title=O,onBlur:O=>H(P),class:"table-input"},null,40,Vs),[[L,P.title]])]),e("td",null,[A(e("input",{"onUpdate:modelValue":O=>P.url=O,onBlur:O=>H(P),class:"table-input"},null,40,As),[[L,P.url]])]),e("td",null,[A(e("input",{"onUpdate:modelValue":O=>P.logo_url=O,onBlur:O=>H(P),class:"table-input",placeholder:"logoé“¾æ¥(å¯é€‰)"},null,40,Bs),[[L,P.logo_url]])]),e("td",null,[A(e("input",{"onUpdate:modelValue":O=>P.desc=O,onBlur:O=>H(P),class:"table-input",placeholder:"æè¿°ï¼ˆå¯é€‰ï¼‰"},null,40,Ts),[[L,P.desc]])]),e("td",null,[e("div",{class:"tag-selector",onClick:O=>Z(P)},[P.tags&&P.tags.length>0?(o(),n("div",Ds,[(o(!0),n(R,null,q(P.tags,O=>(o(),n("span",{key:O.id,class:"mini-tag",style:ke({backgroundColor:O.color})},c(O.name),5))),128))])):(o(),n("span",Ss,"é€‰æ‹©æ ‡ç­¾"))],8,Is)]),e("td",null,[A(e("input",{"onUpdate:modelValue":O=>P.order=O,type:"number",onBlur:O=>H(P),class:"table-input order-input"},null,40,Ps),[[L,P.order,void 0,{number:!0}]])]),e("td",null,[e("button",{class:"btn btn-danger btn-icon",onClick:O=>J(P.id),title:"åˆ é™¤"},[...r[10]||(r[10]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,Ls)])]))),128))])])]),y.value?(o(),n("div",{key:0,class:"modal-overlay",onClick:ee},[e("div",{class:"modal-content",onClick:r[5]||(r[5]=Me(()=>{},["stop"]))},[e("div",{class:"modal-header"},[r[12]||(r[12]=e("h3",null,"é€‰æ‹©æ ‡ç­¾",-1)),e("button",{class:"close-btn",onClick:ee},"Ã—")]),e("div",Ks,[v.value.length===0?(o(),n("div",Ws,[...r[13]||(r[13]=[e("p",null,"æš‚æ— æ ‡ç­¾ï¼Œè¯·å…ˆåœ¨æ ‡ç­¾ç®¡ç†é¡µé¢åˆ›å»º",-1)])])):(o(),n("div",Ns,[(o(!0),n(R,null,q(v.value,P=>(o(),n("label",{key:P.id,class:"tag-option"},[e("input",{type:"checkbox",checked:h.value.includes(P.id),onChange:O=>se(P.id)},null,40,Es),e("span",{class:"tag-label",style:ke({backgroundColor:P.color})},c(P.name),5)]))),128))]))]),e("div",{class:"modal-footer"},[e("button",{class:"btn btn-secondary",onClick:ee},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:te},"ç¡®å®š")])])])):K("",!0),x.value?(o(),n("div",{key:1,class:"modal-overlay",onClick:W},[e("div",{class:"modal-content duplicate-modal",onClick:r[6]||(r[6]=Me(()=>{},["stop"]))},[e("div",{class:"modal-header"},[r[14]||(r[14]=re('<div class="header-with-icon" data-v-edd548d5><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2" data-v-edd548d5><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" data-v-edd548d5></path><line x1="12" y1="9" x2="12" y2="13" data-v-edd548d5></line><line x1="12" y1="17" x2="12.01" y2="17" data-v-edd548d5></line></svg><h3 data-v-edd548d5>æ£€æµ‹åˆ°é‡å¤å¡ç‰‡</h3></div>',1)),e("button",{class:"close-btn",onClick:W},"Ã—")]),e("div",zs,[r[24]||(r[24]=e("div",{class:"duplicate-warning"},[e("p",{class:"warning-text"},"æ‚¨è¦æ·»åŠ çš„å¡ç‰‡ä¸ä»¥ä¸‹ç°æœ‰å¡ç‰‡é‡å¤ï¼š")],-1)),e("div",Os,[e("div",Hs,[r[18]||(r[18]=e("div",{class:"box-header"},[e("span",{class:"box-label"},"ç°æœ‰å¡ç‰‡")],-1)),e("div",Rs,[e("div",qs,[r[15]||(r[15]=e("span",{class:"detail-label"},"æ ‡é¢˜ï¼š",-1)),e("span",Fs,c((j=f.value)==null?void 0:j.title),1)]),e("div",Gs,[r[16]||(r[16]=e("span",{class:"detail-label"},"ç½‘å€ï¼š",-1)),e("span",js,c((ue=f.value)==null?void 0:ue.url),1)]),(ce=f.value)!=null&&ce.logo_url?(o(),n("div",Js,[r[17]||(r[17]=e("span",{class:"detail-label"},"Logoï¼š",-1)),e("span",Qs,c((ve=f.value)==null?void 0:ve.logo_url),1)])):K("",!0)])]),r[23]||(r[23]=e("div",{class:"arrow-divider"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#9ca3af","stroke-width":"2"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})])],-1)),e("div",Xs,[r[22]||(r[22]=e("div",{class:"box-header"},[e("span",{class:"box-label"},"å¾…æ·»åŠ å¡ç‰‡")],-1)),e("div",Ys,[e("div",Zs,[r[19]||(r[19]=e("span",{class:"detail-label"},"æ ‡é¢˜ï¼š",-1)),e("span",ea,c((pe=d.value)==null?void 0:pe.title),1)]),e("div",ta,[r[20]||(r[20]=e("span",{class:"detail-label"},"ç½‘å€ï¼š",-1)),e("span",sa,c((Q=d.value)==null?void 0:Q.url),1)]),(me=d.value)!=null&&me.logo_url?(o(),n("div",aa,[r[21]||(r[21]=e("span",{class:"detail-label"},"Logoï¼š",-1)),e("span",la,c((fe=d.value)==null?void 0:fe.logo_url),1)])):K("",!0)])])]),r[25]||(r[25]=e("div",{class:"duplicate-actions-info"},[e("p",null,"è¯·é€‰æ‹©å¦‚ä½•å¤„ç†ï¼š")],-1))]),e("div",{class:"modal-footer duplicate-footer"},[e("button",{class:"btn btn-secondary",onClick:k},[...r[26]||(r[26]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1),z(" è·³è¿‡ ",-1)])]),e("button",{class:"btn btn-warning",onClick:T},[...r[27]||(r[27]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 12a9 9 0 11-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),e("path",{d:"M21 3v5h-5"})],-1),z(" æ›¿æ¢ ",-1)])]),e("button",{class:"btn btn-primary",onClick:S},[...r[28]||(r[28]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),z(" ç¼–è¾‘åæ·»åŠ  ",-1)])])])])])):K("",!0)])}}},na=Y(oa,[["__scopeId","data-v-edd548d5"]]),ia={class:"duplicate-manage"},ra={class:"section-header"},da=["disabled"],ua={key:0,class:"duplicate-results"},ca={class:"result-summary"},va={class:"summary-card"},pa={class:"summary-value"},ma={class:"summary-card warning"},fa={class:"summary-value"},ha={class:"summary-card danger"},ga={class:"summary-value"},ba={class:"duplicate-groups"},ka={class:"group-header"},ya={class:"group-count"},wa={class:"card-item original"},_a={class:"card-info"},$a={class:"card-title"},Ca={class:"card-url"},Ma={key:0,class:"card-desc"},xa={class:"card-id"},Ua={class:"duplicates-list"},Va={class:"card-info"},Aa={class:"card-title"},Ba={class:"card-url"},Ta={key:0,class:"card-desc"},Ia={class:"card-actions"},Da={class:"card-id"},Sa=["onClick","disabled"],Pa={class:"group-actions"},La=["onClick","disabled"],Ka={class:"global-actions"},Wa=["disabled"],Na={key:1,class:"no-duplicates"},Ea={key:2,class:"initial-hint"},za={key:3,class:"error"},Oa={__name:"DuplicateManage",setup(g){const s=$(!1),l=$(!1),D=$(!1),a=$([]),_=$(0),m=$(0),I=$("");function v(){return B(this,null,function*(){var x,f;s.value=!0,I.value="";try{const d=yield nt();_.value=d.data.total,a.value=d.data.duplicateGroups,m.value=d.data.duplicateCount,D.value=!0}catch(d){I.value=((f=(x=d.response)==null?void 0:x.data)==null?void 0:f.error)||"æ£€æµ‹å¤±è´¥",console.error("æ£€æµ‹é‡å¤å¤±è´¥:",d)}finally{s.value=!1}})}function y(x){return B(this,null,function*(){var f,d,u;if(confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å¡ç‰‡å—ï¼Ÿ")){l.value=!0,I.value="";try{console.log("[å»é‡ç®¡ç†] åˆ é™¤å•ä¸ªå¡ç‰‡:",x);const i=yield _e([x]);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",i.data),i.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield v()):I.value="åˆ é™¤å¤±è´¥ï¼š"+(i.data.message||"æœªçŸ¥é”™è¯¯")}catch(i){console.error("[å»é‡ç®¡ç†] åˆ é™¤å¡ç‰‡å¤±è´¥:",i),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(f=i.response)==null?void 0:f.data),I.value=((u=(d=i.response)==null?void 0:d.data)==null?void 0:u.error)||i.message||"åˆ é™¤å¤±è´¥"}finally{l.value=!1}}})}function w(x){return B(this,null,function*(){var d,u,i;const f=x.duplicates.length;if(confirm(`ç¡®å®šè¦åˆ é™¤è¿™ ${f} å¼ é‡å¤å¡ç‰‡å—ï¼Ÿ

å°†ä¿ç•™ï¼š${x.original.title}`)){l.value=!0,I.value="";try{const V=x.duplicates.map(U=>U.id);console.log("[å»é‡ç®¡ç†] åˆ é™¤ä¸€ç»„é‡å¤å¡ç‰‡:",V);const M=yield _e(V);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",M.data),M.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield v()):I.value="åˆ é™¤å¤±è´¥ï¼š"+(M.data.message||"æœªçŸ¥é”™è¯¯")}catch(V){console.error("[å»é‡ç®¡ç†] åˆ é™¤é‡å¤å¡ç‰‡å¤±è´¥:",V),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(d=V.response)==null?void 0:d.data),I.value=((i=(u=V.response)==null?void 0:u.data)==null?void 0:i.error)||V.message||"åˆ é™¤å¤±è´¥"}finally{l.value=!1}}})}function h(){return B(this,null,function*(){var f,d,u;const x=m.value;if(confirm(`ç¡®å®šè¦åˆ é™¤æ‰€æœ‰ ${x} å¼ é‡å¤å¡ç‰‡å—ï¼Ÿ

æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`)){l.value=!0,I.value="";try{const i=a.value.flatMap(M=>M.duplicates.map(U=>U.id));console.log("[å»é‡ç®¡ç†] åˆ é™¤æ‰€æœ‰é‡å¤å¡ç‰‡:",i);const V=yield _e(i);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",V.data),V.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield v()):I.value="åˆ é™¤å¤±è´¥ï¼š"+(V.data.message||"æœªçŸ¥é”™è¯¯")}catch(i){console.error("[å»é‡ç®¡ç†] åˆ é™¤æ‰€æœ‰é‡å¤å¤±è´¥:",i),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(f=i.response)==null?void 0:f.data),I.value=((u=(d=i.response)==null?void 0:d.data)==null?void 0:u.error)||i.message||"åˆ é™¤å¤±è´¥"}finally{l.value=!1}}})}return(x,f)=>(o(),n("div",ia,[e("div",ra,[f[0]||(f[0]=e("h3",null,"å¡ç‰‡å»é‡ç®¡ç†",-1)),e("button",{onClick:v,class:"btn btn-primary",disabled:s.value},c(s.value?"æ£€æµ‹ä¸­...":"ğŸ” ä¸€é”®æ£€æµ‹é‡å¤"),9,da)]),a.value.length>0?(o(),n("div",ua,[e("div",ca,[e("div",va,[f[1]||(f[1]=e("div",{class:"summary-label"},"æ€»å¡ç‰‡æ•°",-1)),e("div",pa,c(_.value),1)]),e("div",ma,[f[2]||(f[2]=e("div",{class:"summary-label"},"é‡å¤ç»„æ•°",-1)),e("div",fa,c(a.value.length),1)]),e("div",ha,[f[3]||(f[3]=e("div",{class:"summary-label"},"é‡å¤å¡ç‰‡",-1)),e("div",ga,c(m.value),1)])]),e("div",ba,[(o(!0),n(R,null,q(a.value,(d,u)=>(o(),n("div",{key:u,class:"duplicate-group"},[e("div",ka,[e("h4",null,"é‡å¤ç»„ "+c(u+1),1),e("span",ya,c(d.totalCount)+" å¼ å¡ç‰‡",1)]),e("div",wa,[f[4]||(f[4]=e("div",{class:"card-badge"},"ä¿ç•™",-1)),e("div",_a,[e("div",$a,c(d.original.title),1),e("div",Ca,c(d.original.url),1),d.original.desc?(o(),n("div",Ma,c(d.original.desc),1)):K("",!0)]),e("div",xa,"ID: "+c(d.original.id),1)]),e("div",Ua,[(o(!0),n(R,null,q(d.duplicates,i=>(o(),n("div",{key:i.id,class:"card-item duplicate"},[f[5]||(f[5]=e("div",{class:"card-badge danger"},"é‡å¤",-1)),e("div",Va,[e("div",Aa,c(i.title),1),e("div",Ba,c(i.url),1),i.desc?(o(),n("div",Ta,c(i.desc),1)):K("",!0)]),e("div",Ia,[e("span",Da,"ID: "+c(i.id),1),e("button",{onClick:V=>y(i.id),class:"btn-remove",disabled:l.value,title:"åˆ é™¤æ­¤å¡ç‰‡"}," åˆ é™¤ ",8,Sa)])]))),128))]),e("div",Pa,[e("button",{onClick:i=>w(d),class:"btn btn-danger",disabled:l.value}," åˆ é™¤æ­¤ç»„æ‰€æœ‰é‡å¤å¡ç‰‡ ("+c(d.duplicates.length)+" å¼ ) ",9,La)])]))),128))]),e("div",Ka,[e("button",{onClick:h,class:"btn btn-danger btn-large",disabled:l.value},c(l.value?"åˆ é™¤ä¸­...":`åˆ é™¤æ‰€æœ‰é‡å¤å¡ç‰‡ (${m.value} å¼ )`),9,Wa)])])):D.value&&a.value.length===0?(o(),n("div",Na,[...f[6]||(f[6]=[e("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"#1abc9c","stroke-width":"2"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})],-1),e("h3",null,"å¤ªæ£’äº†ï¼æ²¡æœ‰å‘ç°é‡å¤å¡ç‰‡",-1),e("p",null,"æ‚¨çš„å¯¼èˆªå¡ç‰‡éƒ½æ˜¯å”¯ä¸€çš„",-1)])])):D.value?K("",!0):(o(),n("div",Ea,[...f[7]||(f[7]=[re('<svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2" data-v-62bbc778><circle cx="12" cy="12" r="10" data-v-62bbc778></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" data-v-62bbc778></path><line x1="12" y1="17" x2="12.01" y2="17" data-v-62bbc778></line></svg><h3 data-v-62bbc778>ç‚¹å‡»&quot;ä¸€é”®æ£€æµ‹é‡å¤&quot;å¼€å§‹æ‰«æ</h3><p data-v-62bbc778>ç³»ç»Ÿå°†æ£€æµ‹æ‰€æœ‰é‡å¤çš„å¯¼èˆªå¡ç‰‡</p><ul class="hint-list" data-v-62bbc778><li data-v-62bbc778>ğŸ“Œ URL ç›¸åŒçš„å¡ç‰‡</li><li data-v-62bbc778>ğŸ“Œ æ ‡é¢˜ç›¸åŒä¸”åŸŸåç›¸åŒçš„å¡ç‰‡</li></ul>',4)])])),I.value?(o(),n("p",za,c(I.value),1)):K("",!0)]))}},Ha=Y(Oa,[["__scopeId","data-v-62bbc778"]]),Ra={class:"tag-manage"},qa={class:"tag-header"},Fa={class:"tag-add"},Ga={class:"tag-content"},ja={key:0,class:"empty-state"},Ja={key:1,class:"tag-list"},Qa={class:"tag-info"},Xa=["onUpdate:modelValue","onBlur"],Ya={class:"tag-stats"},Za={class:"card-count"},el={class:"tag-controls"},tl=["onUpdate:modelValue","onChange"],sl={class:"tag-order"},al=["onUpdate:modelValue","onBlur"],ll={class:"tag-actions"},ol=["onClick"],nl={__name:"TagManage",setup(g){const s=$([]),l=$(""),D=$("#2566d8");le(a);function a(){return B(this,null,function*(){const v=yield Pe();s.value=v.data;for(const y of s.value)try{const w=yield it(y.id);y.cardCount=w.data.count}catch(w){y.cardCount=0}})}function _(){return B(this,null,function*(){var x,f;if(!l.value.trim())return;const v=s.value.length?Math.max(...s.value.map(d=>d.order||0)):0,y=l.value.trim(),w=D.value,h={id:Date.now(),name:y,color:w,order:v+1,cardCount:0,_temp:!0};s.value.push(h),l.value="",D.value="#2566d8";try{const d=yield rt({name:y,color:w,order:v+1}),u=s.value.findIndex(i=>i.id===h.id);u>-1&&(s.value[u]=ye(he({},d.data),{cardCount:0}))}catch(d){const u=s.value.findIndex(i=>i.id===h.id);u>-1&&s.value.splice(u,1),alert("æ·»åŠ æ ‡ç­¾å¤±è´¥ï¼š"+(((f=(x=d.response)==null?void 0:x.data)==null?void 0:f.error)||d.message))}})}function m(v){return B(this,null,function*(){var y,w;if(!v._temp)try{yield dt(v.id,{name:v.name,color:v.color,order:v.order})}catch(h){alert("æ›´æ–°æ ‡ç­¾å¤±è´¥ï¼š"+(((w=(y=h.response)==null?void 0:y.data)==null?void 0:w.error)||h.message)),a()}})}function I(v){return B(this,null,function*(){var x,f;const y=s.value.find(d=>d.id===v);if(!y)return;const w=y.cardCount>0?`ç¡®å®šè¦åˆ é™¤æ ‡ç­¾"${y.name}"å—ï¼Ÿè¿™å°†å–æ¶ˆ ${y.cardCount} å¼ å¡ç‰‡çš„å…³è”ã€‚`:`ç¡®å®šè¦åˆ é™¤æ ‡ç­¾"${y.name}"å—ï¼Ÿ`;if(!confirm(w))return;const h=s.value.findIndex(d=>d.id===v);h>-1&&s.value.splice(h,1);try{yield ut(v)}catch(d){alert("åˆ é™¤æ ‡ç­¾å¤±è´¥ï¼š"+(((f=(x=d.response)==null?void 0:x.data)==null?void 0:f.error)||d.message)),a()}})}return(v,y)=>(o(),n("div",Ra,[e("div",qa,[y[3]||(y[3]=e("div",{class:"header-content"},[e("h2",{class:"page-title"},"ç®¡ç†æ ‡ç­¾"),e("p",{class:"page-desc"},"ä¸ºå¡ç‰‡åˆ›å»ºå¤šç»´åº¦åˆ†ç±»æ ‡ç­¾")],-1)),e("div",Fa,[A(e("input",{"onUpdate:modelValue":y[0]||(y[0]=w=>l.value=w),placeholder:"æ ‡ç­¾åç§°",class:"input",maxlength:"20"},null,512),[[L,l.value]]),A(e("input",{"onUpdate:modelValue":y[1]||(y[1]=w=>D.value=w),type:"color",class:"color-input",title:"é€‰æ‹©æ ‡ç­¾é¢œè‰²"},null,512),[[L,D.value]]),e("button",{class:"btn btn-primary",onClick:_},[...y[2]||(y[2]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),z(" æ·»åŠ æ ‡ç­¾ ",-1)])])])]),e("div",Ga,[s.value.length===0?(o(),n("div",ja,[...y[4]||(y[4]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1),e("p",null,"æš‚æ— æ ‡ç­¾",-1),e("p",{class:"hint"},"åˆ›å»ºç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼Œå¼€å§‹ä¸ºå¡ç‰‡æ·»åŠ å¤šç»´åº¦åˆ†ç±»",-1)])])):(o(),n("div",Ja,[(o(!0),n(R,null,q(s.value,w=>(o(),n("div",{key:w.id,class:"tag-item"},[e("div",{class:"tag-preview",style:ke({backgroundColor:w.color})},[...y[5]||(y[5]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1)])],4),e("div",Qa,[A(e("input",{"onUpdate:modelValue":h=>w.name=h,onBlur:h=>m(w),class:"tag-name-input",maxlength:"20"},null,40,Xa),[[L,w.name]]),e("div",Ya,[e("span",Za,c(w.cardCount||0)+" å¼ å¡ç‰‡",1)])]),e("div",el,[A(e("input",{"onUpdate:modelValue":h=>w.color=h,type:"color",onChange:h=>m(w),class:"color-picker",title:"æ›´æ”¹é¢œè‰²"},null,40,tl),[[L,w.color]]),e("div",sl,[y[6]||(y[6]=e("span",{class:"order-label"},"æ’åº",-1)),A(e("input",{"onUpdate:modelValue":h=>w.order=h,type:"number",onBlur:h=>m(w),class:"order-input"},null,40,al),[[L,w.order,void 0,{number:!0}]])])]),e("div",ll,[e("button",{class:"btn btn-danger btn-icon",onClick:h=>I(w.id),title:"åˆ é™¤æ ‡ç­¾"},[...y[7]||(y[7]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,ol)])]))),128))]))])]))}},il=Y(nl,[["__scopeId","data-v-56efcb56"]]),rl={class:"promo-manage"},dl={key:0,class:"loading-overlay"},ul={class:"promo-header"},cl={class:"promo-form"},vl=["disabled"],pl={class:"promo-section"},ml={class:"promo-list"},fl={key:0,class:"empty-state"},hl={class:"promo-preview"},gl=["src"],bl={class:"promo-info"},kl={class:"promo-field"},yl=["onUpdate:modelValue","onBlur"],wl={class:"promo-field"},_l=["onUpdate:modelValue","onBlur"],$l={class:"promo-actions"},Cl=["onClick"],Ml={class:"promo-section"},xl={class:"promo-list"},Ul={key:0,class:"empty-state"},Vl={class:"promo-preview"},Al=["src"],Bl={class:"promo-info"},Tl={class:"promo-field"},Il=["onUpdate:modelValue","onBlur"],Dl={class:"promo-field"},Sl=["onUpdate:modelValue","onBlur"],Pl={class:"promo-actions"},Ll=["onClick"],ge="/api",Kl={__name:"PromoManage",setup(g){const s=()=>localStorage.getItem("token")||"",l=()=>({Authorization:`Bearer ${s()}`}),D=$([]),a=$(!1),_=$("åŠ è½½ä¸­..."),m=$({img:"",url:"",position:"left"}),I=ie(()=>D.value.filter(d=>d.position==="left")),v=ie(()=>D.value.filter(d=>d.position==="right"));le(()=>{y()});function y(){return B(this,null,function*(){var d,u;a.value=!0,_.value="åŠ è½½ä¸­...";try{const i=yield ne.get(`${ge}/promos`);let V=[];Array.isArray(i.data)?V=i.data:i.data&&Array.isArray(i.data.data)&&(V=i.data.data),D.value=V}catch(i){console.error("åŠ è½½å®£ä¼ å¤±è´¥:",i),alert("åŠ è½½å®£ä¼ å¤±è´¥: "+(((u=(d=i.response)==null?void 0:d.data)==null?void 0:u.error)||i.message))}finally{a.value=!1}})}function w(){return B(this,null,function*(){var d,u;if(!m.value.img||!m.value.url){alert("è¯·å¡«å†™å®£ä¼ å›¾ç‰‡é“¾æ¥å’Œè·³è½¬é“¾æ¥");return}a.value=!0,_.value="æ·»åŠ ä¸­...";try{yield ne.post(`${ge}/promos`,m.value,{headers:l()}),m.value={img:"",url:"",position:"left"},yield y()}catch(i){alert("æ·»åŠ å¤±è´¥: "+(((u=(d=i.response)==null?void 0:d.data)==null?void 0:u.error)||i.message)),a.value=!1}})}function h(d){return B(this,null,function*(){var u,i;try{yield ne.put(`${ge}/promos/${d.id}`,{img:d.img,url:d.url},{headers:l()})}catch(V){alert("æ›´æ–°å¤±è´¥: "+(((i=(u=V.response)==null?void 0:u.data)==null?void 0:i.error)||V.message)),yield y()}})}function x(d){return B(this,null,function*(){var u,i;if(confirm("ç¡®å®šåˆ é™¤è¿™ä¸ªå®£ä¼ å—ï¼Ÿ")){a.value=!0,_.value="åˆ é™¤ä¸­...";try{yield ne.delete(`${ge}/promos/${d.id}`,{headers:l()}),yield y()}catch(V){alert("åˆ é™¤å¤±è´¥: "+(((i=(u=V.response)==null?void 0:u.data)==null?void 0:i.error)||V.message)),a.value=!1}}})}function f(d){d.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="60"><rect fill="%23f0f0f0" width="100" height="60"/><text x="50" y="35" text-anchor="middle" fill="%23999" font-size="12">å›¾ç‰‡åŠ è½½å¤±è´¥</text></svg>'}return(d,u)=>(o(),n("div",rl,[a.value?(o(),n("div",dl,[u[3]||(u[3]=e("div",{class:"loading-spinner"},null,-1)),e("span",null,c(_.value),1)])):K("",!0),e("div",ul,[u[5]||(u[5]=e("h2",{class:"page-title"},"å®£ä¼ ç®¡ç†",-1)),e("div",cl,[A(e("input",{"onUpdate:modelValue":u[0]||(u[0]=i=>m.value.img=i),placeholder:"å®£ä¼ å›¾ç‰‡é“¾æ¥",class:"input"},null,512),[[L,m.value.img]]),A(e("input",{"onUpdate:modelValue":u[1]||(u[1]=i=>m.value.url=i),placeholder:"å®£ä¼ è·³è½¬é“¾æ¥",class:"input"},null,512),[[L,m.value.url]]),A(e("select",{"onUpdate:modelValue":u[2]||(u[2]=i=>m.value.position=i),class:"input select"},[...u[4]||(u[4]=[e("option",{value:"left"},"å·¦ä¾§å®£ä¼ ",-1),e("option",{value:"right"},"å³ä¾§å®£ä¼ ",-1)])],512),[[be,m.value.position]]),e("button",{class:"btn btn-primary",onClick:w,disabled:!m.value.img||!m.value.url}," + æ·»åŠ å®£ä¼  ",8,vl)])]),e("div",pl,[u[8]||(u[8]=e("h3",{class:"section-title"},"ğŸ“ å·¦ä¾§å®£ä¼ ",-1)),e("div",ml,[I.value.length===0?(o(),n("div",fl,"æš‚æ— å·¦ä¾§å®£ä¼ ")):K("",!0),(o(!0),n(R,null,q(I.value,i=>(o(),n("div",{key:i.id,class:"promo-card"},[e("div",hl,[e("img",{src:i.img,alt:"å®£ä¼ å›¾ç‰‡",onError:f},null,40,gl)]),e("div",bl,[e("div",kl,[u[6]||(u[6]=e("label",null,"å›¾ç‰‡é“¾æ¥",-1)),A(e("input",{"onUpdate:modelValue":V=>i.img=V,class:"input",onBlur:V=>h(i)},null,40,yl),[[L,i.img]])]),e("div",wl,[u[7]||(u[7]=e("label",null,"è·³è½¬é“¾æ¥",-1)),A(e("input",{"onUpdate:modelValue":V=>i.url=V,class:"input",onBlur:V=>h(i)},null,40,_l),[[L,i.url]])])]),e("div",$l,[e("button",{class:"btn btn-danger",onClick:V=>x(i)},"åˆ é™¤",8,Cl)])]))),128))])]),e("div",Ml,[u[11]||(u[11]=e("h3",{class:"section-title"},"ğŸ“ å³ä¾§å®£ä¼ ",-1)),e("div",xl,[v.value.length===0?(o(),n("div",Ul,"æš‚æ— å³ä¾§å®£ä¼ ")):K("",!0),(o(!0),n(R,null,q(v.value,i=>(o(),n("div",{key:i.id,class:"promo-card"},[e("div",Vl,[e("img",{src:i.img,alt:"å®£ä¼ å›¾ç‰‡",onError:f},null,40,Al)]),e("div",Bl,[e("div",Tl,[u[9]||(u[9]=e("label",null,"å›¾ç‰‡é“¾æ¥",-1)),A(e("input",{"onUpdate:modelValue":V=>i.img=V,class:"input",onBlur:V=>h(i)},null,40,Il),[[L,i.img]])]),e("div",Dl,[u[10]||(u[10]=e("label",null,"è·³è½¬é“¾æ¥",-1)),A(e("input",{"onUpdate:modelValue":V=>i.url=V,class:"input",onBlur:V=>h(i)},null,40,Sl),[[L,i.url]])])]),e("div",Pl,[e("button",{class:"btn btn-danger",onClick:V=>x(i)},"åˆ é™¤",8,Ll)])]))),128))])])]))}},Wl=Y(Kl,[["__scopeId","data-v-0221fbc3"]]),Nl={class:"friend-manage"},El={class:"friend-add"},zl={class:"friend-card"},Ol={class:"friend-table"},Hl=["onUpdate:modelValue","onBlur"],Rl=["onUpdate:modelValue","onBlur"],ql=["onUpdate:modelValue","onBlur"],Fl=["onClick"],Gl={__name:"FriendLinkManage",setup(g){const s=$([]),l=$(""),D=$(""),a=$("");le(_);function _(){return B(this,null,function*(){const y=yield ct();s.value=y.data})}function m(){return B(this,null,function*(){!l.value||!D.value||(yield vt({title:l.value,url:D.value,logo:a.value}),l.value="",D.value="",a.value="",_())})}function I(y){return B(this,null,function*(){yield pt(y.id,{title:y.title,url:y.url,logo:y.logo}),_()})}function v(y){return B(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå‹é“¾å—ï¼Ÿ"))return;const w=s.value.findIndex(h=>h.id===y);w>-1&&s.value.splice(w,1);try{yield mt(y)}catch(h){console.error("åˆ é™¤å‹é“¾å¤±è´¥:",h),yield _()}})}return(y,w)=>(o(),n("div",Nl,[w[4]||(w[4]=e("div",{class:"friend-header"},null,-1)),e("div",El,[A(e("input",{"onUpdate:modelValue":w[0]||(w[0]=h=>l.value=h),placeholder:"ç½‘ç«™å",class:"input"},null,512),[[L,l.value]]),A(e("input",{"onUpdate:modelValue":w[1]||(w[1]=h=>D.value=h),placeholder:"ç½‘ç«™é“¾æ¥",class:"input"},null,512),[[L,D.value]]),A(e("input",{"onUpdate:modelValue":w[2]||(w[2]=h=>a.value=h),placeholder:"logoé“¾æ¥(å¯é€‰)",class:"input"},null,512),[[L,a.value]]),e("button",{class:"btn",onClick:m},"æ·»åŠ å‹é“¾")]),e("div",zl,[e("table",Ol,[w[3]||(w[3]=e("thead",null,[e("tr",null,[e("th",null,"ç½‘ç«™å"),e("th",null,"é“¾æ¥"),e("th",null,"Logo"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(o(!0),n(R,null,q(s.value,h=>(o(),n("tr",{key:h.id},[e("td",null,[A(e("input",{"onUpdate:modelValue":x=>h.title=x,onBlur:x=>I(h),class:"input"},null,40,Hl),[[L,h.title]])]),e("td",null,[A(e("input",{"onUpdate:modelValue":x=>h.url=x,onBlur:x=>I(h),class:"input"},null,40,Rl),[[L,h.url]])]),e("td",null,[A(e("input",{"onUpdate:modelValue":x=>h.logo=x,onBlur:x=>I(h),class:"input",placeholder:"logoé“¾æ¥(å¯é€‰)"},null,40,ql),[[L,h.logo]])]),e("td",null,[e("button",{class:"btn btn-danger",onClick:x=>v(h.id)},"åˆ é™¤",8,Fl)])]))),128))])])])]))}},jl=Y(Gl,[["__scopeId","data-v-c25e838c"]]),Jl={class:"user-manage"},Ql={class:"user-card"},Xl={class:"username-section"},Yl={class:"username-form"},Zl={class:"current-username"},eo={class:"username-display"},to={class:"form-group"},so={class:"form-actions"},ao=["disabled"],lo={class:"password-section"},oo={class:"password-form"},no={class:"form-group"},io={class:"form-group"},ro={class:"form-group"},uo={class:"form-actions"},co=["disabled"],vo={__name:"UserManage",setup(g){const s=$(""),l=$(""),D=$(""),a=$(!1),_=$(""),m=$("success"),I=$({}),v=$(""),y=$(!1),w=$(""),h=$("success");le(()=>B(null,null,function*(){yield x()}));function x(){return B(this,null,function*(){try{const V=yield ft();I.value=V.data.data||V.data}catch(V){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",V)}})}function f(){return B(this,null,function*(){var V,M;if(!v.value){d("è¯·è¾“å…¥æ–°ç”¨æˆ·å","error");return}if(v.value.length<3||v.value.length>20){d("ç”¨æˆ·åé•¿åº¦åº”ä¸º3-20ä½","error");return}if(v.value===I.value.username){d("æ–°ç”¨æˆ·åä¸èƒ½ä¸å½“å‰ç”¨æˆ·åç›¸åŒ","error");return}y.value=!0,w.value="";try{yield ht(v.value),d("ç”¨æˆ·åä¿®æ”¹æˆåŠŸï¼2ç§’åè‡ªåŠ¨é€€å‡ºï¼Œè¯·ä½¿ç”¨æ–°ç”¨æˆ·åé‡æ–°ç™»å½•...","success"),v.value="",setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/admin"},2e3)}catch(U){d(((M=(V=U.response)==null?void 0:V.data)==null?void 0:M.message)||"ç”¨æˆ·åä¿®æ”¹å¤±è´¥","error")}finally{y.value=!1}})}function d(V,M){w.value=V,h.value=M,setTimeout(()=>{w.value=""},3e3)}function u(){return B(this,null,function*(){var V,M;if(!s.value||!l.value||!D.value){i("è¯·å¡«å†™æ‰€æœ‰å¯†ç å­—æ®µ","error");return}if(l.value!==D.value){i("ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´","error");return}if(l.value.length<6){i("æ–°å¯†ç é•¿åº¦è‡³å°‘6ä½","error");return}a.value=!0,_.value="";try{yield gt(s.value,l.value),i("å¯†ç ä¿®æ”¹æˆåŠŸ","success"),s.value="",l.value="",D.value=""}catch(U){i(((M=(V=U.response)==null?void 0:V.data)==null?void 0:M.message)||"å¯†ç ä¿®æ”¹å¤±è´¥","error")}finally{a.value=!1}})}function i(V,M){_.value=V,m.value=M,V==="å¯†ç ä¿®æ”¹æˆåŠŸ"&&M==="success"?setTimeout(()=>{_.value="2ç§’åè‡ªåŠ¨é€€å‡ºç™»å½•,è¯·ä½¿ç”¨æ–°å¯†ç é‡æ–°ç™»å½•...",setTimeout(()=>{localStorage.removeItem("token"),window.location.reload()},2e3)},500):setTimeout(()=>{_.value=""},3e3)}return(V,M)=>(o(),n("div",Jl,[M[11]||(M[11]=e("div",{class:"user-header"},null,-1)),e("div",Ql,[e("div",Xl,[M[6]||(M[6]=e("h3",{class:"section-title"},"ä¿®æ”¹ç”¨æˆ·å",-1)),e("div",Yl,[e("div",Zl,[M[4]||(M[4]=e("label",null,"å½“å‰ç”¨æˆ·åï¼š",-1)),e("span",eo,c(I.value.username||"admin"),1)]),e("div",to,[M[5]||(M[5]=e("label",null,"æ–°ç”¨æˆ·åï¼š",-1)),A(e("input",{"onUpdate:modelValue":M[0]||(M[0]=U=>v.value=U),type:"text",placeholder:"è¯·è¾“å…¥æ–°ç”¨æˆ·åï¼ˆ3-20ä½ï¼‰",class:"input"},null,512),[[L,v.value]])]),e("div",so,[e("button",{onClick:f,class:"btn",disabled:y.value},c(y.value?"ä¿®æ”¹ä¸­...":"ä¿®æ”¹ç”¨æˆ·å"),9,ao)]),w.value?(o(),n("p",{key:0,class:E(["message",h.value])},c(w.value),3)):K("",!0)])]),e("div",lo,[M[10]||(M[10]=e("h3",{class:"section-title"},"ä¿®æ”¹å¯†ç ",-1)),e("div",oo,[e("div",no,[M[7]||(M[7]=e("label",null,"å½“å‰å¯†ç ï¼š",-1)),A(e("input",{"onUpdate:modelValue":M[1]||(M[1]=U=>s.value=U),type:"password",placeholder:"è¯·è¾“å…¥å½“å‰å¯†ç ",class:"input"},null,512),[[L,s.value]])]),e("div",io,[M[8]||(M[8]=e("label",null,"æ–°å¯†ç ï¼š",-1)),A(e("input",{"onUpdate:modelValue":M[2]||(M[2]=U=>l.value=U),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ",class:"input"},null,512),[[L,l.value]])]),e("div",ro,[M[9]||(M[9]=e("label",null,"ç¡®è®¤æ–°å¯†ç ï¼š",-1)),A(e("input",{"onUpdate:modelValue":M[3]||(M[3]=U=>D.value=U),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ",class:"input"},null,512),[[L,D.value]])]),e("div",uo,[e("button",{onClick:u,class:"btn",disabled:a.value},c(a.value?"ä¿®æ”¹ä¸­...":"ä¿®æ”¹å¯†ç "),9,co)]),_.value?(o(),n("p",{key:0,class:E(["message",m.value])},c(_.value),3)):K("",!0)])])])]))}},po=Y(vo,[["__scopeId","data-v-40392133"]]),mo={class:"backup-manage"},fo={class:"tabs"},ho={class:"tab-content"},go={class:"toolbar"},bo=["disabled"],ko=["disabled"],yo=["disabled"],wo={class:"backup-list"},_o={key:0,class:"empty-state"},$o={key:1,class:"backup-grid"},Co={class:"backup-info"},Mo={class:"backup-name"},xo={class:"backup-meta"},Uo={class:"backup-size"},Vo={class:"backup-date"},Ao={key:0,class:"backup-signed",title:"å·²ç­¾åéªŒè¯"},Bo={key:1,class:"backup-unsigned",title:"æœªç­¾åï¼ˆå¤–éƒ¨ä¸Šä¼ ï¼‰"},To={class:"backup-actions"},Io=["onClick"],Do=["onClick"],So=["onClick"],Po=["onClick"],Lo={class:"tab-content"},Ko={class:"toolbar"},Wo=["disabled"],No=["disabled"],Eo={key:1,class:"info-box"},zo={class:"backup-list"},Oo={key:0,class:"empty-state"},Ho={key:1,class:"backup-grid"},Ro={class:"backup-info"},qo={class:"backup-name"},Fo={class:"backup-meta"},Go={class:"backup-size"},jo={class:"backup-date"},Jo={class:"backup-actions"},Qo=["onClick"],Xo=["onClick"],Yo={class:"tab-content"},Zo={class:"config-section"},en={class:"config-card"},tn={class:"config-header"},sn={class:"switch"},an={key:0,class:"config-fields"},ln={class:"field-row"},on={class:"field-row"},nn={class:"config-card"},rn={class:"config-header"},dn={class:"switch"},un={key:0,class:"config-fields"},cn={class:"field-row"},vn={class:"time-input"},pn={class:"field-row"},mn={class:"field-row checkbox-row"},fn={class:"checkbox-label"},hn={class:"config-card"},gn={class:"config-header"},bn={class:"switch"},kn={class:"config-info"},yn={key:0,class:"warning-text"},wn={key:0,class:"config-fields"},_n={class:"field-row checkbox-row"},$n={class:"checkbox-label"},Cn={class:"field-row checkbox-row"},Mn={class:"checkbox-label"},xn={class:"config-card"},Un={class:"config-header"},Vn={class:"switch"},An={key:0,class:"stats-card"},Bn={class:"stats-grid"},Tn={class:"stat-item"},In={class:"stat-value"},Dn={class:"stat-item"},Sn={class:"stat-value"},Pn={class:"stat-item"},Ln={class:"stat-value"},Kn={class:"stat-item"},Wn={class:"stat-value"},Nn={class:"config-actions"},En=["disabled"],zn={key:0,class:"modal-overlay"},On={class:"modal-content config-modal"},Hn={class:"form-group"},Rn={class:"form-group"},qn={class:"form-group"},Fn=["placeholder"],Gn={key:0},jn={key:1},Jn={class:"modal-actions"},Qn=["disabled"],Xn={key:1,class:"modal-overlay"},Yn={class:"modal-content"},Zn={style:{"white-space":"pre-line"}},ei={class:"modal-actions"},ti=["disabled"],si=["disabled"],ai={key:2,class:"modal-overlay"},li={class:"modal-content config-modal"},oi={class:"form-group"},ni={class:"form-group"},ii={class:"modal-actions"},ri=["disabled"],di={key:3,class:"modal-overlay"},ui={class:"modal-content config-modal"},ci={class:"form-group"},vi={class:"modal-actions"},pi=["disabled"],mi={__name:"BackupManage",setup(g){const s=$("local"),l=$([]),D=$([]),a=$(!1),_=$(!1),m=$(!1),I=$(null),v=oe({create:!1,list:!1,delete:!1,restore:!1,upload:!1,rename:!1,webdavConfig:!1,webdavBackup:!1,webdavList:!1,webdavRestore:!1,webdavDelete:!1,autoBackupConfig:!1}),y=oe({name:"",description:""}),w=oe({oldName:"",newName:""}),h=$({text:"",type:""}),x=oe({show:!1,filename:"",action:null,title:"",message:"",confirmClass:"",signed:!0,processing:!1}),f=oe({configured:!1,url:"",username:""}),d=oe({url:"",username:"",password:""}),u=oe({debounce:{enabled:!0,delay:5,keep:5},scheduled:{enabled:!0,hour:2,minute:0,keep:7,onlyIfModified:!0},webdav:{enabled:!1,syncDaily:!0,syncIncremental:!0},autoClean:!0}),i=$(null),V=localStorage.getItem("token");function M(F){return B(this,arguments,function*(b,t={}){return(yield fetch(b,ye(he({},t),{headers:he({Authorization:`Bearer ${V}`,"Content-Type":"application/json"},t.headers)}))).json()})}const U=(b,t="success",F=4e3)=>{h.value={text:b,type:t},setTimeout(()=>{h.value={text:"",type:""}},t==="error"?6e3:F)};function H(){try{window.dispatchEvent(new CustomEvent("nav-menus-updated")),console.log("[å¤‡ä»½ç®¡ç†] å·²é€šçŸ¥æ‰©å±•åˆ·æ–°å³é”®èœå•")}catch(b){console.warn("[å¤‡ä»½ç®¡ç†] é€šçŸ¥æ‰©å±•å¤±è´¥:",b)}}function J(){return B(this,null,function*(){try{const b=yield M("/api/ai/config/verify");b.success&&(b.status==="decrypt_failed"?(U("âš ï¸ AI é…ç½®æ¢å¤å¼‚å¸¸ï¼šAPI Key è§£å¯†å¤±è´¥ï¼Œè¯·å‰å¾€ AI è®¾ç½®é‡æ–°é…ç½®","warning",8e3),setTimeout(()=>{confirm(`AI é…ç½®çš„ API Key è§£å¯†å¤±è´¥ï¼Œå¯èƒ½æ˜¯å› ä¸ºå¤‡ä»½æ¥è‡ªä¸åŒçš„æœåŠ¡å™¨ã€‚

æ˜¯å¦ç°åœ¨å‰å¾€ AI è®¾ç½®é¡µé¢é‡æ–°é…ç½®ï¼Ÿ`)&&(window.location.href="/admin/ai-settings")},1e3)):b.status==="ok"&&console.log("[å¤‡ä»½ç®¡ç†] AI é…ç½®éªŒè¯é€šè¿‡"))}catch(b){console.warn("[å¤‡ä»½ç®¡ç†] AI é…ç½®éªŒè¯å¤±è´¥:",b)}})}const Z=()=>{y.name="",y.description="",_.value=!0},ee=()=>B(null,null,function*(){v.create=!0;const b=yield M("/api/backup/create",{method:"POST",body:JSON.stringify({name:y.name||null,description:y.description||null})});b.success?(U("å¤‡ä»½åˆ›å»ºæˆåŠŸï¼"),_.value=!1,yield N()):U(b.message||"å¤‡ä»½åˆ›å»ºå¤±è´¥","error"),v.create=!1}),se=b=>{w.oldName=b,w.newName=b.replace(".zip",""),m.value=!0},te=()=>B(null,null,function*(){if(!w.newName.trim()){U("è¯·è¾“å…¥æ–°åç§°","error");return}v.rename=!0;const b=yield M(`/api/backup/rename/${w.oldName}`,{method:"PUT",body:JSON.stringify({newName:w.newName})});b.success?(U("é‡å‘½åæˆåŠŸï¼"),m.value=!1,yield N()):U(b.message||"é‡å‘½åå¤±è´¥","error"),v.rename=!1}),N=()=>B(null,null,function*(){v.list=!0;const b=yield M("/api/backup/list");b.success?l.value=b.backups:U("è·å–å¤‡ä»½åˆ—è¡¨å¤±è´¥","error"),v.list=!1}),W=b=>{window.open(`/api/backup/download/${b}?token=${V}`,"_blank")},k=(b,t)=>{const F=typeof t=="object"?t:{name:t},C=F.name;x.show=!0,x.filename=C,x.action=b,x.signed=F.signed,x.processing=!1,b==="delete"?(x.title="åˆ é™¤",x.message=`ç¡®å®šè¦åˆ é™¤å¤‡ä»½æ–‡ä»¶ ${C} å—ï¼Ÿ`,x.confirmClass="btn-danger"):b==="restore"?(x.title="æ¢å¤",F.signed?x.message=`ç¡®å®šè¦æ¢å¤å¤‡ä»½æ–‡ä»¶ ${C} å—ï¼Ÿ`:x.message=`âš ï¸ è­¦å‘Šï¼šæ­¤å¤‡ä»½æ–‡ä»¶æœªç­¾åï¼ˆå¯èƒ½æ˜¯å¤–éƒ¨ä¸Šä¼ çš„ï¼‰ï¼Œæ— æ³•éªŒè¯å…¶å®Œæ•´æ€§ã€‚

ç¡®å®šè¦æ¢å¤å¤‡ä»½æ–‡ä»¶ ${C} å—ï¼Ÿ`,x.confirmClass="btn-restore"):b==="webdav-restore"?(x.title="ä»WebDAVæ¢å¤",x.message=`ç¡®å®šè¦ä»WebDAVæ¢å¤å¤‡ä»½ ${C} å—ï¼Ÿè¿™å°†è¦†ç›–å½“å‰æ•°æ®ã€‚`,x.confirmClass="btn-restore"):b==="webdav-delete"&&(x.title="åˆ é™¤WebDAVå¤‡ä»½",x.message=`ç¡®å®šè¦åˆ é™¤WebDAVå¤‡ä»½ ${C} å—ï¼Ÿ`,x.confirmClass="btn-danger")},T=()=>B(null,null,function*(){const{action:b,filename:t,signed:F}=x;x.show=!1,x.processing=!1;try{if(b==="delete"){U("æ­£åœ¨åˆ é™¤å¤‡ä»½...");const C=yield M(`/api/backup/delete/${t}`,{method:"DELETE"});C.success?(U("âœ“ åˆ é™¤æˆåŠŸ"),yield N()):U("âœ— "+(C.message||"åˆ é™¤å¤±è´¥"),"error")}else if(b==="restore"){U("æ­£åœ¨æ¢å¤å¤‡ä»½ï¼Œè¯·ç¨å€™...");const C=F?{}:{forceRestore:!0},G=yield M(`/api/backup/restore/${t}`,{method:"POST",body:JSON.stringify(C)});if(G.success)U("âœ“ å¤‡ä»½å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½æ•°æ®..."),yield new Promise(de=>setTimeout(de,2e3)),yield Promise.all([N(),j(),Q(),P()]),H(),G.checkAIConfig&&(yield J()),U("âœ“ æ¢å¤å®Œæˆï¼æ•°æ®å·²æ›´æ–°","success",5e3);else if(G.requireConfirm&&G.code==="NO_SIGNATURE"){if(confirm(G.message+`

ç‚¹å‡»"ç¡®å®š"ç»§ç»­æ¢å¤ï¼Œç‚¹å‡»"å–æ¶ˆ"æ”¾å¼ƒæ“ä½œã€‚`)){const de=yield M(`/api/backup/restore/${t}`,{method:"POST",body:JSON.stringify({forceRestore:!0})});de.success?(U("âœ“ å¤‡ä»½å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½æ•°æ®..."),yield new Promise(We=>setTimeout(We,2e3)),yield Promise.all([N(),j(),Q(),P()]),H(),de.checkAIConfig&&(yield J()),U("âœ“ æ¢å¤å®Œæˆï¼æ•°æ®å·²æ›´æ–°","success",5e3)):U("âœ— "+(de.message||"æ¢å¤å¤±è´¥"),"error")}}else U("âœ— "+(G.message||"æ¢å¤å¤±è´¥"),"error")}else b==="webdav-restore"?yield me(t):b==="webdav-delete"&&(yield fe(t))}catch(C){U("âœ— æ“ä½œå¤±è´¥: "+C.message,"error")}}),S=b=>b?new Date(b).toLocaleString("zh-CN",{hour12:!1}):"--",p=()=>{I.value.click()},r=b=>B(null,null,function*(){const t=b.target.files[0];if(t){if(!t.name.endsWith(".zip")){U("åªæ”¯æŒ.zipæ ¼å¼çš„å¤‡ä»½æ–‡ä»¶","error"),b.target.value="";return}if(t.size>500*1024*1024){U("å¤‡ä»½æ–‡ä»¶è¿‡å¤§ï¼Œæœ€å¤§æ”¯æŒ500MB","error"),b.target.value="";return}v.upload=!0;try{const F=new FormData;F.append("backup",t);const G=yield(yield fetch("/api/backup/upload",{method:"POST",headers:{Authorization:`Bearer ${V}`},body:F})).json();G.success?(U("å¤‡ä»½æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),yield N()):U(G.message||"å¤‡ä»½æ–‡ä»¶ä¸Šä¼ å¤±è´¥","error")}catch(F){console.error("ä¸Šä¼ å¤±è´¥:",F),U("å¤‡ä»½æ–‡ä»¶ä¸Šä¼ å¤±è´¥","error")}finally{v.upload=!1,b.target.value=""}}}),j=()=>B(null,null,function*(){const b=yield M("/api/backup/webdav/config");b.success&&b.config&&(f.configured=b.config.configured,f.url=b.config.url||"",f.username=b.config.username||"")}),ue=()=>B(null,null,function*(){yield j(),d.url=f.url,d.username=f.username,d.password="",a.value=!0}),ce=()=>B(null,null,function*(){if(!d.url||!d.username){U("è¯·å¡«å†™URLå’Œç”¨æˆ·å","error");return}if(!f.configured&&!d.password){U("é¦–æ¬¡é…ç½®æ—¶å¯†ç ä¸èƒ½ä¸ºç©º","error");return}v.webdavConfig=!0;const b=yield M("/api/backup/webdav/config",{method:"POST",body:JSON.stringify(d)});b.success?(a.value=!1,yield j(),f.configured?(yield Q(),yield P(),u.webdav.enabled?U("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼"):(u.webdav.enabled=!0,(yield M("/api/backup/auto/config",{method:"POST",body:JSON.stringify(u)})).success?U("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼Œå·²è‡ªåŠ¨å¼€å¯WebDAVè‡ªåŠ¨åŒæ­¥ï¼"):U("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼Œä½†è‡ªåŠ¨åŒæ­¥å¼€å¯å¤±è´¥","error"))):U("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼")):U(b.message||"WebDAVé…ç½®ä¿å­˜å¤±è´¥","error"),v.webdavConfig=!1}),ve=()=>B(null,null,function*(){v.webdavBackup=!0;const b=yield M("/api/backup/webdav/backup",{method:"POST"});b.success?(U("å¤‡ä»½åˆ°WebDAVæˆåŠŸï¼"),yield Q()):(U(b.message||"å¤‡ä»½åˆ°WebDAVå¤±è´¥","error"),b.needReconfigure&&(f.configured=!1,f.url="",f.username="")),v.webdavBackup=!1}),pe=b=>{b.target.checked&&!f.configured&&(u.webdav.enabled=!1,U('è¯·å…ˆåœ¨"WebDAVå¤‡ä»½"æ ‡ç­¾é¡µé…ç½®WebDAVè¿æ¥',"error"),s.value="webdav")},Q=()=>B(null,null,function*(){v.webdavList=!0;const b=yield M("/api/backup/webdav/list");b.success?(D.value=b.backups||[],b.configured===!1&&(f.configured=!1,f.url="",f.username="",b.message&&U(b.message,"error"))):U(b.message||"è·å–WebDAVå¤‡ä»½åˆ—è¡¨å¤±è´¥","error"),v.webdavList=!1}),me=b=>B(null,null,function*(){U("æ­£åœ¨ä» WebDAV æ¢å¤å¤‡ä»½ï¼Œè¯·ç¨å€™..."),v.webdavRestore=!0;try{const t=yield M("/api/backup/webdav/restore",{method:"POST",body:JSON.stringify({filename:b})});t.success?(U("âœ“ å¤‡ä»½å·²æ¢å¤ï¼Œæ­£åœ¨é‡æ–°åŠ è½½æ•°æ®..."),yield new Promise(F=>setTimeout(F,2e3)),yield Promise.all([N(),j(),Q(),P()]),H(),t.checkAIConfig&&(yield J()),U("âœ“ æ¢å¤å®Œæˆï¼æ•°æ®å·²æ›´æ–°","success",5e3)):(U("âœ— "+(t.message||"ä» WebDAV æ¢å¤å¤±è´¥"),"error"),t.needReconfigure&&(f.configured=!1,f.url="",f.username=""))}catch(t){U("âœ— æ¢å¤å¤±è´¥: "+t.message,"error")}finally{v.webdavRestore=!1}}),fe=b=>B(null,null,function*(){U("æ­£åœ¨åˆ é™¤ WebDAV å¤‡ä»½..."),v.webdavDelete=!0;try{const t=yield M(`/api/backup/webdav/delete/${b}`,{method:"DELETE"});t.success?(U("âœ“ åˆ é™¤æˆåŠŸ"),yield Q()):(U("âœ— "+(t.message||"åˆ é™¤å¤±è´¥"),"error"),t.needReconfigure&&(f.configured=!1,f.url="",f.username=""))}catch(t){U("âœ— åˆ é™¤å¤±è´¥: "+t.message,"error")}finally{v.webdavDelete=!1}}),P=()=>B(null,null,function*(){const b=yield M("/api/backup/auto/config");b.success&&b.config?(Object.assign(u,b.config),i.value=b.stats||null):U("åŠ è½½è‡ªåŠ¨å¤‡ä»½é…ç½®å¤±è´¥","error")}),O=()=>B(null,null,function*(){v.autoBackupConfig=!0;const b=yield M("/api/backup/auto/config",{method:"POST",body:JSON.stringify(u)});b.success?(U("è‡ªåŠ¨å¤‡ä»½é…ç½®ä¿å­˜æˆåŠŸï¼"),yield P()):U(b.message||"è‡ªåŠ¨å¤‡ä»½é…ç½®ä¿å­˜å¤±è´¥","error"),v.autoBackupConfig=!1}),Le=()=>{if(!u.scheduled.enabled)return"æœªå¯ç”¨";const b=String(u.scheduled.hour).padStart(2,"0"),t=String(u.scheduled.minute).padStart(2,"0");return`æ¯å¤© ${b}:${t}`},Ke=()=>{confirm("ç¡®å®šè¦æ¢å¤ä¸ºé»˜è®¤é…ç½®å—ï¼Ÿè¿™å°†é‡ç½®æ‰€æœ‰è‡ªåŠ¨å¤‡ä»½è®¾ç½®ã€‚")&&(u.debounce={enabled:!0,delay:5,keep:5},u.scheduled={enabled:!0,hour:2,minute:0,keep:7,onlyIfModified:!0},u.webdav={enabled:!1,syncDaily:!0,syncIncremental:!0},u.autoClean=!0,U('å·²æ¢å¤é»˜è®¤é…ç½®ï¼Œè¯·ç‚¹å‡»"ä¿å­˜é…ç½®"ä»¥ç”Ÿæ•ˆ'))};return le(()=>B(null,null,function*(){yield N(),yield j(),f.configured&&(yield Q()),yield P()})),(b,t)=>{var F;return o(),n("div",mo,[e("div",fo,[e("button",{class:E(["tab",{active:s.value==="local"}]),onClick:t[0]||(t[0]=C=>s.value="local")}," ğŸ“¦ æœ¬åœ°å¤‡ä»½ ",2),e("button",{class:E(["tab",{active:s.value==="webdav"}]),onClick:t[1]||(t[1]=C=>s.value="webdav")}," â˜ï¸ WebDAVå¤‡ä»½ ",2),e("button",{class:E(["tab",{active:s.value==="auto"}]),onClick:t[2]||(t[2]=C=>s.value="auto")}," âš™ï¸ è‡ªåŠ¨å¤‡ä»½é…ç½® ",2)]),A(e("div",ho,[e("div",go,[e("button",{class:"btn btn-primary",onClick:Z,disabled:v.create},[t[25]||(t[25]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})],-1)),z(" "+c(v.create?"å¤‡ä»½ä¸­...":"åˆ›å»ºå¤‡ä»½"),1)],8,bo),e("button",{class:"btn btn-success",onClick:p,disabled:v.upload},[t[26]||(t[26]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5-5 5 5M12 15V3"})],-1)),z(" "+c(v.upload?"ä¸Šä¼ ä¸­...":"ä¸Šä¼ å¤‡ä»½"),1)],8,ko),e("button",{class:"btn btn-secondary",onClick:N,disabled:v.list},[t[27]||(t[27]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)),z(" "+c(v.list?"åˆ·æ–°ä¸­...":"åˆ·æ–°åˆ—è¡¨"),1)],8,yo),e("input",{ref_key:"fileInput",ref:I,type:"file",accept:".zip",onChange:r,style:{display:"none"}},null,544)]),h.value.text?(o(),n("div",{key:0,class:E(["message",h.value.type])},c(h.value.text),3)):K("",!0),e("div",wo,[l.value.length===0&&!v.list?(o(),n("div",_o,[...t[28]||(t[28]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#ccc","stroke-width":"1.5"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})],-1),e("p",null,"æš‚æ— å¤‡ä»½æ–‡ä»¶",-1)])])):(o(),n("div",$o,[(o(!0),n(R,null,q(l.value,C=>(o(),n("div",{key:C.name,class:"backup-card"},[t[33]||(t[33]=e("div",{class:"backup-icon"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"})])],-1)),e("div",Co,[e("div",Mo,c(C.name),1),e("div",xo,[e("span",Uo,c(C.size),1),e("span",Vo,c(S(C.created)),1),C.signed?(o(),n("span",Ao,"ğŸ”’")):(o(),n("span",Bo,"âš ï¸"))])]),e("div",To,[e("button",{class:"btn-icon btn-restore",onClick:G=>k("restore",C),title:"æ¢å¤å¤‡ä»½"},[...t[29]||(t[29]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)])],8,Io),e("button",{class:"btn-icon btn-rename",onClick:G=>se(C.name),title:"é‡å‘½å"},[...t[30]||(t[30]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Do),e("button",{class:"btn-icon",onClick:G=>W(C.name),title:"ä¸‹è½½å¤‡ä»½"},[...t[31]||(t[31]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})],-1)])],8,So),e("button",{class:"btn-icon btn-danger",onClick:G=>k("delete",C.name),title:"åˆ é™¤å¤‡ä»½"},[...t[32]||(t[32]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,Po)])]))),128))]))])],512),[[we,s.value==="local"]]),A(e("div",Lo,[e("div",Ko,[e("button",{class:"btn btn-primary",onClick:ue},[...t[34]||(t[34]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})],-1),z(" WebDAVé…ç½® ",-1)])]),e("button",{class:"btn btn-primary",onClick:ve,disabled:v.webdavBackup||!f.configured},[t[35]||(t[35]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})],-1)),z(" "+c(v.webdavBackup?"å¤‡ä»½ä¸­...":"å¤‡ä»½åˆ°WebDAV"),1)],8,Wo),e("button",{class:"btn btn-secondary",onClick:Q,disabled:v.webdavList||!f.configured},[t[36]||(t[36]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)),z(" "+c(v.webdavList?"åˆ·æ–°ä¸­...":"åˆ·æ–°åˆ—è¡¨"),1)],8,No)]),h.value.text?(o(),n("div",{key:0,class:E(["message",h.value.type])},c(h.value.text),3)):K("",!0),f.configured?K("",!0):(o(),n("div",Eo,[...t[37]||(t[37]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),e("p",null,"è¯·å…ˆé…ç½®WebDAVè¿æ¥ä¿¡æ¯ï¼ˆæ”¯æŒï¼šåšæœäº‘ã€Nextcloudã€é˜¿é‡Œäº‘ç›˜WebDAVã€Dropboxç­‰ï¼‰",-1)])])),e("div",zo,[D.value.length===0&&!v.webdavList?(o(),n("div",Oo,[...t[38]||(t[38]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#ccc","stroke-width":"1.5"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})],-1),e("p",null,"æš‚æ— WebDAVå¤‡ä»½",-1)])])):(o(),n("div",Ho,[(o(!0),n(R,null,q(D.value,C=>(o(),n("div",{key:C.name,class:"backup-card"},[t[41]||(t[41]=re('<div class="backup-icon" data-v-19fdb4a7><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#16a34a" stroke-width="2" data-v-19fdb4a7><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-19fdb4a7></path><polyline points="14 2 14 8 20 8" data-v-19fdb4a7></polyline><path d="M12 18v-6M9 15l3 3 3-3" data-v-19fdb4a7></path></svg></div>',1)),e("div",Ro,[e("div",qo,c(C.name),1),e("div",Fo,[e("span",Go,c(C.size),1),e("span",jo,c(S(C.created)),1)])]),e("div",Jo,[e("button",{class:"btn-icon btn-restore",onClick:G=>k("webdav-restore",C.name),title:"ä»WebDAVæ¢å¤"},[...t[39]||(t[39]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)])],8,Qo),e("button",{class:"btn-icon btn-danger",onClick:G=>k("webdav-delete",C.name),title:"åˆ é™¤WebDAVå¤‡ä»½"},[...t[40]||(t[40]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,Xo)])]))),128))]))])],512),[[we,s.value==="webdav"]]),A(e("div",Yo,[h.value.text?(o(),n("div",{key:0,class:E(["message",h.value.type])},c(h.value.text),3)):K("",!0),e("div",Zo,[t[76]||(t[76]=e("h3",null,"âš¡ è‡ªåŠ¨å¤‡ä»½é…ç½®",-1)),t[77]||(t[77]=e("p",{class:"config-description"},"é…ç½®ç³»ç»Ÿè‡ªåŠ¨å¤‡ä»½ç­–ç•¥ï¼ŒåŒ…æ‹¬å¢é‡å¤‡ä»½å’Œå®šæ—¶å¤‡ä»½ã€‚",-1)),e("div",en,[e("div",tn,[t[43]||(t[43]=e("h4",null,"å¢é‡å¤‡ä»½ï¼ˆé˜²æŠ–ï¼‰",-1)),e("label",sn,[A(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=C=>u.debounce.enabled=C)},null,512),[[ae,u.debounce.enabled]]),t[42]||(t[42]=e("span",{class:"slider"},null,-1))])]),t[48]||(t[48]=e("p",{class:"config-info"},"å½“æ•°æ®å˜æ›´æ—¶ï¼Œå»¶è¿Ÿä¸€æ®µæ—¶é—´åè‡ªåŠ¨å¤‡ä»½ã€‚é€‚åˆé¢‘ç¹ä¿®æ”¹çš„åœºæ™¯ã€‚",-1)),u.debounce.enabled?(o(),n("div",an,[e("div",ln,[t[44]||(t[44]=e("label",null,"å»¶è¿Ÿæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰",-1)),A(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=C=>u.debounce.delay=C),min:"5",max:"1440",class:"form-input"},null,512),[[L,u.debounce.delay,void 0,{number:!0}]]),t[45]||(t[45]=e("small",null,"æ•°æ®ä¿®æ”¹åå»¶è¿Ÿå¤šä¹…è§¦å‘å¤‡ä»½ï¼ŒèŒƒå›´ï¼š5-1440åˆ†é’Ÿ",-1))]),e("div",on,[t[46]||(t[46]=e("label",null,"ä¿ç•™å¤‡ä»½æ•°é‡",-1)),A(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=C=>u.debounce.keep=C),min:"1",max:"30",class:"form-input"},null,512),[[L,u.debounce.keep,void 0,{number:!0}]]),t[47]||(t[47]=e("small",null,"è‡ªåŠ¨æ¸…ç†æ—¶ä¿ç•™æœ€æ–°çš„Nä¸ªå¤‡ä»½ï¼ŒèŒƒå›´ï¼š1-30ä¸ª",-1))])])):K("",!0)]),e("div",nn,[e("div",rn,[t[50]||(t[50]=e("h4",null,"å®šæ—¶å¤‡ä»½ï¼ˆæ¯æ—¥ï¼‰",-1)),e("label",dn,[A(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=C=>u.scheduled.enabled=C)},null,512),[[ae,u.scheduled.enabled]]),t[49]||(t[49]=e("span",{class:"slider"},null,-1))])]),t[58]||(t[58]=e("p",{class:"config-info"},"æ¯å¤©åœ¨å›ºå®šæ—¶é—´è‡ªåŠ¨æ‰§è¡Œå¤‡ä»½ã€‚",-1)),u.scheduled.enabled?(o(),n("div",un,[e("div",cn,[t[52]||(t[52]=e("label",null,"å¤‡ä»½æ—¶é—´",-1)),e("div",vn,[A(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=C=>u.scheduled.hour=C),min:"0",max:"23",class:"form-input time-field",placeholder:"æ—¶"},null,512),[[L,u.scheduled.hour,void 0,{number:!0}]]),t[51]||(t[51]=e("span",null,":",-1)),A(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=C=>u.scheduled.minute=C),min:"0",max:"59",class:"form-input time-field",placeholder:"åˆ†"},null,512),[[L,u.scheduled.minute,void 0,{number:!0}]])]),t[53]||(t[53]=e("small",null,"æ ¼å¼ï¼š24å°æ—¶åˆ¶ï¼Œå¦‚ 02:00",-1))]),e("div",pn,[t[54]||(t[54]=e("label",null,"ä¿ç•™å¤‡ä»½æ•°é‡",-1)),A(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=C=>u.scheduled.keep=C),min:"1",max:"30",class:"form-input"},null,512),[[L,u.scheduled.keep,void 0,{number:!0}]]),t[55]||(t[55]=e("small",null,"è‡ªåŠ¨æ¸…ç†æ—¶ä¿ç•™æœ€æ–°çš„Nä¸ªå¤‡ä»½ï¼ŒèŒƒå›´ï¼š1-30ä¸ª",-1))]),e("div",mn,[e("label",fn,[A(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=C=>u.scheduled.onlyIfModified=C)},null,512),[[ae,u.scheduled.onlyIfModified]]),t[56]||(t[56]=e("span",null,"ä»…åœ¨æœ‰ä¿®æ”¹æ—¶å¤‡ä»½",-1))]),t[57]||(t[57]=e("small",null,"å¦‚æœ24å°æ—¶å†…å·²æœ‰å¢é‡å¤‡ä»½ï¼Œè·³è¿‡å®šæ—¶å¤‡ä»½ï¼ˆé¿å…é‡å¤ï¼‰",-1))])])):K("",!0)]),e("div",hn,[e("div",gn,[t[60]||(t[60]=e("h4",null,"â˜ï¸ WebDAV è‡ªåŠ¨åŒæ­¥",-1)),e("label",bn,[A(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=C=>u.webdav.enabled=C),onChange:pe},null,544),[[ae,u.webdav.enabled]]),t[59]||(t[59]=e("span",{class:"slider"},null,-1))])]),e("p",kn,[t[61]||(t[61]=z(" è‡ªåŠ¨å°†æœ¬åœ°å¤‡ä»½åŒæ­¥åˆ° WebDAV äº‘ç«¯ã€‚ ",-1)),f.configured?K("",!0):(o(),n("span",yn,'âš ï¸ è¯·å…ˆåœ¨"WebDAVå¤‡ä»½"æ ‡ç­¾é¡µé…ç½®è¿æ¥'))]),u.webdav.enabled?(o(),n("div",wn,[e("div",_n,[e("label",$n,[A(e("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=C=>u.webdav.syncDaily=C)},null,512),[[ae,u.webdav.syncDaily]]),t[62]||(t[62]=e("span",null,"åŒæ­¥æ¯æ—¥å®šæ—¶å¤‡ä»½",-1))]),t[63]||(t[63]=e("small",null,"æ¯å¤©å®šæ—¶å¤‡ä»½åè‡ªåŠ¨ä¸Šä¼ åˆ° WebDAV",-1))]),e("div",Cn,[e("label",Mn,[A(e("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=C=>u.webdav.syncIncremental=C)},null,512),[[ae,u.webdav.syncIncremental]]),t[64]||(t[64]=e("span",null,"åŒæ­¥å¢é‡å¤‡ä»½",-1))]),t[65]||(t[65]=e("small",null,"å¢é‡å¤‡ä»½åè‡ªåŠ¨ä¸Šä¼ åˆ° WebDAV",-1))])])):K("",!0)]),e("div",xn,[e("div",Un,[t[67]||(t[67]=e("h4",null,"è‡ªåŠ¨æ¸…ç†",-1)),e("label",Vn,[A(e("input",{type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=C=>u.autoClean=C)},null,512),[[ae,u.autoClean]]),t[66]||(t[66]=e("span",{class:"slider"},null,-1))])]),t[68]||(t[68]=e("p",{class:"config-info"},"è‡ªåŠ¨åˆ é™¤è¶…å‡ºä¿ç•™æ•°é‡çš„æ—§å¤‡ä»½æ–‡ä»¶ï¼ˆæŒ‰æ—¶é—´æ’åºï¼Œä¿ç•™æœ€æ–°çš„ï¼‰ã€‚",-1))]),i.value?(o(),n("div",An,[t[73]||(t[73]=e("h4",null,"ğŸ“Š å¤‡ä»½ç»Ÿè®¡",-1)),e("div",Bn,[e("div",Tn,[t[69]||(t[69]=e("span",{class:"stat-label"},"å¢é‡å¤‡ä»½æ•°é‡",-1)),e("span",In,c(((F=i.value.incremental)==null?void 0:F.count)||0)+" ä¸ª",1)]),e("div",Dn,[t[70]||(t[70]=e("span",{class:"stat-label"},"æœ€åå¢é‡å¤‡ä»½",-1)),e("span",Sn,c(S(i.value.lastDebounce)||"æ— "),1)]),e("div",Pn,[t[71]||(t[71]=e("span",{class:"stat-label"},"æœ€åå®šæ—¶å¤‡ä»½",-1)),e("span",Ln,c(S(i.value.lastScheduled)||"æ— "),1)]),e("div",Kn,[t[72]||(t[72]=e("span",{class:"stat-label"},"ä¸‹æ¬¡å®šæ—¶å¤‡ä»½",-1)),e("span",Wn,c(Le()),1)])])])):K("",!0),e("div",Nn,[e("button",{class:"btn btn-secondary",onClick:Ke},[...t[74]||(t[74]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1),z(" æ¢å¤é»˜è®¤ ",-1)])]),e("button",{class:"btn btn-primary",onClick:O,disabled:v.autoBackupConfig},[t[75]||(t[75]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1)),z(" "+c(v.autoBackupConfig?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"),1)],8,En)])])],512),[[we,s.value==="auto"]]),a.value?(o(),n("div",zn,[e("div",On,[t[82]||(t[82]=e("h3",null,"WebDAVé…ç½®",-1)),e("div",Hn,[t[78]||(t[78]=e("label",null,[z("WebDAV URL "),e("span",{class:"required"},"*")],-1)),A(e("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=C=>d.url=C),placeholder:"https://dav.jianguoyun.com/dav/",class:"form-input"},null,512),[[L,d.url]]),t[79]||(t[79]=e("small",null,"ä¾‹ï¼šåšæœäº‘ https://dav.jianguoyun.com/dav/",-1))]),e("div",Rn,[t[80]||(t[80]=e("label",null,[z("ç”¨æˆ·å "),e("span",{class:"required"},"*")],-1)),A(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=C=>d.username=C),placeholder:"é‚®ç®±æˆ–ç”¨æˆ·å",class:"form-input"},null,512),[[L,d.username]])]),e("div",qn,[t[81]||(t[81]=e("label",null,[z("å¯†ç  "),e("span",{class:"required"},"*")],-1)),A(e("input",{type:"password","onUpdate:modelValue":t[17]||(t[17]=C=>d.password=C),placeholder:f.configured?"ç•™ç©ºåˆ™ä¿æŒåŸå¯†ç ä¸å˜":"åº”ç”¨å¯†ç æˆ–è®¿é—®ä»¤ç‰Œ",class:"form-input"},null,8,Fn),[[L,d.password]]),f.configured?(o(),n("small",jn,"å¦‚éœ€ä¿®æ”¹å¯†ç è¯·è¾“å…¥æ–°å¯†ç ï¼Œç•™ç©ºåˆ™ä¿æŒåŸå¯†ç ä¸å˜")):(o(),n("small",Gn,"æ³¨æ„ï¼šæŸäº›æœåŠ¡éœ€è¦ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ï¼Œè€Œä¸æ˜¯ç™»å½•å¯†ç "))]),e("div",Jn,[e("button",{class:"btn btn-secondary",onClick:t[18]||(t[18]=C=>a.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:ce,disabled:v.webdavConfig},c(v.webdavConfig?"æµ‹è¯•è¿æ¥ä¸­...":"ä¿å­˜"),9,Qn)])])])):K("",!0),x.show?(o(),n("div",Xn,[e("div",Yn,[e("h3",null,"ç¡®è®¤"+c(x.title),1),e("p",Zn,c(x.message),1),e("div",ei,[e("button",{class:"btn btn-secondary",onClick:t[19]||(t[19]=C=>x.show=!1),disabled:x.processing},"å–æ¶ˆ",8,ti),e("button",{class:E(["btn",x.confirmClass]),onClick:T,disabled:x.processing},c(x.processing?"å¤„ç†ä¸­...":"ç¡®è®¤"),11,si)])])])):K("",!0),_.value?(o(),n("div",ai,[e("div",li,[t[86]||(t[86]=e("h3",null,"åˆ›å»ºå¤‡ä»½",-1)),e("div",oi,[t[83]||(t[83]=e("label",null,"å¤‡ä»½åç§°ï¼ˆå¯é€‰ï¼‰",-1)),A(e("input",{type:"text","onUpdate:modelValue":t[20]||(t[20]=C=>y.name=C),placeholder:"ä¾‹å¦‚ï¼šæ·»åŠ ä¹¦ç­¾åçš„å¤‡ä»½",class:"form-input",maxlength:"50"},null,512),[[L,y.name]]),t[84]||(t[84]=e("small",null,"ç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤åç§°ï¼ˆbackup-æ—¶é—´æˆ³ï¼‰",-1))]),e("div",ni,[t[85]||(t[85]=e("label",null,"å¤‡ä»½æè¿°ï¼ˆå¯é€‰ï¼‰",-1)),A(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=C=>y.description=C),placeholder:"æè¿°è¿™æ¬¡å¤‡ä»½çš„å†…å®¹æˆ–ç›®çš„...",class:"form-input",rows:"3"},null,512),[[L,y.description]])]),e("div",ii,[e("button",{class:"btn btn-secondary",onClick:t[22]||(t[22]=C=>_.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:ee,disabled:v.create},c(v.create?"å¤‡ä»½ä¸­...":"åˆ›å»ºå¤‡ä»½"),9,ri)])])])):K("",!0),m.value?(o(),n("div",di,[e("div",ui,[t[88]||(t[88]=e("h3",null,"é‡å‘½åå¤‡ä»½",-1)),e("div",ci,[t[87]||(t[87]=e("label",null,[z("æ–°åç§° "),e("span",{class:"required"},"*")],-1)),A(e("input",{type:"text","onUpdate:modelValue":t[23]||(t[23]=C=>w.newName=C),placeholder:"è¾“å…¥æ–°çš„å¤‡ä»½åç§°",class:"form-input",maxlength:"50"},null,512),[[L,w.newName]]),e("small",null,"åŸåç§°ï¼š"+c(w.oldName),1)]),e("div",vi,[e("button",{class:"btn btn-secondary",onClick:t[24]||(t[24]=C=>m.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:te,disabled:v.rename||!w.newName.trim()},c(v.rename?"é‡å‘½åä¸­...":"ç¡®è®¤é‡å‘½å"),9,pi)])])])):K("",!0)])}}},fi=Y(mi,[["__scopeId","data-v-19fdb4a7"]]),Te=()=>{const g=localStorage.getItem("token");return g?{Authorization:`Bearer ${g}`}:{}},X={get:g=>ne.get(g,{headers:Te()}),post:(g,s)=>ne.post(g,s,{headers:Te()})},$e={deepseek:{name:"DeepSeek",icon:"ğŸ”®",recommended:!0,needsApiKey:!0,needsBaseUrl:!1,defaultModel:"deepseek-chat",models:["deepseek-chat","deepseek-coder"],defaultBaseUrl:"https://api.deepseek.com",docsUrl:"https://platform.deepseek.com/api_keys"},openai:{name:"OpenAI",icon:"ğŸ¤–",needsApiKey:!0,needsBaseUrl:!1,defaultModel:"gpt-4o-mini",models:["gpt-4o-mini","gpt-4o","gpt-4-turbo","gpt-3.5-turbo"],defaultBaseUrl:"https://api.openai.com",docsUrl:"https://platform.openai.com/api-keys"},anthropic:{name:"Claude",icon:"ğŸ§ ",needsApiKey:!0,needsBaseUrl:!1,defaultModel:"claude-3-haiku-20240307",models:["claude-3-5-sonnet-20241022","claude-3-haiku-20240307"],docsUrl:"https://console.anthropic.com/settings/keys"},gemini:{name:"Gemini",icon:"ğŸ’",needsApiKey:!0,needsBaseUrl:!1,defaultModel:"gemini-1.5-flash",models:["gemini-1.5-flash","gemini-1.5-pro","gemini-2.0-flash-exp"],docsUrl:"https://aistudio.google.com/app/apikey"},zhipu:{name:"æ™ºè°± GLM",icon:"ğŸ‡¨ğŸ‡³",needsApiKey:!0,needsBaseUrl:!1,defaultModel:"glm-4-flash",models:["glm-4-flash","glm-4-air","glm-4"],docsUrl:"https://open.bigmodel.cn/usercenter/apikeys"},qwen:{name:"é€šä¹‰åƒé—®",icon:"â˜ï¸",needsApiKey:!0,needsBaseUrl:!1,defaultModel:"qwen-turbo",models:["qwen-turbo","qwen-plus","qwen-max"],docsUrl:"https://dashscope.console.aliyun.com/apiKey"},moonshot:{name:"Kimi",icon:"ğŸŒ™",needsApiKey:!0,needsBaseUrl:!1,defaultModel:"moonshot-v1-8k",models:["moonshot-v1-8k","moonshot-v1-32k","moonshot-v1-128k"],docsUrl:"https://platform.moonshot.cn/console/api-keys"},groq:{name:"Groq",icon:"âš¡",needsApiKey:!0,needsBaseUrl:!1,defaultModel:"llama-3.1-8b-instant",models:["llama-3.1-8b-instant","llama-3.1-70b-versatile","mixtral-8x7b-32768"],docsUrl:"https://console.groq.com/keys"},doubao:{name:"è±†åŒ…",icon:"ğŸ«˜",needsApiKey:!0,needsBaseUrl:!1,defaultModel:"doubao-lite-4k",models:["doubao-lite-4k","doubao-pro-4k"],docsUrl:"https://console.volcengine.com/ark"},ollama:{name:"Ollama",icon:"ğŸ¦™",local:!0,needsApiKey:!1,needsBaseUrl:!0,defaultModel:"llama3.2",models:["llama3.2","llama3.1","mistral","qwen2.5"],defaultBaseUrl:"http://localhost:11434",docsUrl:"https://ollama.com/"},custom:{name:"è‡ªå®šä¹‰",icon:"âš™ï¸",needsApiKey:!0,needsBaseUrl:!0,defaultModel:"",models:[],defaultBaseUrl:""}},hi={name:"AISettings",data(){return{providers:$e,config:{provider:"deepseek",apiKey:"",baseUrl:"",model:"deepseek-chat",autoGenerate:!1,hasApiKey:!1},modelSelect:"deepseek-chat",showApiKey:!1,testing:!1,saving:!1,refreshing:!1,starting:!1,stopping:!1,connectionTested:!1,connectionOk:!1,stats:null,task:{running:!1,type:"",mode:"",current:0,total:0,currentCard:"",startTime:0},pollInterval:null,toast:{show:!1,msg:"",type:"info"}}},computed:{currentProvider(){return $e[this.config.provider]||$e.deepseek},canTest(){return!(this.currentProvider.needsApiKey&&!this.config.apiKey&&!this.config.hasApiKey||this.currentProvider.needsBaseUrl&&!this.config.baseUrl)},connectionStatus(){return!this.config.hasApiKey&&!this.config.apiKey?"none":this.connectionTested?this.connectionOk?"ok":"err":"pending"},statusText(){return{none:"æœªé…ç½®",ok:"å·²è¿æ¥",err:"è¿æ¥å¤±è´¥",pending:"å¾…æµ‹è¯•"}[this.connectionStatus]},totalMissing(){return this.stats?this.stats.emptyName+this.stats.emptyDesc+this.stats.emptyTags:0},taskPercent(){return this.task.total?Math.round(this.task.current/this.task.total*100):0},taskTitle(){return`æ­£åœ¨ç”Ÿæˆ${{name:"åç§°",description:"æè¿°",tags:"æ ‡ç­¾"}[this.task.type]||"å†…å®¹"}`},taskEta(){if(!this.task.startTime||this.task.current<2)return"";const s=(Date.now()-this.task.startTime)/this.task.current,l=(this.task.total-this.task.current)*s;return l<6e4?`${Math.round(l/1e3)}ç§’`:`${Math.round(l/6e4)}åˆ†é’Ÿ`},actionItems(){var g,s,l;return[{type:"name",label:"åç§°",icon:"ğŸ“",emptyCount:((g=this.stats)==null?void 0:g.emptyName)||0},{type:"description",label:"æè¿°",icon:"ğŸ“„",emptyCount:((s=this.stats)==null?void 0:s.emptyDesc)||0},{type:"tags",label:"æ ‡ç­¾",icon:"ğŸ·ï¸",emptyCount:((l=this.stats)==null?void 0:l.emptyTags)||0}]}},mounted(){return B(this,null,function*(){yield this.loadConfig(),yield this.refreshStats(),yield this.checkTask()})},beforeUnmount(){this.stopPoll()},methods:{selectProvider(g){var s;this.config.provider=g,this.config.model=this.currentProvider.defaultModel,this.modelSelect=(s=this.currentProvider.models)!=null&&s.includes(this.config.model)?this.config.model:"",this.config.baseUrl=this.currentProvider.defaultBaseUrl||"",this.config.apiKey="",this.config.hasApiKey=!1,this.connectionTested=!1},onModelChange(){this.modelSelect&&(this.config.model=this.modelSelect)},loadConfig(){return B(this,null,function*(){var g;try{const{data:s}=yield X.get("/api/ai/config");if(s.success){const l=s.config;this.config.provider=l.provider||"deepseek",this.config.hasApiKey=l.hasApiKey,this.config.baseUrl=l.baseUrl||"",this.config.model=l.model||this.currentProvider.defaultModel,this.modelSelect=(g=this.currentProvider.models)!=null&&g.includes(this.config.model)?this.config.model:"",this.config.autoGenerate=l.autoGenerate||!1}}catch(s){}})},saveConfig(){return B(this,null,function*(){var g,s;this.saving=!0;try{const{data:l}=yield X.post("/api/ai/config",{provider:this.config.provider,apiKey:this.config.apiKey||void 0,baseUrl:this.config.baseUrl||this.currentProvider.defaultBaseUrl,model:this.config.model,autoGenerate:this.config.autoGenerate});l.success?(this.showToast("é…ç½®å·²ä¿å­˜","success"),this.config.hasApiKey=!0,this.config.apiKey="",this.testConnection()):this.showToast(l.message,"error")}catch(l){this.showToast(((s=(g=l.response)==null?void 0:g.data)==null?void 0:s.message)||"ä¿å­˜å¤±è´¥","error")}this.saving=!1})},testConnection(){return B(this,null,function*(){this.testing=!0;try{const{data:g}=yield X.post("/api/ai/test");this.connectionTested=!0,this.connectionOk=g.success,this.showToast(g.success?"è¿æ¥æˆåŠŸ":g.message,g.success?"success":"error")}catch(g){this.connectionTested=!0,this.connectionOk=!1,this.showToast("è¿æ¥å¤±è´¥","error")}this.testing=!1})},refreshStats(){return B(this,null,function*(){this.refreshing=!0;try{const[g,s,l,D]=yield Promise.all([X.get("/api/ai/empty-cards?type=name"),X.get("/api/ai/empty-cards?type=description"),X.get("/api/ai/empty-cards?type=tags"),X.get("/api/ai/empty-cards?type=description&mode=all")]);this.stats={emptyName:g.data.total||0,emptyDesc:s.data.total||0,emptyTags:l.data.total||0,total:D.data.total||0}}catch(g){}this.refreshing=!1})},checkTask(){return B(this,null,function*(){try{const{data:g}=yield X.get("/api/ai/batch-task/status");g.success&&g.running&&(this.task={running:!0,type:g.type,mode:g.mode,current:g.current||0,total:g.total||0,currentCard:g.currentCard||"",startTime:Date.now()-g.current*2e3},this.startPoll())}catch(g){}})},startTask(g,s){return B(this,null,function*(){var l,D;if(!(this.starting||this.task.running)&&!(s==="all"&&!confirm(`ç¡®å®šè¦é‡æ–°ç”Ÿæˆæ‰€æœ‰å¡ç‰‡çš„${g==="name"?"åç§°":g==="description"?"æè¿°":"æ ‡ç­¾"}å—ï¼Ÿ`))){this.starting=!0;try{const{data:a}=yield X.post("/api/ai/batch-task/start",{type:g,mode:s});if(!a.success){this.showToast(a.message||"å¯åŠ¨å¤±è´¥","error"),this.starting=!1;return}if(a.total===0){this.showToast("æ²¡æœ‰éœ€è¦å¤„ç†çš„å¡ç‰‡","info"),this.starting=!1;return}this.task={running:!0,type:g,mode:s,current:0,total:a.total,currentCard:"å‡†å¤‡ä¸­...",startTime:Date.now()},this.showToast(`å¼€å§‹å¤„ç† ${a.total} ä¸ªå¡ç‰‡`,"success"),this.startPoll()}catch(a){this.showToast(((D=(l=a.response)==null?void 0:l.data)==null?void 0:D.message)||"å¯åŠ¨å¤±è´¥","error")}this.starting=!1}})},startPoll(){this.stopPoll(),this.pollInterval=setInterval(()=>this.pollStatus(),1e3),this.pollStatus()},stopPoll(){this.pollInterval&&(clearInterval(this.pollInterval),this.pollInterval=null)},pollStatus(){return B(this,null,function*(){try{const{data:g}=yield X.get("/api/ai/batch-task/status");if(!g.success)return;this.task.current=g.current||0,this.task.total=g.total||this.task.total,this.task.currentCard=g.currentCard||"",g.running||(this.stopPoll(),this.task.running=!1,this.showToast(`å®Œæˆï¼æˆåŠŸ ${g.successCount||0} / ${g.total||0}`,"success"),this.refreshStats())}catch(g){}})},stopTask(){return B(this,null,function*(){this.stopping=!0;try{yield X.post("/api/ai/batch-task/stop"),this.showToast("æ­£åœ¨åœæ­¢...","info")}catch(g){}setTimeout(()=>{this.stopping=!1},2e3)})},showToast(g,s="info"){this.toast={show:!0,msg:g,type:s},setTimeout(()=>{this.toast.show=!1},3e3)}}},gi={class:"ai-settings"},bi={class:"page-header"},ki={key:0,class:"quick-start"},yi={class:"section"},wi={class:"provider-grid"},_i=["onClick"],$i={class:"provider-icon"},Ci={class:"provider-info"},Mi={class:"provider-name"},xi={key:0,class:"provider-tag"},Ui={key:1,class:"provider-tag local"},Vi={class:"section"},Ai={class:"section-header"},Bi=["href"],Ti={class:"config-form"},Ii={key:0,class:"form-item"},Di={class:"input-group"},Si=["type","placeholder"],Pi={key:1,class:"form-item"},Li=["placeholder"],Ki={class:"form-item"},Wi={class:"model-select"},Ni=["value"],Ei=["placeholder"],zi={class:"form-item switch-item"},Oi={class:"switch"},Hi={class:"form-actions"},Ri=["disabled"],qi=["disabled"],Fi={class:"section"},Gi={class:"section-header"},ji=["disabled"],Ji={key:0,class:"stats"},Qi={class:"stat"},Xi={key:1,class:"task-panel"},Yi={class:"task-header"},Zi={class:"task-title"},er={class:"task-count"},tr={class:"progress-wrap"},sr={class:"progress-bar"},ar={class:"progress-text"},lr={class:"task-info"},or={key:0,class:"task-current"},nr={key:1,class:"task-eta"},ir=["disabled"],rr={key:2,class:"batch-actions"},dr=["disabled"],ur={class:"action-grid"},cr={class:"action-header"},vr={class:"action-btns"},pr=["onClick","disabled"],mr=["onClick","disabled"];function fr(g,s,l,D,a,_){return o(),n("div",gi,[e("div",bi,[s[13]||(s[13]=e("h2",null,"ğŸ¤– AI æ™ºèƒ½ç”Ÿæˆ",-1)),e("div",{class:E(["connection-status",_.connectionStatus])},[s[12]||(s[12]=e("span",{class:"status-dot"},null,-1)),e("span",null,c(_.statusText),1)],2)]),!a.config.hasApiKey&&!a.config.apiKey?(o(),n("div",ki,[...s[14]||(s[14]=[re('<div class="quick-start-icon" data-v-071038a8>ğŸš€</div><div class="quick-start-content" data-v-071038a8><h4 data-v-071038a8>å¿«é€Ÿå¼€å§‹</h4><p data-v-071038a8>é…ç½® AI æœåŠ¡åï¼Œå¯è‡ªåŠ¨ä¸ºå¡ç‰‡ç”Ÿæˆåç§°ã€æè¿°å’Œæ ‡ç­¾</p><div class="quick-start-steps" data-v-071038a8><span class="step" data-v-071038a8>1. é€‰æ‹©æä¾›å•†</span><span class="step" data-v-071038a8>2. å¡«å†™ API Key</span><span class="step" data-v-071038a8>3. æµ‹è¯•è¿æ¥</span></div></div>',2)])])):K("",!0),e("div",yi,[s[15]||(s[15]=e("div",{class:"section-header"},[e("h3",null,"é€‰æ‹© AI æä¾›å•†"),e("span",{class:"section-hint"},"æ¨èä½¿ç”¨ DeepSeekï¼Œæ€§ä»·æ¯”é«˜")],-1)),e("div",wi,[(o(!0),n(R,null,q(a.providers,(m,I)=>(o(),n("div",{key:I,class:E(["provider-card",{active:a.config.provider===I}]),onClick:v=>_.selectProvider(I)},[e("div",$i,c(m.icon),1),e("div",Ci,[e("span",Mi,c(m.name),1),m.recommended?(o(),n("span",xi,"æ¨è")):K("",!0),m.local?(o(),n("span",Ui,"æœ¬åœ°")):K("",!0)])],10,_i))),128))])]),e("div",Vi,[e("div",Ai,[s[16]||(s[16]=e("h3",null,"API é…ç½®",-1)),_.currentProvider.docsUrl?(o(),n("a",{key:0,href:_.currentProvider.docsUrl,target:"_blank",class:"docs-link"}," ğŸ“– è·å– API Key ",8,Bi)):K("",!0)]),e("div",Ti,[_.currentProvider.needsApiKey?(o(),n("div",Ii,[e("label",null,[s[17]||(s[17]=e("span",null,"API Key",-1)),e("span",{class:E(["label-status",{ok:a.config.hasApiKey}])},c(a.config.hasApiKey?"âœ“ å·²é…ç½®":"æœªé…ç½®"),3)]),e("div",Di,[A(e("input",{type:a.showApiKey?"text":"password","onUpdate:modelValue":s[0]||(s[0]=m=>a.config.apiKey=m),placeholder:a.config.hasApiKey?"å·²é…ç½®ï¼ˆç•™ç©ºä¿æŒä¸å˜ï¼‰":"è¯·è¾“å…¥ API Key",class:"input"},null,8,Si),[[De,a.config.apiKey]]),e("button",{type:"button",class:"input-btn",onClick:s[1]||(s[1]=m=>a.showApiKey=!a.showApiKey)},c(a.showApiKey?"ğŸ™ˆ":"ğŸ‘ï¸"),1)])])):K("",!0),_.currentProvider.needsBaseUrl?(o(),n("div",Pi,[s[18]||(s[18]=e("label",null,"Base URL",-1)),A(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=m=>a.config.baseUrl=m),placeholder:_.currentProvider.defaultBaseUrl,class:"input"},null,8,Li),[[L,a.config.baseUrl]])])):K("",!0),e("div",Ki,[s[20]||(s[20]=e("label",null,"æ¨¡å‹",-1)),e("div",Wi,[A(e("select",{"onUpdate:modelValue":s[3]||(s[3]=m=>a.modelSelect=m),class:"input",onChange:s[4]||(s[4]=(...m)=>_.onModelChange&&_.onModelChange(...m))},[s[19]||(s[19]=e("option",{value:""},"è‡ªå®šä¹‰æ¨¡å‹",-1)),(o(!0),n(R,null,q(_.currentProvider.models,m=>(o(),n("option",{key:m,value:m},c(m),9,Ni))),128))],544),[[be,a.modelSelect]]),a.modelSelect===""?A((o(),n("input",{key:0,type:"text","onUpdate:modelValue":s[5]||(s[5]=m=>a.config.model=m),placeholder:_.currentProvider.defaultModel||"è¾“å…¥æ¨¡å‹åç§°",class:"input"},null,8,Ei)),[[L,a.config.model]]):K("",!0)])]),e("div",zi,[s[22]||(s[22]=e("span",null,[e("strong",null,"è‡ªåŠ¨ç”Ÿæˆ"),e("small",null,"æ·»åŠ å¡ç‰‡æ—¶è‡ªåŠ¨ç”Ÿæˆåç§°ã€æè¿°å’Œæ ‡ç­¾")],-1)),e("label",Oi,[A(e("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=m=>a.config.autoGenerate=m)},null,512),[[ae,a.config.autoGenerate]]),s[21]||(s[21]=e("span",{class:"slider"},null,-1))])]),e("div",Hi,[e("button",{class:"btn",onClick:s[7]||(s[7]=(...m)=>_.testConnection&&_.testConnection(...m)),disabled:a.testing||!_.canTest},c(a.testing?"â³ æµ‹è¯•ä¸­...":"ğŸ”— æµ‹è¯•è¿æ¥"),9,Ri),e("button",{class:"btn primary",onClick:s[8]||(s[8]=(...m)=>_.saveConfig&&_.saveConfig(...m)),disabled:a.saving},c(a.saving?"â³ ä¿å­˜ä¸­...":"ğŸ’¾ ä¿å­˜é…ç½®"),9,qi)])])]),e("div",Fi,[e("div",Gi,[s[23]||(s[23]=e("h3",null,"æ‰¹é‡ç”Ÿæˆ",-1)),e("button",{class:"icon-btn",onClick:s[9]||(s[9]=(...m)=>_.refreshStats&&_.refreshStats(...m)),disabled:a.refreshing},c(a.refreshing?"â³":"ğŸ”„"),9,ji)]),a.stats?(o(),n("div",Ji,[e("div",Qi,[e("span",null,c(a.stats.total),1),s[24]||(s[24]=z("æ€»æ•°",-1))]),e("div",{class:E(["stat",{warn:a.stats.emptyName}])},[e("span",null,c(a.stats.emptyName),1),s[25]||(s[25]=z("ç¼ºåç§°",-1))],2),e("div",{class:E(["stat",{warn:a.stats.emptyDesc}])},[e("span",null,c(a.stats.emptyDesc),1),s[26]||(s[26]=z("ç¼ºæè¿°",-1))],2),e("div",{class:E(["stat",{warn:a.stats.emptyTags}])},[e("span",null,c(a.stats.emptyTags),1),s[27]||(s[27]=z("ç¼ºæ ‡ç­¾",-1))],2)])):K("",!0),a.task.running?(o(),n("div",Xi,[e("div",Yi,[e("span",Zi,c(_.taskTitle),1),e("span",er,c(a.task.current)+" / "+c(a.task.total),1)]),e("div",tr,[e("div",sr,[e("div",{class:"progress-fill",style:ke({width:_.taskPercent+"%"})},null,4)]),e("span",ar,c(_.taskPercent)+"%",1)]),e("div",lr,[a.task.currentCard?(o(),n("span",or,c(a.task.currentCard),1)):K("",!0),_.taskEta?(o(),n("span",nr,"å‰©ä½™ "+c(_.taskEta),1)):K("",!0)]),e("button",{class:"btn danger sm",onClick:s[10]||(s[10]=(...m)=>_.stopTask&&_.stopTask(...m)),disabled:a.stopping},c(a.stopping?"åœæ­¢ä¸­...":"â¹ï¸ åœæ­¢"),9,ir)])):(o(),n("div",rr,[_.totalMissing>0?(o(),n("button",{key:0,class:"btn primary lg",onClick:s[11]||(s[11]=m=>_.startTask("name","empty")),disabled:!a.config.hasApiKey||a.starting}," âœ¨ ä¸€é”®è¡¥å…¨ ("+c(_.totalMissing)+") ",9,dr)):K("",!0),e("div",ur,[(o(!0),n(R,null,q(_.actionItems,m=>{var I;return o(),n("div",{class:"action-card",key:m.type},[e("div",cr,[e("span",null,c(m.icon)+" "+c(m.label),1)]),e("div",vr,[e("button",{class:"btn sm",onClick:v=>_.startTask(m.type,"empty"),disabled:!m.emptyCount||!a.config.hasApiKey||a.starting}," è¡¥å…… ("+c(m.emptyCount)+") ",9,pr),e("button",{class:"btn sm outline",onClick:v=>_.startTask(m.type,"all"),disabled:!((I=a.stats)!=null&&I.total)||!a.config.hasApiKey||a.starting}," å…¨éƒ¨é‡ç”Ÿæˆ ",8,mr)])])}),128))])]))]),e("div",{class:E(["toast",[a.toast.type,{show:a.toast.show}]])},c(a.toast.msg),3)])}const hr=Y(hi,[["render",fr],["__scopeId","data-v-071038a8"]]),gr={key:0,class:"login-container"},br={class:"login-card"},kr={class:"login-form"},yr={class:"password-input-wrapper"},wr=["type"],_r={key:0,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},$r={key:1,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Cr={class:"login-buttons"},Mr=["disabled"],xr={key:0,class:"login-error"},Ur={key:1,class:"admin-layout"},Vr={class:"menu-list"},Ar={class:"admin-main"},Br={class:"admin-header"},Tr={class:"header-title"},Ir={class:"admin-content"},Ie=1800*1e3,Dr={__name:"Admin",setup(g){const s=$("welcome");let l=null,D=Date.now();function a(){D=Date.now(),localStorage.setItem("lastActivityTime",D.toString()),l&&clearTimeout(l),i.value&&(l=setTimeout(()=>{_()},Ie))}function _(){i.value&&(alert("ç”±äºé•¿æ—¶é—´æœªæ“ä½œï¼Œå·²è‡ªåŠ¨é€€å‡ºç™»å½•"),N())}function m(){const S=localStorage.getItem("lastActivityTime");return S&&Date.now()-parseInt(S)>=Ie?(localStorage.removeItem("token"),localStorage.removeItem("lastActivityTime"),!0):!1}const I=["mousedown","mousemove","keydown","scroll","touchstart","click"];function v(){I.forEach(S=>{document.addEventListener(S,a,{passive:!0})})}function y(){I.forEach(S=>{document.removeEventListener(S,a)})}Re(()=>{l&&clearTimeout(l),y()});const w={welcome:Ut,menu:ys,card:na,duplicate:Ha,tag:il,promo:Wl,friend:jl,user:po,backup:fi,ai:hr},h=ie(()=>w[s.value]),x=ie(()=>s.value==="welcome"?{lastLoginTime:f.value,lastLoginIp:d.value,currentUsername:u.value}:{}),f=$(""),d=$(""),u=$("admin"),i=$(!1),V=$(""),M=$(""),U=$(!1),H=$(""),J=$(!1),Z=$(!1),ee=ie(()=>{switch(s.value){case"menu":return"æ ç›®ç®¡ç†";case"card":return"å¡ç‰‡ç®¡ç†";case"duplicate":return"å»é‡ç®¡ç†";case"tag":return"æ ‡ç­¾ç®¡ç†";case"promo":return"å®£ä¼ ç®¡ç†";case"friend":return"å‹é“¾ç®¡ç†";case"user":return"ç”¨æˆ·ç®¡ç†";case"backup":return"å¤‡ä»½ç®¡ç†";case"ai":return"AI è®¾ç½®";default:return""}});le(()=>B(null,null,function*(){if(m()){i.value=!1;return}localStorage.getItem("token")?(i.value=!0,yield se(),i.value&&(a(),v())):i.value=!1}));function se(){return B(this,null,function*(){try{const S=yield fetch("/api/users/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(S.ok){const p=yield S.json();f.value=p.last_login_time||"",d.value=p.last_login_ip||"",u.value=p.username||"admin"}else S.status===401&&(console.warn("TokenéªŒè¯å¤±è´¥ï¼Œè‡ªåŠ¨é€€å‡ºç™»å½•"),N())}catch(S){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",S)}})}function te(){return B(this,null,function*(){var S,p;if(!V.value||!M.value){H.value="è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ";return}U.value=!0,H.value="";try{const r=yield bt(V.value,M.value);r.data.token&&(localStorage.setItem("token",r.data.token),i.value=!0,f.value=r.data.lastLoginTime||"",d.value=r.data.lastLoginIp||"",yield se(),a(),v())}catch(r){H.value=((p=(S=r.response)==null?void 0:S.data)==null?void 0:p.message)||"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç "}finally{U.value=!1}})}function N(){l&&(clearTimeout(l),l=null),y(),localStorage.removeItem("token"),localStorage.removeItem("lastActivityTime"),i.value=!1,V.value="",M.value="",H.value=""}function W(){window.open("/","_blank")}function k(){Z.value=!Z.value}function T(){Z.value=!1}return(S,p)=>i.value?(o(),n("div",Ur,[e("aside",{class:E(["admin-sider",{open:Z.value}]),onClick:Me(T,["self"])},[e("div",{class:"logo clickable",onClick:p[3]||(p[3]=r=>{s.value="welcome",T()})},"Admin"),e("ul",Vr,[e("li",{class:E({active:s.value==="menu"}),onClick:p[4]||(p[4]=r=>{s.value="menu",T()})},"æ ç›®ç®¡ç†",2),e("li",{class:E({active:s.value==="card"}),onClick:p[5]||(p[5]=r=>{s.value="card",T()})},"å¡ç‰‡ç®¡ç†",2),e("li",{class:E({active:s.value==="duplicate"}),onClick:p[6]||(p[6]=r=>{s.value="duplicate",T()})},"å»é‡ç®¡ç†",2),e("li",{class:E({active:s.value==="tag"}),onClick:p[7]||(p[7]=r=>{s.value="tag",T()})},"æ ‡ç­¾ç®¡ç†",2),e("li",{class:E({active:s.value==="promo"}),onClick:p[8]||(p[8]=r=>{s.value="promo",T()})},"å®£ä¼ ç®¡ç†",2),e("li",{class:E({active:s.value==="friend"}),onClick:p[9]||(p[9]=r=>{s.value="friend",T()})},"å‹é“¾ç®¡ç†",2),e("li",{class:E({active:s.value==="user"}),onClick:p[10]||(p[10]=r=>{s.value="user",T()})},"ç”¨æˆ·ç®¡ç†",2),e("li",{class:E({active:s.value==="backup"}),onClick:p[11]||(p[11]=r=>{s.value="backup",T()})},"å¤‡ä»½ç®¡ç†",2),e("li",{class:E({active:s.value==="ai"}),onClick:p[12]||(p[12]=r=>{s.value="ai",T()})},"AI è®¾ç½®",2)])],2),e("main",Ar,[e("div",Br,[e("button",{class:"menu-toggle",onClick:k}," â˜° "),e("div",Tr,c(ee.value),1),e("div",{class:"header-actions"},[e("span",{class:"home-icon",onClick:W,title:"è¿›å…¥ä¸»é¡µ"},[...p[17]||(p[17]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M3 10.5L12 4l9 6.5V20a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4h-4v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V10.5z",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),e("button",{class:"btn logout-btn",onClick:N},"é€€å‡ºç™»å½•")])]),e("div",Ir,[qe(Ge,{name:"fade",mode:"out-in"},{default:Fe(()=>[(o(),je(Je(h.value),Qe({key:s.value},x.value),null,16))]),_:1})]),p[18]||(p[18]=e("footer",{class:"admin-footer"},[e("p",{class:"admin-copyright"},[z("Copyright Â© 2025 Con-Nav-Item | "),e("a",{href:"https://github.com/zczy-k/Con-Nav-Item",target:"_blank",class:"footer-link"},"Powered by zczy-k")])],-1))])])):(o(),n("div",gr,[e("div",br,[p[16]||(p[16]=e("h2",{class:"login-title"},"åå°ç®¡ç†ç™»å½•",-1)),e("div",kr,[A(e("input",{"onUpdate:modelValue":p[0]||(p[0]=r=>V.value=r),type:"text",placeholder:"ç”¨æˆ·åï¼ˆé»˜è®¤ï¼šadminï¼‰",class:"login-input",onKeyup:Ce(te,["enter"])},null,544),[[L,V.value]]),e("div",yr,[A(e("input",{"onUpdate:modelValue":p[1]||(p[1]=r=>M.value=r),type:J.value?"text":"password",placeholder:"å¯†ç ï¼ˆé»˜è®¤ï¼š123456ï¼‰",class:"login-input password-input",onKeyup:Ce(te,["enter"])},null,40,wr),[[De,M.value]]),e("span",{class:"toggle-password",onClick:p[2]||(p[2]=r=>J.value=!J.value)},[J.value?(o(),n("svg",_r,[...p[13]||(p[13]=[e("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"},null,-1),e("circle",{cx:"12",cy:"12",r:"3"},null,-1)])])):(o(),n("svg",$r,[...p[14]||(p[14]=[e("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.77 21.77 0 0 1 5.06-6.06"},null,-1),e("path",{d:"M1 1l22 22"},null,-1),e("path",{d:"M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47"},null,-1)])]))])]),e("div",Cr,[e("button",{onClick:W,class:"back-btn"},[...p[15]||(p[15]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),z(" è¿”å›é¦–é¡µ ",-1)])]),e("button",{onClick:te,class:"login-btn",disabled:U.value},c(U.value?"ç™»å½•ä¸­...":"ç™»å½•"),9,Mr)]),H.value?(o(),n("p",xr,c(H.value),1)):K("",!0)])])]))}},Kr=Y(Dr,[["__scopeId","data-v-52d75759"]]);export{Kr as default};
