const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CardGrid-D1vUJ4YD.js","assets/index-BjINSX_q.js","assets/CardGrid-BbZxDD-F.css"])))=>i.map(i=>d[i]);
var Pt=Object.defineProperty,Ot=Object.defineProperties;var qt=Object.getOwnPropertyDescriptors;var lt=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable;var ot=(S,C,f)=>C in S?Pt(S,C,{enumerable:!0,configurable:!0,writable:!0,value:f}):S[C]=f,K=(S,C)=>{for(var f in C||(C={}))Ft.call(C,f)&&ot(S,f,C[f]);if(lt)for(var f of lt(C))jt.call(C,f)&&ot(S,f,C[f]);return S},H=(S,C)=>Ot(S,qt(C));var w=(S,C,f)=>new Promise((E,x)=>{var U=z=>{try{y(f.next(z))}catch(oe){x(oe)}},b=z=>{try{y(f.throw(z))}catch(oe){x(oe)}},y=z=>z.done?E(z.value):Promise.resolve(z.value).then(U,b);y((f=f.apply(S,C)).next())});import{_ as rt,r as d,c as s,o as n,F as V,a as D,b as t,d as m,t as p,n as de,e as Ne,f as Gt,g as Jt,h as Kt,i as Q,w as _,j,k as te,T as le,v as $,l as Ee,m as Ce,p as pe,u as Ht,q as Qt,s as ze,x as Yt,y as Ue}from"./index-BjINSX_q.js";import{g as Wt,a as Xt,b as Zt,c as el,d as tl,e as he,v as at,f as ll,h as ol,u as st,p as al,i as sl,j as nl,k as rl,l as il,m as ul}from"./api-CunMeIpu.js";const dl={class:"menu-bar"},cl=["onMouseenter","onMouseleave"],vl=["onClick"],ml=["onClick"],gl={__name:"MenuBar",props:{menus:Array,activeId:Number,activeSubMenuId:Number},setup(S){const C=d(null);function f(x){C.value=x}function E(x){setTimeout(()=>{C.value===x&&(C.value=null)},100)}return(x,U)=>(n(),s("nav",dl,[(n(!0),s(V,null,D(S.menus,b=>(n(),s("div",{key:b.id,class:"menu-item",onMouseenter:y=>f(b.id),onMouseleave:y=>E(b.id)},[t("button",{onClick:y=>x.$emit("select",b),class:de({active:b.id===S.activeId})},p(b.name),11,vl),b.subMenus&&b.subMenus.length>0?(n(),s("div",{key:0,class:de(["sub-menu",{show:C.value===b.id}])},[(n(!0),s(V,null,D(b.subMenus,y=>(n(),s("button",{key:y.id,onClick:z=>x.$emit("select",y,b),class:de([{active:y.id===S.activeSubMenuId},"sub-menu-item"])},p(y.name),11,ml))),128))],2)):m("",!0)],40,cl))),128))]))}},pl=rt(gl,[["__scopeId","data-v-16a94230"]]),hl={class:"menu-bar-fixed"},fl={class:"search-section"},bl={key:0,class:"search-box-wrapper"},kl={class:"search-container"},yl={class:"engine-icon"},wl=["src","alt"],_l={class:"engine-menu-items"},Cl=["onClick"],xl={class:"engine-icon"},Il=["src","alt"],Ml={class:"engine-label"},Sl=["onClick"],El=["placeholder"],Ul={key:0,class:"mini-tag-bar"},$l={key:0,class:"selected-tag-display"},Ll=["title"],Tl={class:"tag-count"},Bl={class:"tag-panel-header"},Rl={class:"tag-panel-content"},Vl=["onClick"],Dl={key:1,class:"ad-space-fixed left-ad-fixed"},Nl=["href"],zl=["src"],Al={key:2,class:"ad-space-fixed right-ad-fixed"},Pl=["href"],Ol=["src"],ql={key:3,class:"move-target-panel"},Fl={class:"move-target-header"},jl={class:"move-target-list"},Gl=["onClick"],Jl={key:0,class:"target-submenu-list"},Kl=["onClick"],Hl=["disabled"],Ql={key:0,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Yl={key:1,width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Wl={key:"plus",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},Xl={key:"close",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},Zl={key:4,class:"modal-overlay"},eo={class:"modal-header"},to={class:"modal-body"},lo={key:0,class:"batch-step"},oo={class:"remember-password-wrapper"},ao={key:0,class:"batch-error"},so={class:"batch-actions"},no=["disabled"],ro={key:1,class:"batch-step"},io={key:0,class:"batch-error"},uo={class:"batch-actions"},co=["disabled"],vo={key:2,class:"batch-step"},mo={class:"batch-preview-list"},go=["onUpdate:modelValue","id"],po={class:"batch-card-preview"},ho=["src","alt"],fo={class:"batch-card-info"},bo={class:"batch-edit-field"},ko=["onUpdate:modelValue"],yo={class:"batch-edit-field"},wo=["onUpdate:modelValue"],_o={class:"batch-edit-field"},Co=["onUpdate:modelValue"],xo={key:0,class:"batch-edit-field"},Io={class:"batch-tags-selector"},Mo={key:0,class:"recommended-tags-section"},So={class:"recommended-tags-list"},Eo=["checked","onChange"],Uo={key:1,class:"other-tags-section"},$o={class:"other-tags-list"},Lo=["checked","onChange"],To={class:"batch-card-url"},Bo={key:1,class:"batch-card-warning"},Ro={key:0,class:"batch-error"},Vo={class:"batch-actions"},Do=["disabled"],No={class:"footer"},zo={class:"footer-content"},Ao={class:"modal-header"},Po={class:"modal-body"},Oo={class:"remember-password-wrapper"},qo={key:0,class:"batch-error"},Fo={class:"batch-actions",style:{"margin-top":"20px"}},jo=["disabled"],Go={class:"modal-header"},Jo={class:"modal-body"},Ko={class:"friend-links-grid"},Ho=["href"],Qo={class:"friend-link-logo"},Yo=["src","alt"],Wo={key:1,class:"friend-link-placeholder"},Xo={class:"friend-link-info"},Zo={key:7,class:"modal-overlay"},ea={class:"modal-body"},ta={class:"edit-card-form"},la={class:"form-group"},oa={class:"form-group"},aa={class:"form-group"},sa={class:"form-group"},na={class:"form-group"},ra={class:"tag-select-area"},ia={class:"selected-tags"},ua=["onClick"],da={class:"available-tags"},ca=["onClick"],va={key:0,class:"batch-error"},ma={class:"batch-actions",style:{"margin-top":"20px"}},ga=["disabled"],pa={key:8,class:"modal-overlay"},ha={class:"modal-header"},fa={class:"modal-body"},ba={key:0},ka={class:"form-group"},ya={key:0,class:"batch-error"},wa={class:"batch-actions",style:{"margin-top":"20px"}},_a=["disabled"],Ca={key:1},xa={class:"form-group"},Ia={class:"form-group"},Ma={class:"form-group"},Sa={key:0,class:"batch-error"},Ea={class:"batch-actions",style:{"margin-top":"20px"}},Ua=["disabled"],$a={key:0,class:"toast-notification"},nt="3.0",La={__name:"Home",setup(S){const C=Qt(()=>Yt(()=>import("./CardGrid-D1vUJ4YD.js"),__vite__mapDeps([0,1,2]))),f=d([]),E=d(null),x=d(null),U=d([]),b=d([]),y=d(""),z=d([]),oe=d([]),xe=d(!1),Ae=d([]),O=d([]),q=d(null),ae=d(!1),$e=d(!1),A=d(1),Y=d(""),fe=d(""),N=d(!1),M=d(""),be=d([]),ce=d(!1),G=d(!1),se=d(""),ve=d(!1),W=d(!1),L=d(""),Ie=d(!1),I=d([]),ne=d(!1),ke=d(null),ye=d(null),Pe=d(""),Le=d(!1),Te=d(!1),re=d(null),g=d({title:"",url:"",logo_url:"",desc:"",tagIds:[]}),X=d(!1);function it(){X.value=!X.value}function Oe(){X.value&&(X.value=!1)}const we=d(!1),qe=Ne(()=>be.value.filter(l=>l.selected).length),Fe=[{name:"google",label:"Google",url:l=>`https://www.google.com/search?q=${encodeURIComponent(l)}`},{name:"baidu",label:"�ٶ�",url:l=>`https://www.baidu.com/s?wd=${encodeURIComponent(l)}`},{name:"360",label:"360����",url:l=>`https://www.so.com/s?q=${encodeURIComponent(l)}`},{name:"sogou",label:"�ѹ�",url:l=>`https://www.sogou.com/web?query=${encodeURIComponent(l)}`},{name:"bing",label:"Bing",url:l=>`https://www.bing.com/search?q=${encodeURIComponent(l)}`},{name:"github",label:"GitHub",url:l=>`https://github.com/search?q=${encodeURIComponent(l)}&type=repositories`},{name:"duckduckgo",label:"DuckDuckGo",url:l=>`https://duckduckgo.com/?q=${encodeURIComponent(l)}`},{name:"yahoo",label:"Yahoo",url:l=>`https://search.yahoo.com/search?p=${encodeURIComponent(l)}`},{name:"yandex",label:"Yandex",url:l=>`https://yandex.com/search/?text=${encodeURIComponent(l)}`}],P=d([]),F=d(null),Be=d(!1),Z=d(!1),T=d(""),ee=d(!1),ie=d(1),ue=d(""),B=d({name:"",searchUrl:"",keyword:""});function Me(l){F.value=l;try{localStorage.setItem("default_search_engine",l.name)}catch(e){console.error("Failed to save default search engine:",e)}}function ut(){Z.value=!Z.value}function dt(l){Me(l),Z.value=!1}function ct(){y.value=""}function vt(){q.value=null}function mt(l){q.value=q.value===l?null:l,ae.value=!1}function gt(){return w(this,null,function*(){if(!localStorage.getItem("token")){const e=prompt("���������Ա�����������������棺");if(!e){Z.value=!1;return}try{const a=yield login("admin",e);localStorage.setItem("token",a.data.token)}catch(a){alert("�������"),Z.value=!1;return}}Be.value=!0,ie.value=1,T.value="",ue.value="",B.value={name:"",searchUrl:"",keyword:""}})}function Re(){Be.value=!1,ie.value=1,T.value="",ue.value="",Z.value=!1}function je(){return w(this,null,function*(){var l,e;if(!ue.value.trim()){T.value="������URL";return}ee.value=!0,T.value="";try{const a=yield al(ue.value);B.value={name:a.data.name,searchUrl:a.data.searchUrl,keyword:a.data.keyword},ie.value=2}catch(a){T.value=((e=(l=a.response)==null?void 0:l.data)==null?void 0:e.error)||"����ʧ�ܣ�����URL�Ƿ���ȷ"}finally{ee.value=!1}})}function pt(){return w(this,null,function*(){var l,e;if(!B.value.name.trim()){T.value="������������������";return}if(!B.value.searchUrl.trim()){T.value="����������URLģ��";return}if(!B.value.searchUrl.includes("{searchTerms}")){T.value="����URLģ�������� {searchTerms} ռλ��";return}ee.value=!0,T.value="";try{const a=yield sl({name:B.value.name,search_url:B.value.searchUrl,keyword:B.value.keyword}),i={name:"custom_"+a.data.id,label:a.data.name,icon:"??",placeholder:`${a.data.name} ����...`,url:r=>a.data.search_url.replace("{searchTerms}",encodeURIComponent(r)),custom:!0,id:a.data.id,keyword:a.data.keyword};P.value.push(i),me("�����������ӳɹ�"),Re()}catch(a){T.value=((e=(l=a.response)==null?void 0:l.data)==null?void 0:e.error)||"����ʧ��"}finally{ee.value=!1}})}function ht(l){return w(this,null,function*(){var a,i;if(!confirm(`ȷ��Ҫɾ����${l.label}������������`))return;if(!localStorage.getItem("token")){const r=prompt("���������Ա������ɾ���������棺");if(!r)return;try{const c=yield login("admin",r);localStorage.setItem("token",c.data.token)}catch(c){alert("�������");return}}try{yield nl(l.id);const r=P.value.findIndex(c=>c.name===l.name);r>-1&&P.value.splice(r,1),F.value.name===l.name&&(F.value=P.value[0],Me(P.value[0])),me("ɾ���ɹ�")}catch(r){alert("ɾ��ʧ�ܣ�"+(((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.error)||r.message))}})}const ft=Ne(()=>{let l=U.value;if(q.value&&(l=l.filter(e=>e.tags&&e.tags.some(a=>a.id===q.value))),y.value){const e=y.value.toLowerCase();l=l.filter(a=>a.title.toLowerCase().includes(e)||a.url.toLowerCase().includes(e)||a.desc&&a.desc.toLowerCase().includes(e))}return l});Gt(()=>{const l=localStorage.getItem("nav_background");l&&document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".home-container");e&&(e.style.backgroundImage=`url(${l})`,e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat",e.style.backgroundAttachment="fixed")})}),Jt(()=>w(null,null,function*(){const[l,e,a,i,r]=yield Promise.allSettled([Wt(),Xt(),Zt(),el(),tl()]);if(l.status==="fulfilled"&&(f.value=l.value.data,f.value.length&&(E.value=f.value[0],_e(),yt())),e.status==="fulfilled"&&(z.value=e.value.data.filter(u=>u.position==="left"),oe.value=e.value.data.filter(u=>u.position==="right")),a.status==="fulfilled"&&(Ae.value=a.value.data),i.status==="fulfilled"?O.value=i.value.data:console.error("���ر�ǩʧ��:",i.reason),r.status==="fulfilled"){const u=r.value.data.map(k=>({name:"custom_"+k.id,label:k.name,iconUrl:null,iconFallback:"??",placeholder:`${k.name} ����...`,url:o=>k.search_url.replace("{searchTerms}",encodeURIComponent(o)),custom:!0,id:k.id,keyword:k.keyword}));P.value=[...Fe,...u]}else console.error("�����Զ�����������ʧ��:",r.reason),P.value=[...Fe];try{localStorage.getItem("engine_config_version")!==nt&&(localStorage.removeItem("default_search_engine"),localStorage.removeItem("search_engines"),localStorage.setItem("engine_config_version",nt));const k=localStorage.getItem("default_search_engine");let o=P.value[0];if(k){const h=P.value.find(v=>v.name===k);h&&(o=h)}Me(o)}catch(u){console.error("Failed to set default search engine:",u),P.value.length>0&&Me(P.value[0])}const c=localStorage.getItem("nav_background");if(c){const u=document.querySelector(".home-container");u&&!u.style.backgroundImage.includes(c)&&(u.style.backgroundImage=`url(${c})`,u.style.backgroundSize="cover",u.style.backgroundPosition="center",u.style.backgroundRepeat="no-repeat",u.style.backgroundAttachment="fixed")}_t(),document.addEventListener("click",Oe),document.addEventListener("click",Ge)})),Kt(()=>{document.removeEventListener("click",Oe),document.removeEventListener("click",Ge)});function Ge(){Z.value&&(Z.value=!1)}function bt(l,e=null){return w(this,null,function*(){e?(E.value=e,x.value=l):(E.value=l,x.value=null),_e()})}const kt=d({});function _e(){return w(this,null,function*(){var e;if(!E.value)return;const l=yield he(E.value.id,(e=x.value)==null?void 0:e.id);U.value=l.data})}function yt(){return w(this,null,function*(){const l=[];for(const a of f.value)if(l.push(he(a.id,null).then(i=>i.data).catch(i=>(console.error(`���ز˵� ${a.name} �Ŀ�Ƭʧ��:`,i),[]))),a.subMenus&&a.subMenus.length)for(const i of a.subMenus)l.push(he(a.id,i.id).then(r=>r.data).catch(r=>(console.error(`�����Ӳ˵� ${i.name} �Ŀ�Ƭʧ��:`,r),[])));const e=yield Promise.all(l);b.value=e.flat()})}function Je(){return w(this,null,function*(){const l=[],e=[];for(const r of f.value){const c=`${r.id}_null`;if(e.push(c),l.push(he(r.id,null).then(u=>u.data).catch(()=>[])),r.subMenus&&r.subMenus.length)for(const u of r.subMenus){const k=`${r.id}_${u.id}`;e.push(k),l.push(he(r.id,u.id).then(o=>o.data).catch(()=>[]))}}const a=yield Promise.all(l),i={};a.forEach((r,c)=>{i[e[c]]=r}),kt.value=i})}function Ke(){return w(this,null,function*(){if(y.value.trim())if(F.value.name==="site"){let l=!1;for(const e of f.value){const a=yield he(e.id),i=a.data.find(r=>r.title.toLowerCase().includes(y.value.toLowerCase())||r.url.toLowerCase().includes(y.value.toLowerCase()));if(i){E.value=e,U.value=a.data,setTimeout(()=>{const r=document.querySelector(`[data-card-id='${i.id}']`);r&&r.scrollIntoView({behavior:"smooth",block:"center"})},100),l=!0;break}}l||alert("δ�ҵ��������")}else{const l=F.value.url(y.value);window.open(l,"_blank")}})}function He(l){return l.iconUrl?l.iconUrl:`https://api.xinac.net/icon/?url=${new URL(l.url("")).origin}&sz=128`}function Qe(l){l.target.src="/default-favicon.png"}function wt(){return w(this,null,function*(){$e.value=!0,M.value="";const l=localStorage.getItem("nav_password_token");if(l)try{const{password:e,expiry:a,token:i}=JSON.parse(l);if(Date.now()<a&&i){localStorage.setItem("token",i),Y.value=e,ce.value=!0,A.value=2;return}else localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}A.value=1})}function Ve(){$e.value=!1,A.value=1,Y.value="",fe.value="",M.value="",be.value=[],N.value=!1}function _t(){const l=localStorage.getItem("nav_password_token");if(l)try{const{password:e,expiry:a,token:i}=JSON.parse(l);Date.now()<a?(Y.value=e,ce.value=!0,i&&localStorage.setItem("token",i)):localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}}function Ye(){return w(this,null,function*(){if(!Y.value){M.value="����������";return}N.value=!0,M.value="";try{const l=yield at(Y.value);if(l.data&&l.data.token)localStorage.setItem("token",l.data.token);else throw new Error("��֤�ɹ�����δ�յ� token");if(ce.value){const e=Date.now()+72e5;localStorage.setItem("nav_password_token",JSON.stringify({password:Y.value,token:l.data.token,expiry:e}))}else localStorage.removeItem("nav_password_token");A.value=2}catch(l){M.value="�������������",console.error("������֤ʧ��:",l)}finally{N.value=!1}})}function Ct(){localStorage.removeItem("nav_password_token"),localStorage.removeItem("token"),Y.value="",ce.value=!1,A.value=1}const xt=[{domains:["github.com","gitlab.com","gitee.com","bitbucket.org"],keywords:["git","����","code"],tags:["��������","�����й�"]},{domains:["stackoverflow.com","stackexchange.com"],keywords:["�ʴ�","q&a"],tags:["��������","�ʴ�����"]},{domains:["npmjs.com","pypi.org","packagist.org","maven.org"],keywords:["package","������"],tags:["��������","������"]},{domains:["docker.com","kubernetes.io"],keywords:["docker","k8s","����"],tags:["��������","��ԭ��"]},{domains:["google.com","bing.com","baidu.com","sogou.com","so.com","duckduckgo.com","yahoo.com"],keywords:["����","search"],tags:["��������"]},{domains:["youtube.com","bilibili.com","youku.com","iqiyi.com","tencent.com/v"],keywords:["��Ƶ","video","Ӱ��"],tags:["��Ƶ","����"]},{domains:["netflix.com","primevideo.com","disneyplus.com"],keywords:["��ý��","streaming"],tags:["��Ƶ","����","��ý��"]},{domains:["twitter.com","x.com","facebook.com","instagram.com","linkedin.com"],keywords:["�罻","social"],tags:["�罻ý��"]},{domains:["weibo.com","douban.com"],keywords:["΢��","����"],tags:["�罻ý��","����"]},{domains:["coursera.org","udemy.com","edx.org","khanacademy.org"],keywords:["�γ�","course","ѧϰ"],tags:["ѧϰ","����"]},{domains:["zhihu.com","quora.com"],keywords:["֪ʶ","�ʴ�"],tags:["�ʴ�����","ѧϰ"]},{domains:["medium.com","dev.to","csdn.net","cnblogs.com","juejin.cn"],keywords:["����","blog","����"],tags:["��������","ѧϰ"]},{domains:["figma.com","sketch.com","adobe.com"],keywords:["���","design","ui"],tags:["��ƹ���","����"]},{domains:["dribbble.com","behance.net"],keywords:["���","inspiration"],tags:["���","���"]},{domains:["aws.amazon.com","cloud.google.com","azure.microsoft.com","aliyun.com","tencent.com/cloud"],keywords:["�Ƽ���","cloud"],tags:["�Ʒ���"]},{domains:["gmail.com","outlook.com","qq.com/mail","163.com","126.com"],keywords:["����","email","mail"],tags:["����"]},{domains:["notion.so","evernote.com","onenote.com"],keywords:["�ʼ�","note"],tags:["Ч�ʹ���","�ʼ�"]},{domains:["trello.com","asana.com","jira.atlassian.com"],keywords:["��Ŀ����","project"],tags:["Ч�ʹ���","��Ŀ����"]},{domains:["openai.com","chat.openai.com","claude.ai","bard.google.com"],keywords:["ai","�˹�����","gpt"],tags:["AI����"]},{domains:["leetcode.com","leetcode.cn","codewars.com","hackerrank.com"],keywords:["�㷨","algorithm","ˢ��"],tags:["���ѧϰ","�㷨"]}];function It(l,e){const a=new Set;try{const c=new URL(l).hostname.toLowerCase().replace("www.",""),u=(e||"").toLowerCase();for(const k of xt){let o=!1;if(k.domains){for(const h of k.domains)if(c.includes(h)||h.includes(c)){o=!0;break}}if(!o&&k.keywords&&e){for(const h of k.keywords)if(u.includes(h.toLowerCase())){o=!0;break}}o&&k.tags.forEach(h=>a.add(h))}}catch(r){console.warn("�Ƽ���ǩʧ��:",r)}const i=[];for(const r of a){const c=O.value.find(u=>u.name===r);c&&i.push(c.id)}return i}function Mt(){return w(this,null,function*(){var e,a;const l=fe.value.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);if(l.length===0){M.value="����������һ����ַ";return}N.value=!0,M.value="";try{const i=yield ll(l);be.value=i.data.data.map(r=>{const c=It(r.url,r.title);return H(K({},r),{selected:!0,tagIds:c,recommendedTagIds:c})}),A.value=3}catch(i){M.value=((a=(e=i.response)==null?void 0:e.data)==null?void 0:a.error)||"����ʧ�ܣ�������"}finally{N.value=!1}})}function We(l,e){l.tagIds||(l.tagIds=[]);const a=l.tagIds.indexOf(e);a>-1?l.tagIds.splice(a,1):l.tagIds.push(e)}function Xe(l){return!l.recommendedTagIds||l.recommendedTagIds.length===0?O.value:O.value.filter(e=>!l.recommendedTagIds.includes(e.id))}function St(){return w(this,null,function*(){var e,a,i;const l=be.value.filter(r=>r.selected);if(l.length===0){M.value="������ѡ��һ����վ";return}N.value=!0,M.value="";try{const r=l.map(c=>({title:c.title,url:c.url,logo:c.logo,description:c.description,tagIds:c.tagIds||[]}));yield ol(E.value.id,((e=x.value)==null?void 0:e.id)||null,r),alert(`�ɹ����� ${l.length} ����վ��`),Ve(),yield _e()}catch(r){M.value=((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.error)||"����ʧ�ܣ�������"}finally{N.value=!1}})}function Et(){return w(this,null,function*(){if(!we.value){we.value=!0;try{const e=(yield rl()).data.url;let a=document.getElementById("dynamic-bg-style");a||(a=document.createElement("style"),a.id="dynamic-bg-style",document.head.appendChild(a)),a.textContent=`.home-container { background-image: url(${e}) !important; }`,localStorage.setItem("nav_background",e)}catch(l){console.error("��ȡ��ֽʧ��:",l),alert("��ȡ��ֽʧ�ܣ����Ժ�����")}finally{we.value=!1}}})}function Ut(){return w(this,null,function*(){const l=localStorage.getItem("nav_password_token");if(l)try{const{password:e,expiry:a,token:i}=JSON.parse(l);if(Date.now()<a&&i){localStorage.setItem("token",i),G.value=!0;return}else localStorage.removeItem("nav_password_token")}catch(e){localStorage.removeItem("nav_password_token")}if(ve.value=!0,se.value="",L.value="",l)try{const{password:e,expiry:a}=JSON.parse(l);Date.now()<a&&(se.value=e,Ie.value=!0)}catch(e){}})}function Ze(){return w(this,null,function*(){if(!se.value){L.value="����������";return}W.value=!0,L.value="";try{const l=yield at(se.value);if(localStorage.setItem("token",l.data.token),Ie.value){const e=Date.now()+72e5;localStorage.setItem("nav_password_token",JSON.stringify({password:se.value,token:l.data.token,expiry:e}))}else localStorage.removeItem("nav_password_token");G.value=!0,ve.value=!1,W.value=!1}catch(l){L.value="�������",W.value=!1}})}function et(){G.value=!1,I.value=[],ne.value=!1,ke.value=null,ye.value=null}function $t(l){G.value&&l.target.classList.contains("home-container")&&et()}function Lt(){ne.value=!1,ke.value=null,ye.value=null}function Tt(l){var a,i;const e=I.value.findIndex(r=>r.id===l.id);e>-1?(I.value.splice(e,1),I.value.length===0&&(ne.value=!1)):(I.value.push(l),ne.value||(ne.value=!0,ke.value=((a=E.value)==null?void 0:a.id)||null,ye.value=((i=x.value)==null?void 0:i.id)||null))}function me(l,e=2e3){Pe.value=l,Le.value=!0,setTimeout(()=>{Le.value=!1},e)}function tt(l,e){return w(this,null,function*(){var a,i,r,c;if(I.value.length!==0)try{const u=I.value.map(v=>v.id),k=I.value.map(v=>({id:v.id,menu_id:l,sub_menu_id:e}));for(const v of k){const R=I.value.find(J=>J.id===v.id);yield st(v.id,H(K({},R),{menu_id:v.menu_id,sub_menu_id:v.sub_menu_id}))}const o=I.value.length;l===((a=E.value)==null?void 0:a.id)&&e===((i=x.value)==null?void 0:i.id)?u.forEach(v=>{const R=U.value.findIndex(Se=>Se.id===v);R>-1&&(U.value[R]=H(K({},U.value[R]),{menu_id:l,sub_menu_id:e}));const J=b.value.findIndex(Se=>Se.id===v);J>-1&&(b.value[J]=H(K({},b.value[J]),{menu_id:l,sub_menu_id:e}))}):(U.value=U.value.filter(v=>!u.includes(v.id)),u.forEach(v=>{const R=b.value.findIndex(J=>J.id===v);R>-1&&(b.value[R]=H(K({},b.value[R]),{menu_id:l,sub_menu_id:e}))})),me(`���ƶ� ${o} ����Ƭ��`),I.value=[],ne.value=!1}catch(u){me(`�ƶ�ʧ�ܣ�${((c=(r=u.response)==null?void 0:r.data)==null?void 0:c.error)||u.message}`)}})}function Bt(l,e,a){return w(this,null,function*(){var r,c;const i=l.map((u,k)=>({id:u,order:k,menu_id:e,sub_menu_id:a}));try{yield ul(i),G.value?yield Je():yield _e()}catch(u){alert("����ʧ�ܣ�"+(((c=(r=u.response)==null?void 0:r.data)==null?void 0:c.error)||u.message)),G.value?yield Je():yield _e()}})}function Rt(l){return w(this,null,function*(){var e,a;if(confirm(`ȷ��Ҫɾ����${l.title}����`))try{yield il(l.id);const i=U.value.findIndex(u=>u.id===l.id);i>-1&&U.value.splice(i,1);const r=b.value.findIndex(u=>u.id===l.id);r>-1&&b.value.splice(r,1);const c=I.value.findIndex(u=>u.id===l.id);c>-1&&I.value.splice(c,1),me("ɾ���ɹ�")}catch(i){alert("ɾ��ʧ�ܣ�"+(((a=(e=i.response)==null?void 0:e.data)==null?void 0:a.error)||i.message))}})}function Vt(l){re.value=l,g.value={title:l.title||"",url:l.url||"",logo_url:l.logo_url||"",desc:l.desc||"",tagIds:l.tags?l.tags.map(e=>e.id):[]},L.value="",Te.value=!0}function De(){Te.value=!1,re.value=null,g.value={title:"",url:"",logo_url:"",desc:"",tagIds:[]},L.value=""}function ge(l){return O.value.find(e=>e.id===l)}function Dt(l){g.value.tagIds.includes(l)||g.value.tagIds.push(l)}function Nt(l){const e=g.value.tagIds.indexOf(l);e>-1&&g.value.tagIds.splice(e,1)}const zt=Ne(()=>O.value.filter(l=>!g.value.tagIds.includes(l.id)));function At(){return w(this,null,function*(){var l,e;if(!g.value.title.trim()){L.value="���������";return}if(!g.value.url.trim()){L.value="��������ַ";return}W.value=!0,L.value="";try{yield st(re.value.id,H(K({},re.value),{title:g.value.title,url:g.value.url,logo_url:g.value.logo_url,desc:g.value.desc,tagIds:g.value.tagIds}));const a=g.value.tagIds.map(u=>O.value.find(k=>k.id===u)).filter(Boolean),i=U.value.findIndex(u=>u.id===re.value.id);i>-1&&(U.value[i]=H(K({},U.value[i]),{title:g.value.title,url:g.value.url,logo_url:g.value.logo_url,desc:g.value.desc,tags:a}));const r=b.value.findIndex(u=>u.id===re.value.id);r>-1&&(b.value[r]=H(K({},b.value[r]),{title:g.value.title,url:g.value.url,logo_url:g.value.logo_url,desc:g.value.desc,tags:a}));const c=I.value.findIndex(u=>u.id===re.value.id);c>-1&&(I.value[c]=H(K({},I.value[c]),{title:g.value.title,url:g.value.url,logo_url:g.value.logo_url,desc:g.value.desc,tags:a})),me("�޸ĳɹ�"),De()}catch(a){L.value="�޸�ʧ�ܣ�"+(((e=(l=a.response)==null?void 0:l.data)==null?void 0:e.error)||a.message)}finally{W.value=!1}})}return(l,e)=>{var a,i,r,c,u,k;return n(),s("div",{class:"home-container",onClick:$t},[t("div",hl,[Q(pl,{menus:f.value,activeId:(a=E.value)==null?void 0:a.id,activeSubMenuId:(i=x.value)==null?void 0:i.id,onSelect:bt},null,8,["menus","activeId","activeSubMenuId"])]),t("div",fl,[F.value?(n(),s("div",bl,[t("div",kl,[t("div",{class:"search-engine-dropdown",onClick:e[1]||(e[1]=j(()=>{},["stop"]))},[t("button",{onClick:ut,class:"engine-selector",title:"ѡ����������"},[t("span",yl,[t("img",{src:He(F.value),alt:F.value.label,onError:Qe,class:"engine-icon-img"},null,40,wl)]),e[37]||(e[37]=t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"6 9 12 15 18 9"})],-1))]),Q(le,{name:"dropdown"},{default:te(()=>[Z.value?(n(),s("div",{key:0,class:"engine-dropdown-menu",onClick:e[0]||(e[0]=j(()=>{},["stop"]))},[t("div",{class:"engine-menu-header"},[e[38]||(e[38]=t("span",null,"��������",-1)),t("button",{onClick:gt,class:"add-engine-icon-btn",title:"�����Զ���"}," + ")]),t("div",_l,[(n(!0),s(V,null,D(P.value,o=>(n(),s("button",{key:o.name,class:de(["engine-menu-item",{active:F.value.name===o.name}]),onClick:h=>dt(o)},[t("span",xl,[t("img",{src:He(o),alt:o.label,onError:Qe,class:"engine-icon-img"},null,40,Il)]),t("span",Ml,p(o.label),1),o.custom?(n(),s("button",{key:0,onClick:j(h=>ht(o),["stop"]),class:"delete-engine-btn-small",title:"ɾ��"}," �� ",8,Sl)):m("",!0)],10,Cl))),128))])])):m("",!0)]),_:1})]),_(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>y.value=o),type:"text",placeholder:F.value?F.value.placeholder:"����...",class:"search-input",onKeyup:Ee(Ke,["enter"])},null,40,El),[[$,y.value]]),y.value?(n(),s("button",{key:0,class:"clear-btn",onClick:ct,"aria-label":"���",title:"clear"},e[39]||(e[39]=[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))):m("",!0),t("button",{onClick:Ke,class:"search-btn",title:"search"},e[40]||(e[40]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[t("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))])])):m("",!0)]),O.value.length>0?(n(),s("div",Ul,[q.value?(n(),s("div",$l,[t("span",{class:"mini-tag-chip",style:pe({backgroundColor:(r=ge(q.value))==null?void 0:r.color})},[Ce(p((c=ge(q.value))==null?void 0:c.name)+" ",1),t("button",{class:"mini-tag-close",onClick:vt,title:"���ɸѡ"},"��")],4)])):m("",!0),t("button",{class:"mini-tag-btn",onClick:e[3]||(e[3]=o=>ae.value=!ae.value),title:ae.value?"�رձ�ǩ":"ѡ���ǩ"},[e[41]||(e[41]=t("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),t("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1)),t("span",Tl,p(O.value.length),1)],8,Ll)])):m("",!0),Q(le,{name:"tag-panel"},{default:te(()=>[ae.value?(n(),s("div",{key:0,class:"tag-panel-overlay",onClick:e[6]||(e[6]=o=>ae.value=!1)},[t("div",{class:"tag-panel",onClick:e[5]||(e[5]=j(()=>{},["stop"]))},[t("div",Bl,[e[42]||(e[42]=t("h4",null,"ѡ���ǩ",-1)),t("button",{class:"panel-close-btn",onClick:e[4]||(e[4]=o=>ae.value=!1)},"��")]),t("div",Rl,[(n(!0),s(V,null,D(O.value,o=>(n(),s("button",{key:o.id,class:de(["panel-tag-btn",{active:q.value===o.id}]),style:pe({backgroundColor:q.value===o.id?o.color:"rgba(255,255,255,0.9)",color:q.value===o.id?"white":o.color,borderColor:o.color}),onClick:h=>mt(o.id)},[e[43]||(e[43]=t("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),t("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1)),Ce(" "+p(o.name),1)],14,Vl))),128))])])])):m("",!0)]),_:1}),z.value.length?(n(),s("div",Dl,[(n(!0),s(V,null,D(z.value,o=>(n(),s("a",{key:o.id,href:o.url,target:"_blank"},[t("img",{src:o.img,alt:"���",loading:"lazy"},null,8,zl)],8,Nl))),128))])):m("",!0),oe.value.length?(n(),s("div",Al,[(n(!0),s(V,null,D(oe.value,o=>(n(),s("a",{key:o.id,href:o.url,target:"_blank"},[t("img",{src:o.img,alt:"���",loading:"lazy"},null,8,Ol)],8,Pl))),128))])):m("",!0),G.value&&ne.value?(n(),s("div",ql,[t("div",Fl,[t("h4",null,"�ƶ��� ("+p(I.value.length)+")",1),t("button",{onClick:Lt,class:"cancel-move-btn"},"��")]),t("div",jl,[(n(!0),s(V,null,D(f.value,o=>(n(),s("div",{key:o.id,class:"target-menu-group"},[t("button",{onClick:h=>tt(o.id,null),class:de(["target-menu-btn",{active:ke.value===o.id&&ye.value===null}])},p(o.name),11,Gl),o.subMenus&&o.subMenus.length?(n(),s("div",Jl,[(n(!0),s(V,null,D(o.subMenus,h=>(n(),s("button",{key:h.id,onClick:v=>tt(o.id,h.id),class:de(["target-submenu-btn",{active:ke.value===o.id&&ye.value===h.id}])}," ? "+p(h.name),11,Kl))),128))])):m("",!0)]))),128))])])):m("",!0),Q(Ht(C),{cards:ft.value,editMode:G.value,selectedCards:I.value,categoryId:(u=E.value)==null?void 0:u.id,subCategoryId:(k=x.value)==null?void 0:k.id,onCardsReordered:Bt,onEditCard:Vt,onDeleteCard:Rt,onToggleCardSelection:Tt,onClick:e[7]||(e[7]=j(()=>{},["stop"]))},null,8,["cards","editMode","selectedCards","categoryId","subCategoryId"]),t("div",{class:"fab-container",onClick:e[8]||(e[8]=j(()=>{},["stop"]))},[Q(le,{name:"fab-item"},{default:te(()=>[_(t("button",{onClick:Et,class:"change-bg-btn",title:"�л�����",disabled:we.value},[we.value?(n(),s("svg",Yl,e[45]||(e[45]=[t("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"},null,-1)]))):(n(),s("svg",Ql,e[44]||(e[44]=[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),t("path",{d:"M21 15l-5-5L5 21"},null,-1)])))],8,Hl),[[Ue,X.value]])]),_:1}),Q(le,{name:"fab-item"},{default:te(()=>[E.value?_((n(),s("button",{key:0,onClick:wt,class:"batch-add-btn",title:"����������վ"},e[46]||(e[46]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 5v14M5 12h14"})],-1)]),512)),[[Ue,X.value]]):m("",!0)]),_:1}),Q(le,{name:"fab-item"},{default:te(()=>[G.value?_((n(),s("button",{key:0,onClick:et,class:"exit-edit-btn",title:"�˳��༭ģʽ"},e[47]||(e[47]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]),512)),[[Ue,X.value]]):m("",!0)]),_:1}),Q(le,{name:"fab-item"},{default:te(()=>[G.value?m("",!0):_((n(),s("button",{key:0,onClick:Ut,class:"edit-mode-btn",title:"�༭ģʽ"},e[48]||(e[48]=[t("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),t("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)]),512)),[[Ue,X.value]])]),_:1}),t("button",{onClick:it,class:"fab-toggle-btn",title:"���๦��"},[Q(le,{name:"fab-icon",mode:"out-in"},{default:te(()=>[X.value?(n(),s("svg",Xl,e[50]||(e[50]=[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),t("line",{x1:"6",y1:"6",x2:"18",y2:"12"},null,-1)]))):(n(),s("svg",Wl,e[49]||(e[49]=[t("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),t("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1)])))]),_:1})])]),$e.value?(n(),s("div",Zl,[t("div",{class:"modal-content batch-modal",onClick:e[14]||(e[14]=j(()=>{},["stop"]))},[t("div",eo,[t("h3",null,p(A.value===1?"��֤����":A.value===2?"������ַ":"Ԥ����ѡ��"),1),t("button",{onClick:Ve,class:"close-btn"},e[51]||(e[51]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",to,[A.value===1?(n(),s("div",lo,[e[53]||(e[53]=t("p",{class:"batch-tip"},"���������Ա�����Լ�����",-1)),_(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>Y.value=o),type:"password",placeholder:"���������Ա����",class:"batch-input",onKeyup:Ee(Ye,["enter"])},null,544),[[$,Y.value]]),t("div",oo,[t("label",null,[_(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=o=>ce.value=o)},null,512),[[ze,ce.value]]),e[52]||(e[52]=t("span",null,"��ס���루2Сʱ��",-1))])]),M.value?(n(),s("p",ao,p(M.value),1)):m("",!0),t("div",so,[t("button",{onClick:Ve,class:"btn btn-cancel"},"ȡ��"),t("button",{onClick:Ye,class:"btn btn-primary",disabled:N.value},p(N.value?"��֤��...":"ȷ��"),9,no)])])):m("",!0),A.value===2?(n(),s("div",ro,[e[54]||(e[54]=t("p",{class:"batch-tip"},"��������Ҫ���ӵ���ַ��ÿ��һ����",-1)),_(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=o=>fe.value=o),placeholder:`���磺
https://github.com
https://google.com
https://stackoverflow.com`,class:"batch-textarea",rows:"10"},null,512),[[$,fe.value]]),M.value?(n(),s("p",io,p(M.value),1)):m("",!0),t("div",uo,[t("button",{onClick:Ct,class:"btn btn-cancel"},"��һ��"),t("button",{onClick:Mt,class:"btn btn-primary",disabled:N.value||!fe.value.trim()},p(N.value?"������...":"��һ��"),9,co)])])):m("",!0),A.value===3?(n(),s("div",vo,[e[61]||(e[61]=t("p",{class:"batch-tip"},"��ѡ����Ҫ���ӵ���վ��",-1)),t("div",mo,[(n(!0),s(V,null,D(be.value,(o,h)=>(n(),s("div",{key:h,class:"batch-preview-item"},[_(t("input",{type:"checkbox","onUpdate:modelValue":v=>o.selected=v,id:`card-${h}`},null,8,go),[[ze,o.selected]]),t("div",po,[t("img",{src:o.logo,alt:o.title,class:"batch-card-logo",onError:e[12]||(e[12]=v=>v.target.src="/default-favicon.png")},null,40,ho),t("div",fo,[t("div",bo,[e[55]||(e[55]=t("label",null,"���⣺",-1)),_(t("input",{type:"text","onUpdate:modelValue":v=>o.title=v,class:"batch-edit-input"},null,8,ko),[[$,o.title]])]),t("div",yo,[e[56]||(e[56]=t("label",null,"Logo��",-1)),_(t("input",{type:"text","onUpdate:modelValue":v=>o.logo=v,class:"batch-edit-input"},null,8,wo),[[$,o.logo]])]),t("div",_o,[e[57]||(e[57]=t("label",null,"������",-1)),_(t("textarea",{"onUpdate:modelValue":v=>o.description=v,class:"batch-edit-textarea",rows:"2"},null,8,Co),[[$,o.description]])]),O.value.length>0?(n(),s("div",xo,[e[60]||(e[60]=t("label",null,"��ǩ��",-1)),t("div",Io,[o.recommendedTagIds&&o.recommendedTagIds.length>0?(n(),s("div",Mo,[e[58]||(e[58]=t("div",{class:"recommended-tags-header"},[t("span",{class:"recommend-badge"},"? �����Ƽ�")],-1)),t("div",So,[(n(!0),s(V,null,D(o.recommendedTagIds,v=>{var R,J;return n(),s("label",{key:"rec-"+v,class:"batch-tag-option recommended"},[t("input",{type:"checkbox",checked:o.tagIds&&o.tagIds.includes(v),onChange:Se=>We(o,v)},null,40,Eo),t("span",{class:"batch-tag-label",style:pe({backgroundColor:(R=ge(v))==null?void 0:R.color})},p((J=ge(v))==null?void 0:J.name),5)])}),128))])])):m("",!0),Xe(o).length>0?(n(),s("div",Uo,[e[59]||(e[59]=t("div",{class:"other-tags-header"},"������ǩ",-1)),t("div",$o,[(n(!0),s(V,null,D(Xe(o),v=>(n(),s("label",{key:"other-"+v.id,class:"batch-tag-option"},[t("input",{type:"checkbox",checked:o.tagIds&&o.tagIds.includes(v.id),onChange:R=>We(o,v.id)},null,40,Lo),t("span",{class:"batch-tag-label",style:pe({backgroundColor:v.color})},p(v.name),5)]))),128))])])):m("",!0)])])):m("",!0),t("p",To,p(o.url),1),o.success?m("",!0):(n(),s("p",Bo,"?? "+p(o.error),1))])])]))),128))]),M.value?(n(),s("p",Ro,p(M.value),1)):m("",!0),t("div",Vo,[t("button",{onClick:e[13]||(e[13]=o=>A.value=2),class:"btn btn-cancel"},"��һ��"),t("button",{onClick:St,class:"btn btn-primary",disabled:N.value||qe.value===0},p(N.value?"������...":`���� (${qe.value})`),9,Do)])])):m("",!0)])])])):m("",!0),t("footer",No,[t("div",zo,[t("button",{onClick:e[15]||(e[15]=o=>xe.value=!0),class:"friend-link-btn"},e[62]||(e[62]=[t("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),t("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})],-1),Ce(" �������� ")])),e[63]||(e[63]=t("p",{class:"copyright"},[Ce("Copyright ? 2025 Con-Nav-Item | "),t("a",{href:"https://github.com/zczy-k/Con-Nav-Item",target:"_blank",class:"footer-link"},"Powered by zczy-k")],-1))])]),ve.value?(n(),s("div",{key:5,class:"modal-overlay",onClick:e[21]||(e[21]=o=>ve.value=!1)},[t("div",{class:"modal-content",onClick:e[20]||(e[20]=j(()=>{},["stop"]))},[t("div",Ao,[e[65]||(e[65]=t("h3",null,"����༭ģʽ",-1)),t("button",{onClick:e[16]||(e[16]=o=>ve.value=!1),class:"close-btn"},e[64]||(e[64]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",Po,[e[67]||(e[67]=t("p",{style:{"margin-bottom":"15px"}},"���������Ա�����Լ�����",-1)),_(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>se.value=o),type:"password",placeholder:"���������Ա����",class:"batch-input",onKeyup:Ee(Ze,["enter"]),style:{width:"100%"}},null,544),[[$,se.value]]),t("div",Oo,[t("label",null,[_(t("input",{type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=o=>Ie.value=o)},null,512),[[ze,Ie.value]]),e[66]||(e[66]=t("span",null,"��ס���루2Сʱ��",-1))])]),L.value?(n(),s("p",qo,p(L.value),1)):m("",!0),t("div",Fo,[t("button",{onClick:e[19]||(e[19]=o=>ve.value=!1),class:"btn btn-cancel"},"ȡ��"),t("button",{onClick:Ze,class:"btn btn-primary",disabled:W.value},p(W.value?"��֤��...":"ȷ��"),9,jo)])])])])):m("",!0),xe.value?(n(),s("div",{key:6,class:"modal-overlay",onClick:e[25]||(e[25]=o=>xe.value=!1)},[t("div",{class:"modal-content",onClick:e[24]||(e[24]=j(()=>{},["stop"]))},[t("div",Go,[e[69]||(e[69]=t("h3",null,"��������",-1)),t("button",{onClick:e[22]||(e[22]=o=>xe.value=!1),class:"close-btn"},e[68]||(e[68]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",Jo,[t("div",Ko,[(n(!0),s(V,null,D(Ae.value,o=>(n(),s("a",{key:o.id,href:o.url,target:"_blank",class:"friend-link-card"},[t("div",Qo,[o.logo?(n(),s("img",{key:0,src:o.logo,alt:o.title,loading:"lazy",onError:e[23]||(e[23]=(...h)=>l.handleLogoError&&l.handleLogoError(...h))},null,40,Yo)):(n(),s("div",Wo,p(o.title.charAt(0)),1))]),t("div",Xo,[t("h4",null,p(o.title),1)])],8,Ho))),128))])])])])):m("",!0),Te.value?(n(),s("div",Zo,[t("div",{class:"modal-content",onClick:e[30]||(e[30]=j(()=>{},["stop"]))},[t("div",{class:"modal-header"},[e[71]||(e[71]=t("h3",null,"�༭��Ƭ",-1)),t("button",{onClick:De,class:"close-btn"},e[70]||(e[70]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",ea,[t("div",ta,[t("div",la,[e[72]||(e[72]=t("label",null,"����",-1)),_(t("input",{"onUpdate:modelValue":e[26]||(e[26]=o=>g.value.title=o),type:"text",placeholder:"���������",class:"batch-input"},null,512),[[$,g.value.title]])]),t("div",oa,[e[73]||(e[73]=t("label",null,"��ַ",-1)),_(t("input",{"onUpdate:modelValue":e[27]||(e[27]=o=>g.value.url=o),type:"url",placeholder:"��������ַ",class:"batch-input"},null,512),[[$,g.value.url]])]),t("div",aa,[e[74]||(e[74]=t("label",null,"Logo ����",-1)),_(t("input",{"onUpdate:modelValue":e[28]||(e[28]=o=>g.value.logo_url=o),type:"url",placeholder:"������ Logo ͼƬ����",class:"batch-input"},null,512),[[$,g.value.logo_url]])]),t("div",sa,[e[75]||(e[75]=t("label",null,"����",-1)),_(t("textarea",{"onUpdate:modelValue":e[29]||(e[29]=o=>g.value.desc=o),placeholder:"����������",class:"batch-textarea",rows:"4"},null,512),[[$,g.value.desc]])]),t("div",na,[e[76]||(e[76]=t("label",null,"��ǩ",-1)),t("div",ra,[t("div",ia,[(n(!0),s(V,null,D(g.value.tagIds,o=>{var h,v;return n(),s("span",{key:o,class:"selected-tag",style:pe({backgroundColor:((h=ge(o))==null?void 0:h.color)||"#666"})},[Ce(p(((v=ge(o))==null?void 0:v.name)||"δ֪")+" ",1),t("button",{onClick:R=>Nt(o),class:"remove-tag-btn"},"��",8,ua)],4)}),128))]),t("div",da,[(n(!0),s(V,null,D(zt.value,o=>(n(),s("button",{key:o.id,onClick:h=>Dt(o.id),class:"available-tag-btn",style:pe({borderColor:o.color,color:o.color})}," + "+p(o.name),13,ca))),128))])])]),L.value?(n(),s("p",va,p(L.value),1)):m("",!0),t("div",ma,[t("button",{onClick:De,class:"btn btn-cancel"},"ȡ��"),t("button",{onClick:At,class:"btn btn-primary",disabled:W.value},p(W.value?"������...":"����"),9,ga)])])])])])):m("",!0),Be.value?(n(),s("div",pa,[t("div",{class:"modal-content",onClick:e[36]||(e[36]=j(()=>{},["stop"]))},[t("div",ha,[t("h3",null,p(ie.value===1?"������������ - ����URL":"������������ - �༭��Ϣ"),1),t("button",{onClick:Re,class:"close-btn"},e[77]||(e[77]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18M6 6l12 12"})],-1)]))]),t("div",fa,[ie.value===1?(n(),s("div",ba,[t("div",ka,[e[78]||(e[78]=t("label",null,"��������URL",-1)),_(t("input",{"onUpdate:modelValue":e[31]||(e[31]=o=>ue.value=o),type:"url",placeholder:"���磺https://www.google.com",class:"batch-input",onKeyup:Ee(je,["enter"])},null,544),[[$,ue.value]]),e[79]||(e[79]=t("p",{style:{"font-size":"12px",color:"#666","margin-top":"5px"}},"���������������ҳ��ַ��ϵͳ���Զ�����",-1))]),T.value?(n(),s("p",ya,p(T.value),1)):m("",!0),t("div",wa,[t("button",{onClick:Re,class:"btn btn-cancel"},"ȡ��"),t("button",{onClick:je,class:"btn btn-primary",disabled:ee.value||!ue.value},p(ee.value?"������...":"��һ��"),9,_a)])])):m("",!0),ie.value===2?(n(),s("div",Ca,[t("div",xa,[e[80]||(e[80]=t("label",null,"����",-1)),_(t("input",{"onUpdate:modelValue":e[32]||(e[32]=o=>B.value.name=o),type:"text",placeholder:"���磺Google",class:"batch-input"},null,512),[[$,B.value.name]])]),t("div",Ia,[e[81]||(e[81]=t("label",null,"����URLģ��",-1)),_(t("input",{"onUpdate:modelValue":e[33]||(e[33]=o=>B.value.searchUrl=o),type:"text",placeholder:"���磺https://www.google.com/search?q={searchTerms}",class:"batch-input"},null,512),[[$,B.value.searchUrl]]),e[82]||(e[82]=t("p",{style:{"font-size":"12px",color:"#666","margin-top":"5px"}},"ʹ�� {searchTerms} ��Ϊ�����ؼ���ռλ��",-1))]),t("div",Ma,[e[83]||(e[83]=t("label",null,"�ؼ��ʣ���ѡ��",-1)),_(t("input",{"onUpdate:modelValue":e[34]||(e[34]=o=>B.value.keyword=o),type:"text",placeholder:"���磺google",class:"batch-input"},null,512),[[$,B.value.keyword]]),e[84]||(e[84]=t("p",{style:{"font-size":"12px",color:"#666","margin-top":"5px"}},"���ڿ�ݼ��������������� 'g �ؼ���' ʹ��Google����",-1))]),T.value?(n(),s("p",Sa,p(T.value),1)):m("",!0),t("div",Ea,[t("button",{onClick:e[35]||(e[35]=o=>ie.value=1),class:"btn btn-cancel"},"��һ��"),t("button",{onClick:pt,class:"btn btn-primary",disabled:ee.value},p(ee.value?"������...":"����"),9,Ua)])])):m("",!0)])])])):m("",!0),Q(le,{name:"toast"},{default:te(()=>[Le.value?(n(),s("div",$a,p(Pe.value),1)):m("",!0)]),_:1})])}}},Va=rt(La,[["__scopeId","data-v-bd440325"]]);export{Va as default};
