var $e=Object.defineProperty,Ce=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var ge=(L,n,m)=>n in L?$e(L,n,{enumerable:!0,configurable:!0,writable:!0,value:m}):L[n]=m,Y=(L,n)=>{for(var m in n||(n={}))xe.call(n,m)&&ge(L,m,n[m]);if(be)for(var m of be(n))Ve.call(n,m)&&ge(L,m,n[m]);return L},se=(L,n)=>Ce(L,Me(n));var M=(L,n,m)=>new Promise(($,V)=>{var A=d=>{try{_(m.next(d))}catch(c){V(c)}},p=d=>{try{_(m.throw(d))}catch(c){V(c)}},_=d=>d.done?$(d.value):Promise.resolve(d.value).then(A,p);_((m=m.apply(L,n)).next())});import{_ as R,c as r,o as u,b as e,t as w,z as ee,r as f,g as J,w as k,v as U,p as z,F as O,a as N,n as H,e as le,A as he,d as P,B as re,m as ce,j as ae,C as Z,y as de,s as K,l as fe,D as Be,i as Ue,k as Ae,T as De,E as Te,G as Se,H as Ie}from"./index-CN2DOsxe.js";import{g as ye,q as Le,r as We,s as ze,t as Pe,w as He,x as Fe,c as _e,i as Oe,u as we,n as ke,e as Ne,y as je,z as Ee,A as ue,B as Re,C as qe,D as Ge,E as Je,a as Ke,F as Qe,G as Xe,H as Ye,b as Ze,I as et,J as tt,K as st,L as lt,M as at,N as nt,O as ot}from"./urlNormalizer-CftXxp4t.js";const it={class:"welcome-page"},dt={class:"welcome-title"},ut={class:"welcome-cards"},rt={class:"welcome-card"},ct={class:"welcome-value"},vt={class:"welcome-card"},pt={class:"welcome-value"},mt={__name:"WelcomePage",props:{lastLoginTime:String,lastLoginIp:String,currentUsername:String},setup(L){return(n,m)=>(u(),r("div",it,[e("h2",dt,"æ¬¢è¿æ‚¨ï¼Œ"+w(L.currentUsername||"admin")+"ï¼",1),e("div",ut,[e("div",rt,[m[0]||(m[0]=ee('<div class="welcome-icon time-icon" data-v-5cc4f846><svg width="32" height="32" viewBox="0 0 24 24" fill="none" data-v-5cc4f846><circle cx="12" cy="12" r="10" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></circle><path d="M12 6v6l4 2" stroke="#1abc9c" stroke-width="2" stroke-linecap="round" data-v-5cc4f846></path></svg></div><div class="welcome-label" data-v-5cc4f846>ä¸Šæ¬¡ç™»å½•æ—¶é—´</div>',2)),e("div",ct,w(L.lastLoginTime||"--"),1)]),e("div",vt,[m[1]||(m[1]=ee('<div class="welcome-icon ip-icon" data-v-5cc4f846><svg width="32" height="32" viewBox="0 0 24 24" fill="none" data-v-5cc4f846><circle cx="12" cy="12" r="10" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></circle><path d="M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8z" stroke="#1abc9c" stroke-width="2" data-v-5cc4f846></path><circle cx="12" cy="12" r="2" fill="#1abc9c" data-v-5cc4f846></circle></svg></div><div class="welcome-label" data-v-5cc4f846>ä¸Šæ¬¡ç™»å½•IP</div>',2)),e("div",pt,w(L.lastLoginIp||"--"),1)])])]))}},bt=R(mt,[["__scopeId","data-v-5cc4f846"]]),gt={class:"menu-manage"},ht={class:"menu-header"},ft={class:"menu-add"},wt={class:"menu-content"},kt={class:"menu-list"},yt={class:"main-menu"},_t={class:"menu-info"},$t=["onUpdate:modelValue","onBlur"],Ct={class:"menu-order"},Mt=["onUpdate:modelValue","onBlur"],xt={class:"menu-actions"},Vt=["onClick","title"],Bt=["onClick"],Ut={class:"sub-menu-header"},At={class:"sub-menu-title"},Dt=["onClick"],Tt={key:0,class:"sub-menu-list"},St={class:"sub-menu-info"},It=["onUpdate:modelValue","onBlur"],Lt={class:"sub-menu-order"},Wt=["onUpdate:modelValue","onBlur"],zt={class:"sub-menu-actions"},Pt=["onClick"],Ht={key:1,class:"empty-sub-menu"},Ft=["onClick"],Ot={__name:"MenuManage",setup(L){const n=f([]),m=f("");J($);function $(){return M(this,null,function*(){const s=yield ye();n.value=s.data.map(l=>se(Y({},l),{subMenus:l.subMenus||[],showSubMenu:!1}))})}function V(){return M(this,null,function*(){if(!m.value.trim())return;const s=n.value.length?Math.max(...n.value.map(l=>l.order||0)):0;yield Le({name:m.value.trim(),order:s+1}),m.value="",$()})}function A(s){return M(this,null,function*(){yield We(s.id,{name:s.name,order:s.order}),$()})}function p(s){return M(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä¸»èœå•å—ï¼Ÿåˆ é™¤åå°†åŒæ—¶åˆ é™¤å…¶ä¸‹çš„æ‰€æœ‰å­èœå•å’Œå¡ç‰‡ã€‚"))return;const l=n.value.findIndex(a=>a.id===s);l>-1&&n.value.splice(l,1);try{yield ze(s)}catch(a){console.error("åˆ é™¤èœå•å¤±è´¥:",a),yield $()}})}function _(s){return M(this,null,function*(){const l=n.value.find(y=>y.id===s),a=prompt("è¯·è¾“å…¥å­èœå•åç§°ï¼š");if(!(a!=null&&a.trim()))return;const i=(l==null?void 0:l.subMenus)||[],b=i.length?Math.max(...i.map(y=>y.order||0)):0;yield Pe(s,{name:a.trim(),order:b+1}),$()})}function d(s){return M(this,null,function*(){yield He(s.id,{name:s.name,order:s.order}),$()})}function c(s){return M(this,null,function*(){var l,a;if(confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå­èœå•å—ï¼Ÿåˆ é™¤åå°†åŒæ—¶åˆ é™¤å…¶ä¸‹çš„æ‰€æœ‰å¡ç‰‡ã€‚"))try{yield Fe(s),yield $()}catch(i){console.error("åˆ é™¤å­èœå•å¤±è´¥:",i),alert("åˆ é™¤å¤±è´¥ï¼š"+(((a=(l=i.response)==null?void 0:l.data)==null?void 0:a.error)||i.message))}})}function o(s){const l=n.value.find(a=>a.id===s);l&&(l.showSubMenu=!l.showSubMenu)}return(s,l)=>(u(),r("div",gt,[e("div",ht,[l[2]||(l[2]=e("div",{class:"header-content"},[e("h2",{class:"page-title"},"ç®¡ç†ä¸»èœå•å’Œå­èœå•")],-1)),e("div",ft,[k(e("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>m.value=a),placeholder:"è¯·è¾“å…¥ä¸»èœå•åç§°",class:"input"},null,512),[[U,m.value]]),e("button",{class:"btn btn-primary",onClick:V},[...l[1]||(l[1]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),z(" æ·»åŠ ä¸»èœå• ",-1)])])])]),e("div",wt,[e("div",kt,[(u(!0),r(O,null,N(n.value,a=>{var i;return u(),r("div",{key:a.id,class:"menu-item"},[e("div",yt,[e("div",_t,[l[4]||(l[4]=e("div",{class:"menu-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 3h18v18H3zM9 9h6v6H9z"})])],-1)),k(e("input",{"onUpdate:modelValue":b=>a.name=b,onBlur:b=>A(a),class:"menu-name-input"},null,40,$t),[[U,a.name]]),e("div",Ct,[l[3]||(l[3]=e("span",{class:"order-label"},"æ’åº",-1)),k(e("input",{"onUpdate:modelValue":b=>a.order=b,type:"number",onBlur:b=>A(a),class:"order-input"},null,40,Mt),[[U,a.order,void 0,{number:!0}]])])]),e("div",xt,[e("button",{class:"btn btn-icon expand-btn",onClick:b=>o(a.id),title:a.showSubMenu?"æ”¶èµ·å­èœå•":"å±•å¼€å­èœå•"},[...l[5]||(l[5]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"m6 9 6 6 6-6"})],-1)])],8,Vt),e("button",{class:"btn btn-danger btn-icon",onClick:b=>p(a.id),title:"åˆ é™¤ä¸»èœå•"},[...l[6]||(l[6]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,Bt)])]),e("div",{class:H(["sub-menu-section",{expanded:a.showSubMenu}])},[e("div",Ut,[e("div",At,[l[7]||(l[7]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 11H1l8-8 8 8h-8v8z"})],-1)),z(" å­èœå• ("+w(((i=a.subMenus)==null?void 0:i.length)||0)+") ",1)]),e("button",{class:"btn btn-sm btn-outline",onClick:b=>_(a.id)},[...l[8]||(l[8]=[e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),z(" æ·»åŠ å­èœå• ",-1)])],8,Dt)]),a.subMenus&&a.subMenus.length>0?(u(),r("div",Tt,[(u(!0),r(O,null,N(a.subMenus,b=>(u(),r("div",{key:b.id,class:"sub-menu-item"},[e("div",St,[l[9]||(l[9]=e("div",{class:"sub-menu-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M4 6h16M4 12h16M4 18h16"})])],-1)),k(e("input",{"onUpdate:modelValue":y=>b.name=y,onBlur:y=>d(b),class:"sub-menu-name-input"},null,40,It),[[U,b.name]]),e("div",Lt,[k(e("input",{"onUpdate:modelValue":y=>b.order=y,type:"number",onBlur:y=>d(b),class:"order-input"},null,40,Wt),[[U,b.order,void 0,{number:!0}]])])]),e("div",zt,[e("button",{class:"btn btn-danger btn-icon btn-sm",onClick:y=>c(b.id),title:"åˆ é™¤å­èœå•"},[...l[10]||(l[10]=[e("svg",{width:"14",height:"14",viewBox:"0 0 22 22",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,Pt)])]))),128))])):(u(),r("div",Ht,[l[11]||(l[11]=e("p",null,"æš‚æ— å­èœå•",-1)),e("button",{class:"btn btn-sm btn-outline",onClick:b=>_(a.id)},"æ·»åŠ ç¬¬ä¸€ä¸ªå­èœå•",8,Ft)]))],2)])}),128))])])]))}},Nt=R(Ot,[["__scopeId","data-v-98877484"]]),jt={class:"card-manage"},Et={class:"card-header"},Rt={class:"card-add"},qt=["value"],Gt=["value"],Jt={class:"card-card"},Kt={class:"card-table"},Qt=["onUpdate:modelValue","onBlur"],Xt=["onUpdate:modelValue","onBlur"],Yt=["onUpdate:modelValue","onBlur"],Zt=["onUpdate:modelValue","onBlur"],es=["onClick"],ts={key:0,class:"selected-tags"},ss={key:1,class:"tag-placeholder"},ls=["onUpdate:modelValue","onBlur"],as=["onClick"],ns={class:"modal-body"},os={key:0,class:"empty-tags"},is={key:1,class:"tag-options"},ds=["checked","onChange"],us={class:"modal-body"},rs={class:"duplicate-comparison"},cs={class:"card-info-box existing"},vs={class:"card-details"},ps={class:"detail-row"},ms={class:"detail-value"},bs={class:"detail-row"},gs={class:"detail-value url"},hs={key:0,class:"detail-row"},fs={class:"detail-value url"},ws={class:"card-info-box pending"},ks={class:"card-details"},ys={class:"detail-row"},_s={class:"detail-value"},$s={class:"detail-row"},Cs={class:"detail-value url"},Ms={key:0,class:"detail-row"},xs={class:"detail-value url"},Vs={__name:"CardManage",setup(L){const n=f([]),m=f([]),$=f(),V=f(""),A=f(""),p=f(""),_=f(""),d=f([]),c=f(!1),o=f(null),s=f([]),l=f(!1),a=f(null),i=f(null),b=le(()=>{if(!$.value)return[];const T=n.value.find(v=>v.id===$.value);return(T==null?void 0:T.subMenus)||[]});J(()=>M(null,null,function*(){const T=yield ye();n.value=T.data,n.value.length&&($.value=n.value[0].id,V.value="");const v=yield _e();d.value=v.data})),he($,()=>{V.value="",C()}),he(V,C);function y(){V.value=""}function D(){C()}function C(){return M(this,null,function*(){if(!$.value)return;const T=yield Ne($.value,V.value||null);m.value=T.data})}function S(){return M(this,null,function*(){if(!A.value||!p.value)return;const T=m.value.find(v=>Oe({title:A.value,url:p.value},v));T?(a.value=T,i.value={menu_id:$.value,sub_menu_id:V.value||null,title:A.value,url:p.value,logo_url:_.value},l.value=!0):yield te({menu_id:$.value,sub_menu_id:V.value||null,title:A.value,url:p.value,logo_url:_.value})})}function q(T){return M(this,null,function*(){yield we(T.id,{menu_id:$.value,sub_menu_id:V.value||null,title:T.title,url:T.url,logo_url:T.logo_url,desc:T.desc,order:T.order,tagIds:T.tags?T.tags.map(v=>v.id):[]}),C()})}function F(T){return M(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å¡ç‰‡å—ï¼Ÿ"))return;const v=m.value.findIndex(g=>g.id===T);v>-1&&m.value.splice(v,1);try{yield ke(T)}catch(g){console.error("åˆ é™¤å¡ç‰‡å¤±è´¥:",g),yield C()}})}function j(T){o.value=T,s.value=T.tags?T.tags.map(v=>v.id):[],c.value=!0}function x(){c.value=!1,o.value=null,s.value=[]}function I(T){const v=s.value.indexOf(T);v>-1?s.value.splice(v,1):s.value.push(T)}function ne(){return M(this,null,function*(){o.value&&(yield we(o.value.id,{menu_id:o.value.menu_id,sub_menu_id:o.value.sub_menu_id,title:o.value.title,url:o.value.url,logo_url:o.value.logo_url,desc:o.value.desc,order:o.value.order,tagIds:s.value}),x(),C())})}function te(T){return M(this,null,function*(){yield je(T),A.value="",p.value="",_.value="",C()})}function E(){l.value=!1,a.value=null,i.value=null}function oe(){E(),A.value="",p.value="",_.value=""}function ie(){return M(this,null,function*(){!i.value||!a.value||(yield ke(a.value.id),yield te(i.value),E())})}function Q(){i.value&&(A.value=i.value.title,p.value=i.value.url,_.value=i.value.logo_url||"",E(),alert("è¯·ä¿®æ”¹å¡ç‰‡ä¿¡æ¯åå†æ¬¡ç‚¹å‡»â€œæ·»åŠ å¡ç‰‡â€æŒ‰é’®"))}return(T,v)=>{var g,t,h,G,X,ve,pe,me;return u(),r("div",jt,[e("div",Et,[v[9]||(v[9]=e("div",{class:"header-content"},[e("h2",{class:"page-title"},"ç®¡ç†ç½‘ç«™å¯¼èˆªå¡ç‰‡ï¼Œæ”¯æŒä¸»èœå•å’Œå­èœå•åˆ†ç±»")],-1)),e("div",Rt,[k(e("select",{"onUpdate:modelValue":v[0]||(v[0]=B=>$.value=B),class:"input narrow",onChange:y},[(u(!0),r(O,null,N(n.value,B=>(u(),r("option",{value:B.id,key:B.id},w(B.name),9,qt))),128))],544),[[re,$.value]]),k(e("select",{"onUpdate:modelValue":v[1]||(v[1]=B=>V.value=B),class:"input narrow",onChange:D},[v[7]||(v[7]=e("option",{value:""},"ä¸»èœå•",-1)),(u(!0),r(O,null,N(b.value,B=>(u(),r("option",{value:B.id,key:B.id},w(B.name),9,Gt))),128))],544),[[re,V.value]]),k(e("input",{"onUpdate:modelValue":v[2]||(v[2]=B=>A.value=B),placeholder:"å¡ç‰‡æ ‡é¢˜",class:"input narrow"},null,512),[[U,A.value]]),k(e("input",{"onUpdate:modelValue":v[3]||(v[3]=B=>p.value=B),placeholder:"å¡ç‰‡é“¾æ¥",class:"input wide"},null,512),[[U,p.value]]),k(e("input",{"onUpdate:modelValue":v[4]||(v[4]=B=>_.value=B),placeholder:"logoé“¾æ¥(å¯é€‰)",class:"input wide"},null,512),[[U,_.value]]),e("button",{class:"btn",onClick:S},[...v[8]||(v[8]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),z(" æ·»åŠ å¡ç‰‡ ",-1)])])])]),e("div",Jt,[e("table",Kt,[v[11]||(v[11]=e("thead",null,[e("tr",null,[e("th",null,"æ ‡é¢˜"),e("th",null,"ç½‘å€"),e("th",null,"Logoé“¾æ¥"),e("th",null,"æè¿°"),e("th",null,"æ ‡ç­¾"),e("th",null,"æ’åº"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(u(!0),r(O,null,N(m.value,B=>(u(),r("tr",{key:B.id},[e("td",null,[k(e("input",{"onUpdate:modelValue":W=>B.title=W,onBlur:W=>q(B),class:"table-input"},null,40,Qt),[[U,B.title]])]),e("td",null,[k(e("input",{"onUpdate:modelValue":W=>B.url=W,onBlur:W=>q(B),class:"table-input"},null,40,Xt),[[U,B.url]])]),e("td",null,[k(e("input",{"onUpdate:modelValue":W=>B.logo_url=W,onBlur:W=>q(B),class:"table-input",placeholder:"logoé“¾æ¥(å¯é€‰)"},null,40,Yt),[[U,B.logo_url]])]),e("td",null,[k(e("input",{"onUpdate:modelValue":W=>B.desc=W,onBlur:W=>q(B),class:"table-input",placeholder:"æè¿°ï¼ˆå¯é€‰ï¼‰"},null,40,Zt),[[U,B.desc]])]),e("td",null,[e("div",{class:"tag-selector",onClick:W=>j(B)},[B.tags&&B.tags.length>0?(u(),r("div",ts,[(u(!0),r(O,null,N(B.tags,W=>(u(),r("span",{key:W.id,class:"mini-tag",style:ce({backgroundColor:W.color})},w(W.name),5))),128))])):(u(),r("span",ss,"é€‰æ‹©æ ‡ç­¾"))],8,es)]),e("td",null,[k(e("input",{"onUpdate:modelValue":W=>B.order=W,type:"number",onBlur:W=>q(B),class:"table-input order-input"},null,40,ls),[[U,B.order,void 0,{number:!0}]])]),e("td",null,[e("button",{class:"btn btn-danger btn-icon",onClick:W=>F(B.id),title:"åˆ é™¤"},[...v[10]||(v[10]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,as)])]))),128))])])]),c.value?(u(),r("div",{key:0,class:"modal-overlay",onClick:x},[e("div",{class:"modal-content",onClick:v[5]||(v[5]=ae(()=>{},["stop"]))},[e("div",{class:"modal-header"},[v[12]||(v[12]=e("h3",null,"é€‰æ‹©æ ‡ç­¾",-1)),e("button",{class:"close-btn",onClick:x},"Ã—")]),e("div",ns,[d.value.length===0?(u(),r("div",os,[...v[13]||(v[13]=[e("p",null,"æš‚æ— æ ‡ç­¾ï¼Œè¯·å…ˆåœ¨æ ‡ç­¾ç®¡ç†é¡µé¢åˆ›å»º",-1)])])):(u(),r("div",is,[(u(!0),r(O,null,N(d.value,B=>(u(),r("label",{key:B.id,class:"tag-option"},[e("input",{type:"checkbox",checked:s.value.includes(B.id),onChange:W=>I(B.id)},null,40,ds),e("span",{class:"tag-label",style:ce({backgroundColor:B.color})},w(B.name),5)]))),128))]))]),e("div",{class:"modal-footer"},[e("button",{class:"btn btn-secondary",onClick:x},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:ne},"ç¡®å®š")])])])):P("",!0),l.value?(u(),r("div",{key:1,class:"modal-overlay",onClick:E},[e("div",{class:"modal-content duplicate-modal",onClick:v[6]||(v[6]=ae(()=>{},["stop"]))},[e("div",{class:"modal-header"},[v[14]||(v[14]=ee('<div class="header-with-icon" data-v-d88cc7b7><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2" data-v-d88cc7b7><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" data-v-d88cc7b7></path><line x1="12" y1="9" x2="12" y2="13" data-v-d88cc7b7></line><line x1="12" y1="17" x2="12.01" y2="17" data-v-d88cc7b7></line></svg><h3 data-v-d88cc7b7>æ£€æµ‹åˆ°é‡å¤å¡ç‰‡</h3></div>',1)),e("button",{class:"close-btn",onClick:E},"Ã—")]),e("div",us,[v[24]||(v[24]=e("div",{class:"duplicate-warning"},[e("p",{class:"warning-text"},"æ‚¨è¦æ·»åŠ çš„å¡ç‰‡ä¸ä»¥ä¸‹ç°æœ‰å¡ç‰‡é‡å¤ï¼š")],-1)),e("div",rs,[e("div",cs,[v[18]||(v[18]=e("div",{class:"box-header"},[e("span",{class:"box-label"},"ç°æœ‰å¡ç‰‡")],-1)),e("div",vs,[e("div",ps,[v[15]||(v[15]=e("span",{class:"detail-label"},"æ ‡é¢˜ï¼š",-1)),e("span",ms,w((g=a.value)==null?void 0:g.title),1)]),e("div",bs,[v[16]||(v[16]=e("span",{class:"detail-label"},"ç½‘å€ï¼š",-1)),e("span",gs,w((t=a.value)==null?void 0:t.url),1)]),(h=a.value)!=null&&h.logo_url?(u(),r("div",hs,[v[17]||(v[17]=e("span",{class:"detail-label"},"Logoï¼š",-1)),e("span",fs,w((G=a.value)==null?void 0:G.logo_url),1)])):P("",!0)])]),v[23]||(v[23]=e("div",{class:"arrow-divider"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#9ca3af","stroke-width":"2"},[e("path",{d:"M5 12h14M12 5l7 7-7 7"})])],-1)),e("div",ws,[v[22]||(v[22]=e("div",{class:"box-header"},[e("span",{class:"box-label"},"å¾…æ·»åŠ å¡ç‰‡")],-1)),e("div",ks,[e("div",ys,[v[19]||(v[19]=e("span",{class:"detail-label"},"æ ‡é¢˜ï¼š",-1)),e("span",_s,w((X=i.value)==null?void 0:X.title),1)]),e("div",$s,[v[20]||(v[20]=e("span",{class:"detail-label"},"ç½‘å€ï¼š",-1)),e("span",Cs,w((ve=i.value)==null?void 0:ve.url),1)]),(pe=i.value)!=null&&pe.logo_url?(u(),r("div",Ms,[v[21]||(v[21]=e("span",{class:"detail-label"},"Logoï¼š",-1)),e("span",xs,w((me=i.value)==null?void 0:me.logo_url),1)])):P("",!0)])])]),v[25]||(v[25]=e("div",{class:"duplicate-actions-info"},[e("p",null,"è¯·é€‰æ‹©å¦‚ä½•å¤„ç†ï¼š")],-1))]),e("div",{class:"modal-footer duplicate-footer"},[e("button",{class:"btn btn-secondary",onClick:oe},[...v[26]||(v[26]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18M6 6l12 12"})],-1),z(" è·³è¿‡ ",-1)])]),e("button",{class:"btn btn-warning",onClick:ie},[...v[27]||(v[27]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 12a9 9 0 11-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),e("path",{d:"M21 3v5h-5"})],-1),z(" æ›¿æ¢ ",-1)])]),e("button",{class:"btn btn-primary",onClick:Q},[...v[28]||(v[28]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1),z(" ç¼–è¾‘åæ·»åŠ  ",-1)])])])])])):P("",!0)])}}},Bs=R(Vs,[["__scopeId","data-v-d88cc7b7"]]),Us={class:"duplicate-manage"},As={class:"section-header"},Ds=["disabled"],Ts={key:0,class:"duplicate-results"},Ss={class:"result-summary"},Is={class:"summary-card"},Ls={class:"summary-value"},Ws={class:"summary-card warning"},zs={class:"summary-value"},Ps={class:"summary-card danger"},Hs={class:"summary-value"},Fs={class:"duplicate-groups"},Os={class:"group-header"},Ns={class:"group-count"},js={class:"card-item original"},Es={class:"card-info"},Rs={class:"card-title"},qs={class:"card-url"},Gs={key:0,class:"card-desc"},Js={class:"card-id"},Ks={class:"duplicates-list"},Qs={class:"card-info"},Xs={class:"card-title"},Ys={class:"card-url"},Zs={key:0,class:"card-desc"},el={class:"card-actions"},tl={class:"card-id"},sl=["onClick","disabled"],ll={class:"group-actions"},al=["onClick","disabled"],nl={class:"global-actions"},ol=["disabled"],il={key:1,class:"no-duplicates"},dl={key:2,class:"initial-hint"},ul={key:3,class:"error"},rl={__name:"DuplicateManage",setup(L){const n=f(!1),m=f(!1),$=f(!1),V=f([]),A=f(0),p=f(0),_=f("");function d(){return M(this,null,function*(){var l,a;n.value=!0,_.value="";try{const i=yield Ee();A.value=i.data.total,V.value=i.data.duplicateGroups,p.value=i.data.duplicateCount,$.value=!0}catch(i){_.value=((a=(l=i.response)==null?void 0:l.data)==null?void 0:a.error)||"æ£€æµ‹å¤±è´¥",console.error("æ£€æµ‹é‡å¤å¤±è´¥:",i)}finally{n.value=!1}})}function c(l){return M(this,null,function*(){var a,i,b;if(confirm("ç¡®å®šè¦åˆ é™¤è¿™å¼ å¡ç‰‡å—ï¼Ÿ")){m.value=!0,_.value="";try{console.log("[å»é‡ç®¡ç†] åˆ é™¤å•ä¸ªå¡ç‰‡:",l);const y=yield ue([l]);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",y.data),y.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield d()):_.value="åˆ é™¤å¤±è´¥ï¼š"+(y.data.message||"æœªçŸ¥é”™è¯¯")}catch(y){console.error("[å»é‡ç®¡ç†] åˆ é™¤å¡ç‰‡å¤±è´¥:",y),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(a=y.response)==null?void 0:a.data),_.value=((b=(i=y.response)==null?void 0:i.data)==null?void 0:b.error)||y.message||"åˆ é™¤å¤±è´¥"}finally{m.value=!1}}})}function o(l){return M(this,null,function*(){var i,b,y;const a=l.duplicates.length;if(confirm(`ç¡®å®šè¦åˆ é™¤è¿™ ${a} å¼ é‡å¤å¡ç‰‡å—ï¼Ÿ

å°†ä¿ç•™ï¼š${l.original.title}`)){m.value=!0,_.value="";try{const D=l.duplicates.map(S=>S.id);console.log("[å»é‡ç®¡ç†] åˆ é™¤ä¸€ç»„é‡å¤å¡ç‰‡:",D);const C=yield ue(D);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",C.data),C.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield d()):_.value="åˆ é™¤å¤±è´¥ï¼š"+(C.data.message||"æœªçŸ¥é”™è¯¯")}catch(D){console.error("[å»é‡ç®¡ç†] åˆ é™¤é‡å¤å¡ç‰‡å¤±è´¥:",D),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(i=D.response)==null?void 0:i.data),_.value=((y=(b=D.response)==null?void 0:b.data)==null?void 0:y.error)||D.message||"åˆ é™¤å¤±è´¥"}finally{m.value=!1}}})}function s(){return M(this,null,function*(){var a,i,b;const l=p.value;if(confirm(`ç¡®å®šè¦åˆ é™¤æ‰€æœ‰ ${l} å¼ é‡å¤å¡ç‰‡å—ï¼Ÿ

æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`)){m.value=!0,_.value="";try{const y=V.value.flatMap(C=>C.duplicates.map(S=>S.id));console.log("[å»é‡ç®¡ç†] åˆ é™¤æ‰€æœ‰é‡å¤å¡ç‰‡:",y);const D=yield ue(y);console.log("[å»é‡ç®¡ç†] åˆ é™¤å“åº”:",D.data),D.data.success?(console.log("[å»é‡ç®¡ç†] åˆ é™¤æˆåŠŸï¼Œé‡æ–°æ£€æµ‹..."),yield d()):_.value="åˆ é™¤å¤±è´¥ï¼š"+(D.data.message||"æœªçŸ¥é”™è¯¯")}catch(y){console.error("[å»é‡ç®¡ç†] åˆ é™¤æ‰€æœ‰é‡å¤å¤±è´¥:",y),console.error("[å»é‡ç®¡ç†] é”™è¯¯è¯¦æƒ…:",(a=y.response)==null?void 0:a.data),_.value=((b=(i=y.response)==null?void 0:i.data)==null?void 0:b.error)||y.message||"åˆ é™¤å¤±è´¥"}finally{m.value=!1}}})}return(l,a)=>(u(),r("div",Us,[e("div",As,[a[0]||(a[0]=e("h3",null,"å¡ç‰‡å»é‡ç®¡ç†",-1)),e("button",{onClick:d,class:"btn btn-primary",disabled:n.value},w(n.value?"æ£€æµ‹ä¸­...":"ğŸ” ä¸€é”®æ£€æµ‹é‡å¤"),9,Ds)]),V.value.length>0?(u(),r("div",Ts,[e("div",Ss,[e("div",Is,[a[1]||(a[1]=e("div",{class:"summary-label"},"æ€»å¡ç‰‡æ•°",-1)),e("div",Ls,w(A.value),1)]),e("div",Ws,[a[2]||(a[2]=e("div",{class:"summary-label"},"é‡å¤ç»„æ•°",-1)),e("div",zs,w(V.value.length),1)]),e("div",Ps,[a[3]||(a[3]=e("div",{class:"summary-label"},"é‡å¤å¡ç‰‡",-1)),e("div",Hs,w(p.value),1)])]),e("div",Fs,[(u(!0),r(O,null,N(V.value,(i,b)=>(u(),r("div",{key:b,class:"duplicate-group"},[e("div",Os,[e("h4",null,"é‡å¤ç»„ "+w(b+1),1),e("span",Ns,w(i.totalCount)+" å¼ å¡ç‰‡",1)]),e("div",js,[a[4]||(a[4]=e("div",{class:"card-badge"},"ä¿ç•™",-1)),e("div",Es,[e("div",Rs,w(i.original.title),1),e("div",qs,w(i.original.url),1),i.original.desc?(u(),r("div",Gs,w(i.original.desc),1)):P("",!0)]),e("div",Js,"ID: "+w(i.original.id),1)]),e("div",Ks,[(u(!0),r(O,null,N(i.duplicates,y=>(u(),r("div",{key:y.id,class:"card-item duplicate"},[a[5]||(a[5]=e("div",{class:"card-badge danger"},"é‡å¤",-1)),e("div",Qs,[e("div",Xs,w(y.title),1),e("div",Ys,w(y.url),1),y.desc?(u(),r("div",Zs,w(y.desc),1)):P("",!0)]),e("div",el,[e("span",tl,"ID: "+w(y.id),1),e("button",{onClick:D=>c(y.id),class:"btn-remove",disabled:m.value,title:"åˆ é™¤æ­¤å¡ç‰‡"}," åˆ é™¤ ",8,sl)])]))),128))]),e("div",ll,[e("button",{onClick:y=>o(i),class:"btn btn-danger",disabled:m.value}," åˆ é™¤æ­¤ç»„æ‰€æœ‰é‡å¤å¡ç‰‡ ("+w(i.duplicates.length)+" å¼ ) ",9,al)])]))),128))]),e("div",nl,[e("button",{onClick:s,class:"btn btn-danger btn-large",disabled:m.value},w(m.value?"åˆ é™¤ä¸­...":`åˆ é™¤æ‰€æœ‰é‡å¤å¡ç‰‡ (${p.value} å¼ )`),9,ol)])])):$.value&&V.value.length===0?(u(),r("div",il,[...a[6]||(a[6]=[e("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"#1abc9c","stroke-width":"2"},[e("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e("polyline",{points:"22 4 12 14.01 9 11.01"})],-1),e("h3",null,"å¤ªæ£’äº†ï¼æ²¡æœ‰å‘ç°é‡å¤å¡ç‰‡",-1),e("p",null,"æ‚¨çš„å¯¼èˆªå¡ç‰‡éƒ½æ˜¯å”¯ä¸€çš„",-1)])])):$.value?P("",!0):(u(),r("div",dl,[...a[7]||(a[7]=[ee('<svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2" data-v-62bbc778><circle cx="12" cy="12" r="10" data-v-62bbc778></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" data-v-62bbc778></path><line x1="12" y1="17" x2="12.01" y2="17" data-v-62bbc778></line></svg><h3 data-v-62bbc778>ç‚¹å‡»&quot;ä¸€é”®æ£€æµ‹é‡å¤&quot;å¼€å§‹æ‰«æ</h3><p data-v-62bbc778>ç³»ç»Ÿå°†æ£€æµ‹æ‰€æœ‰é‡å¤çš„å¯¼èˆªå¡ç‰‡</p><ul class="hint-list" data-v-62bbc778><li data-v-62bbc778>ğŸ“Œ URL ç›¸åŒçš„å¡ç‰‡</li><li data-v-62bbc778>ğŸ“Œ æ ‡é¢˜ç›¸åŒä¸”åŸŸåç›¸åŒçš„å¡ç‰‡</li></ul>',4)])])),_.value?(u(),r("p",ul,w(_.value),1)):P("",!0)]))}},cl=R(rl,[["__scopeId","data-v-62bbc778"]]),vl={class:"tag-manage"},pl={class:"tag-header"},ml={class:"tag-add"},bl={class:"tag-content"},gl={key:0,class:"empty-state"},hl={key:1,class:"tag-list"},fl={class:"tag-info"},wl=["onUpdate:modelValue","onBlur"],kl={class:"tag-stats"},yl={class:"card-count"},_l={class:"tag-controls"},$l=["onUpdate:modelValue","onChange"],Cl={class:"tag-order"},Ml=["onUpdate:modelValue","onBlur"],xl={class:"tag-actions"},Vl=["onClick"],Bl={__name:"TagManage",setup(L){const n=f([]),m=f(""),$=f("#2566d8");J(V);function V(){return M(this,null,function*(){const d=yield _e();n.value=d.data;for(const c of n.value)try{const o=yield Re(c.id);c.cardCount=o.data.count}catch(o){c.cardCount=0}})}function A(){return M(this,null,function*(){var l,a;if(!m.value.trim())return;const d=n.value.length?Math.max(...n.value.map(i=>i.order||0)):0,c=m.value.trim(),o=$.value,s={id:Date.now(),name:c,color:o,order:d+1,cardCount:0,_temp:!0};n.value.push(s),m.value="",$.value="#2566d8";try{const i=yield qe({name:c,color:o,order:d+1}),b=n.value.findIndex(y=>y.id===s.id);b>-1&&(n.value[b]=se(Y({},i.data),{cardCount:0}))}catch(i){const b=n.value.findIndex(y=>y.id===s.id);b>-1&&n.value.splice(b,1),alert("æ·»åŠ æ ‡ç­¾å¤±è´¥ï¼š"+(((a=(l=i.response)==null?void 0:l.data)==null?void 0:a.error)||i.message))}})}function p(d){return M(this,null,function*(){var c,o;if(!d._temp)try{yield Ge(d.id,{name:d.name,color:d.color,order:d.order})}catch(s){alert("æ›´æ–°æ ‡ç­¾å¤±è´¥ï¼š"+(((o=(c=s.response)==null?void 0:c.data)==null?void 0:o.error)||s.message)),V()}})}function _(d){return M(this,null,function*(){var l,a;const c=n.value.find(i=>i.id===d);if(!c)return;const o=c.cardCount>0?`ç¡®å®šè¦åˆ é™¤æ ‡ç­¾"${c.name}"å—ï¼Ÿè¿™å°†å–æ¶ˆ ${c.cardCount} å¼ å¡ç‰‡çš„å…³è”ã€‚`:`ç¡®å®šè¦åˆ é™¤æ ‡ç­¾"${c.name}"å—ï¼Ÿ`;if(!confirm(o))return;const s=n.value.findIndex(i=>i.id===d);s>-1&&n.value.splice(s,1);try{yield Je(d)}catch(i){alert("åˆ é™¤æ ‡ç­¾å¤±è´¥ï¼š"+(((a=(l=i.response)==null?void 0:l.data)==null?void 0:a.error)||i.message)),V()}})}return(d,c)=>(u(),r("div",vl,[e("div",pl,[c[3]||(c[3]=e("div",{class:"header-content"},[e("h2",{class:"page-title"},"ç®¡ç†æ ‡ç­¾"),e("p",{class:"page-desc"},"ä¸ºå¡ç‰‡åˆ›å»ºå¤šç»´åº¦åˆ†ç±»æ ‡ç­¾")],-1)),e("div",ml,[k(e("input",{"onUpdate:modelValue":c[0]||(c[0]=o=>m.value=o),placeholder:"æ ‡ç­¾åç§°",class:"input",maxlength:"20"},null,512),[[U,m.value]]),k(e("input",{"onUpdate:modelValue":c[1]||(c[1]=o=>$.value=o),type:"color",class:"color-input",title:"é€‰æ‹©æ ‡ç­¾é¢œè‰²"},null,512),[[U,$.value]]),e("button",{class:"btn btn-primary",onClick:A},[...c[2]||(c[2]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14M5 12h14"})],-1),z(" æ·»åŠ æ ‡ç­¾ ",-1)])])])]),e("div",bl,[n.value.length===0?(u(),r("div",gl,[...c[4]||(c[4]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1),e("p",null,"æš‚æ— æ ‡ç­¾",-1),e("p",{class:"hint"},"åˆ›å»ºç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼Œå¼€å§‹ä¸ºå¡ç‰‡æ·»åŠ å¤šç»´åº¦åˆ†ç±»",-1)])])):(u(),r("div",hl,[(u(!0),r(O,null,N(n.value,o=>(u(),r("div",{key:o.id,class:"tag-item"},[e("div",{class:"tag-preview",style:ce({backgroundColor:o.color})},[...c[5]||(c[5]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})],-1)])],4),e("div",fl,[k(e("input",{"onUpdate:modelValue":s=>o.name=s,onBlur:s=>p(o),class:"tag-name-input",maxlength:"20"},null,40,wl),[[U,o.name]]),e("div",kl,[e("span",yl,w(o.cardCount||0)+" å¼ å¡ç‰‡",1)])]),e("div",_l,[k(e("input",{"onUpdate:modelValue":s=>o.color=s,type:"color",onChange:s=>p(o),class:"color-picker",title:"æ›´æ”¹é¢œè‰²"},null,40,$l),[[U,o.color]]),e("div",Cl,[c[6]||(c[6]=e("span",{class:"order-label"},"æ’åº",-1)),k(e("input",{"onUpdate:modelValue":s=>o.order=s,type:"number",onBlur:s=>p(o),class:"order-input"},null,40,Ml),[[U,o.order,void 0,{number:!0}]])])]),e("div",xl,[e("button",{class:"btn btn-danger btn-icon",onClick:s=>_(o.id),title:"åˆ é™¤æ ‡ç­¾"},[...c[7]||(c[7]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}),e("path",{d:"M10 11v6M14 11v6"})],-1)])],8,Vl)])]))),128))]))])]))}},Ul=R(Bl,[["__scopeId","data-v-fc56cb55"]]),Al={class:"ad-manage"},Dl={class:"ad-header"},Tl={class:"ad-section"},Sl={class:"ad-card"},Il={class:"ad-table"},Ll=["onUpdate:modelValue","onBlur"],Wl=["onUpdate:modelValue","onBlur"],zl=["onClick"],Pl={class:"ad-section"},Hl={class:"ad-card"},Fl={class:"ad-table"},Ol=["onUpdate:modelValue","onBlur"],Nl=["onUpdate:modelValue","onBlur"],jl=["onClick"],El={__name:"AdManage",setup(L){const n=f([]),m=f([]),$=f(""),V=f(""),A=f("left");J(p);function p(){return M(this,null,function*(){const o=yield Ke();n.value=o.data.filter(s=>s.position==="left"),m.value=o.data.filter(s=>s.position==="right")})}function _(){return M(this,null,function*(){!$.value||!V.value||(yield Qe({position:A.value,img:$.value,url:V.value}),$.value="",V.value="",A.value="left",p())})}function d(o){return M(this,null,function*(){yield Xe(o.id,{img:o.img,url:o.url}),p()})}function c(o){return M(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¹¿å‘Šå—ï¼Ÿ"))return;const s=n.value.findIndex(a=>a.id===o),l=m.value.findIndex(a=>a.id===o);s>-1&&n.value.splice(s,1),l>-1&&m.value.splice(l,1);try{yield Ye(o)}catch(a){console.error("åˆ é™¤å¹¿å‘Šå¤±è´¥:",a),yield p()}})}return(o,s)=>(u(),r("div",Al,[e("div",Dl,[e("form",{class:"ad-add-row",onSubmit:ae(_,["prevent"])},[k(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>$.value=l),placeholder:"å¹¿å‘Šå›¾ç‰‡é“¾æ¥",class:"input"},null,512),[[U,$.value]]),k(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>V.value=l),placeholder:"å¹¿å‘Šè·³è½¬é“¾æ¥",class:"input"},null,512),[[U,V.value]]),k(e("select",{"onUpdate:modelValue":s[2]||(s[2]=l=>A.value=l),class:"input select-input"},[...s[3]||(s[3]=[e("option",{value:"left"},"å·¦ä¾§å¹¿å‘Š",-1),e("option",{value:"right"},"å³ä¾§å¹¿å‘Š",-1)])],512),[[re,A.value]]),s[4]||(s[4]=e("button",{class:"btn",type:"submit"},"æ·»åŠ å¹¿å‘Š",-1))],32)]),e("div",Tl,[s[6]||(s[6]=e("h3",{class:"section-title"},"å·¦ä¾§å¹¿å‘Šåˆ—è¡¨",-1)),e("div",Sl,[e("table",Il,[s[5]||(s[5]=e("thead",null,[e("tr",null,[e("th",null,"å›¾ç‰‡"),e("th",null,"è·³è½¬é“¾æ¥"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(u(!0),r(O,null,N(n.value,l=>(u(),r("tr",{key:l.id},[e("td",null,[k(e("input",{"onUpdate:modelValue":a=>l.img=a,onBlur:a=>d(l),class:"input"},null,40,Ll),[[U,l.img]])]),e("td",null,[k(e("input",{"onUpdate:modelValue":a=>l.url=a,onBlur:a=>d(l),class:"input"},null,40,Wl),[[U,l.url]])]),e("td",null,[e("button",{class:"btn btn-danger",onClick:a=>c(l.id)},"åˆ é™¤å¹¿å‘Š",8,zl)])]))),128))])])])]),e("div",Pl,[s[8]||(s[8]=e("h3",{class:"section-title"},"å³ä¾§å¹¿å‘Šåˆ—è¡¨",-1)),e("div",Hl,[e("table",Fl,[s[7]||(s[7]=e("thead",null,[e("tr",null,[e("th",null,"å›¾ç‰‡"),e("th",null,"è·³è½¬é“¾æ¥"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(u(!0),r(O,null,N(m.value,l=>(u(),r("tr",{key:l.id},[e("td",null,[k(e("input",{"onUpdate:modelValue":a=>l.img=a,onBlur:a=>d(l),class:"input"},null,40,Ol),[[U,l.img]])]),e("td",null,[k(e("input",{"onUpdate:modelValue":a=>l.url=a,onBlur:a=>d(l),class:"input"},null,40,Nl),[[U,l.url]])]),e("td",null,[e("button",{class:"btn btn-danger",onClick:a=>c(l.id)},"åˆ é™¤å¹¿å‘Š",8,jl)])]))),128))])])])])]))}},Rl=R(El,[["__scopeId","data-v-384d29e7"]]),ql={class:"friend-manage"},Gl={class:"friend-add"},Jl={class:"friend-card"},Kl={class:"friend-table"},Ql=["onUpdate:modelValue","onBlur"],Xl=["onUpdate:modelValue","onBlur"],Yl=["onUpdate:modelValue","onBlur"],Zl=["onClick"],ea={__name:"FriendLinkManage",setup(L){const n=f([]),m=f(""),$=f(""),V=f("");J(A);function A(){return M(this,null,function*(){const c=yield Ze();n.value=c.data})}function p(){return M(this,null,function*(){!m.value||!$.value||(yield et({title:m.value,url:$.value,logo:V.value}),m.value="",$.value="",V.value="",A())})}function _(c){return M(this,null,function*(){yield tt(c.id,{title:c.title,url:c.url,logo:c.logo}),A()})}function d(c){return M(this,null,function*(){if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå‹é“¾å—ï¼Ÿ"))return;const o=n.value.findIndex(s=>s.id===c);o>-1&&n.value.splice(o,1);try{yield st(c)}catch(s){console.error("åˆ é™¤å‹é“¾å¤±è´¥:",s),yield A()}})}return(c,o)=>(u(),r("div",ql,[o[4]||(o[4]=e("div",{class:"friend-header"},null,-1)),e("div",Gl,[k(e("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>m.value=s),placeholder:"ç½‘ç«™å",class:"input"},null,512),[[U,m.value]]),k(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>$.value=s),placeholder:"ç½‘ç«™é“¾æ¥",class:"input"},null,512),[[U,$.value]]),k(e("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>V.value=s),placeholder:"logoé“¾æ¥(å¯é€‰)",class:"input"},null,512),[[U,V.value]]),e("button",{class:"btn",onClick:p},"æ·»åŠ å‹é“¾")]),e("div",Jl,[e("table",Kl,[o[3]||(o[3]=e("thead",null,[e("tr",null,[e("th",null,"ç½‘ç«™å"),e("th",null,"é“¾æ¥"),e("th",null,"Logo"),e("th",null,"æ“ä½œ")])],-1)),e("tbody",null,[(u(!0),r(O,null,N(n.value,s=>(u(),r("tr",{key:s.id},[e("td",null,[k(e("input",{"onUpdate:modelValue":l=>s.title=l,onBlur:l=>_(s),class:"input"},null,40,Ql),[[U,s.title]])]),e("td",null,[k(e("input",{"onUpdate:modelValue":l=>s.url=l,onBlur:l=>_(s),class:"input"},null,40,Xl),[[U,s.url]])]),e("td",null,[k(e("input",{"onUpdate:modelValue":l=>s.logo=l,onBlur:l=>_(s),class:"input",placeholder:"logoé“¾æ¥(å¯é€‰)"},null,40,Yl),[[U,s.logo]])]),e("td",null,[e("button",{class:"btn btn-danger",onClick:l=>d(s.id)},"åˆ é™¤",8,Zl)])]))),128))])])])]))}},ta=R(ea,[["__scopeId","data-v-4532e881"]]),sa={class:"user-manage"},la={class:"user-card"},aa={class:"username-section"},na={class:"username-form"},oa={class:"current-username"},ia={class:"username-display"},da={class:"form-group"},ua={class:"form-actions"},ra=["disabled"],ca={class:"password-section"},va={class:"password-form"},pa={class:"form-group"},ma={class:"form-group"},ba={class:"form-group"},ga={class:"form-actions"},ha=["disabled"],fa={__name:"UserManage",setup(L){const n=f(""),m=f(""),$=f(""),V=f(!1),A=f(""),p=f("success"),_=f({}),d=f(""),c=f(!1),o=f(""),s=f("success");J(()=>M(null,null,function*(){yield l()}));function l(){return M(this,null,function*(){try{const D=yield lt();_.value=D.data.data||D.data}catch(D){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",D)}})}function a(){return M(this,null,function*(){var D,C;if(!d.value){i("è¯·è¾“å…¥æ–°ç”¨æˆ·å","error");return}if(d.value.length<3||d.value.length>20){i("ç”¨æˆ·åé•¿åº¦åº”ä¸º3-20ä½","error");return}if(d.value===_.value.username){i("æ–°ç”¨æˆ·åä¸èƒ½ä¸å½“å‰ç”¨æˆ·åç›¸åŒ","error");return}c.value=!0,o.value="";try{yield at(d.value),i("ç”¨æˆ·åä¿®æ”¹æˆåŠŸï¼2ç§’åè‡ªåŠ¨é€€å‡ºï¼Œè¯·ä½¿ç”¨æ–°ç”¨æˆ·åé‡æ–°ç™»å½•...","success"),d.value="",setTimeout(()=>{localStorage.removeItem("token"),window.location.href="/admin"},2e3)}catch(S){i(((C=(D=S.response)==null?void 0:D.data)==null?void 0:C.message)||"ç”¨æˆ·åä¿®æ”¹å¤±è´¥","error")}finally{c.value=!1}})}function i(D,C){o.value=D,s.value=C,setTimeout(()=>{o.value=""},3e3)}function b(){return M(this,null,function*(){var D,C;if(!n.value||!m.value||!$.value){y("è¯·å¡«å†™æ‰€æœ‰å¯†ç å­—æ®µ","error");return}if(m.value!==$.value){y("ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´","error");return}if(m.value.length<6){y("æ–°å¯†ç é•¿åº¦è‡³å°‘6ä½","error");return}V.value=!0,A.value="";try{yield nt(n.value,m.value),y("å¯†ç ä¿®æ”¹æˆåŠŸ","success"),n.value="",m.value="",$.value=""}catch(S){y(((C=(D=S.response)==null?void 0:D.data)==null?void 0:C.message)||"å¯†ç ä¿®æ”¹å¤±è´¥","error")}finally{V.value=!1}})}function y(D,C){A.value=D,p.value=C,D==="å¯†ç ä¿®æ”¹æˆåŠŸ"&&C==="success"?setTimeout(()=>{A.value="2ç§’åè‡ªåŠ¨é€€å‡ºç™»å½•,è¯·ä½¿ç”¨æ–°å¯†ç é‡æ–°ç™»å½•...",setTimeout(()=>{localStorage.removeItem("token"),window.location.reload()},2e3)},500):setTimeout(()=>{A.value=""},3e3)}return(D,C)=>(u(),r("div",sa,[C[11]||(C[11]=e("div",{class:"user-header"},null,-1)),e("div",la,[e("div",aa,[C[6]||(C[6]=e("h3",{class:"section-title"},"ä¿®æ”¹ç”¨æˆ·å",-1)),e("div",na,[e("div",oa,[C[4]||(C[4]=e("label",null,"å½“å‰ç”¨æˆ·åï¼š",-1)),e("span",ia,w(_.value.username||"admin"),1)]),e("div",da,[C[5]||(C[5]=e("label",null,"æ–°ç”¨æˆ·åï¼š",-1)),k(e("input",{"onUpdate:modelValue":C[0]||(C[0]=S=>d.value=S),type:"text",placeholder:"è¯·è¾“å…¥æ–°ç”¨æˆ·åï¼ˆ3-20ä½ï¼‰",class:"input"},null,512),[[U,d.value]])]),e("div",ua,[e("button",{onClick:a,class:"btn",disabled:c.value},w(c.value?"ä¿®æ”¹ä¸­...":"ä¿®æ”¹ç”¨æˆ·å"),9,ra)]),o.value?(u(),r("p",{key:0,class:H(["message",s.value])},w(o.value),3)):P("",!0)])]),e("div",ca,[C[10]||(C[10]=e("h3",{class:"section-title"},"ä¿®æ”¹å¯†ç ",-1)),e("div",va,[e("div",pa,[C[7]||(C[7]=e("label",null,"å½“å‰å¯†ç ï¼š",-1)),k(e("input",{"onUpdate:modelValue":C[1]||(C[1]=S=>n.value=S),type:"password",placeholder:"è¯·è¾“å…¥å½“å‰å¯†ç ",class:"input"},null,512),[[U,n.value]])]),e("div",ma,[C[8]||(C[8]=e("label",null,"æ–°å¯†ç ï¼š",-1)),k(e("input",{"onUpdate:modelValue":C[2]||(C[2]=S=>m.value=S),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ",class:"input"},null,512),[[U,m.value]])]),e("div",ba,[C[9]||(C[9]=e("label",null,"ç¡®è®¤æ–°å¯†ç ï¼š",-1)),k(e("input",{"onUpdate:modelValue":C[3]||(C[3]=S=>$.value=S),type:"password",placeholder:"è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ",class:"input"},null,512),[[U,$.value]])]),e("div",ga,[e("button",{onClick:b,class:"btn",disabled:V.value},w(V.value?"ä¿®æ”¹ä¸­...":"ä¿®æ”¹å¯†ç "),9,ha)]),A.value?(u(),r("p",{key:0,class:H(["message",p.value])},w(A.value),3)):P("",!0)])])])]))}},wa=R(fa,[["__scopeId","data-v-32e8c6b7"]]),ka={class:"backup-manage"},ya={class:"tabs"},_a={class:"tab-content"},$a={class:"toolbar"},Ca=["disabled"],Ma=["disabled"],xa=["disabled"],Va={class:"backup-list"},Ba={key:0,class:"empty-state"},Ua={key:1,class:"backup-grid"},Aa={class:"backup-info"},Da={class:"backup-name"},Ta={class:"backup-meta"},Sa={class:"backup-size"},Ia={class:"backup-date"},La={class:"backup-actions"},Wa=["onClick"],za=["onClick"],Pa=["onClick"],Ha={class:"tab-content"},Fa={class:"toolbar"},Oa=["disabled"],Na=["disabled"],ja={key:1,class:"info-box"},Ea={class:"backup-list"},Ra={key:0,class:"empty-state"},qa={key:1,class:"backup-grid"},Ga={class:"backup-info"},Ja={class:"backup-name"},Ka={class:"backup-meta"},Qa={class:"backup-size"},Xa={class:"backup-date"},Ya={class:"backup-actions"},Za=["onClick"],en=["onClick"],tn={class:"tab-content"},sn={class:"config-section"},ln={class:"config-card"},an={class:"config-header"},nn={class:"switch"},on={key:0,class:"config-fields"},dn={class:"field-row"},un={class:"field-row"},rn={class:"field-row"},cn={class:"config-card"},vn={class:"config-header"},pn={class:"switch"},mn={key:0,class:"config-fields"},bn={class:"field-row"},gn={class:"time-input"},hn={class:"field-row"},fn={class:"config-card"},wn={class:"config-header"},kn={class:"switch"},yn={key:0,class:"config-fields"},_n={class:"field-row checkbox-row"},$n={class:"checkbox-label"},Cn={class:"field-row checkbox-row"},Mn={class:"checkbox-label"},xn={class:"config-card"},Vn={class:"config-header"},Bn={class:"switch"},Un={key:0,class:"stats-card"},An={class:"stats-grid"},Dn={class:"stat-item"},Tn={class:"stat-value"},Sn={class:"stat-item"},In={class:"stat-value"},Ln={class:"stat-item"},Wn={class:"stat-value"},zn={class:"stat-item"},Pn={class:"stat-value"},Hn={class:"config-actions"},Fn=["disabled"],On={key:0,class:"modal-overlay"},Nn={class:"modal-content config-modal"},jn={class:"form-group"},En={class:"form-group"},Rn={class:"form-group"},qn={class:"modal-actions"},Gn=["disabled"],Jn={key:1,class:"modal-overlay"},Kn={class:"modal-content"},Qn={class:"modal-actions"},Xn={__name:"BackupManage",setup(L){const n=f("local"),m=f([]),$=f([]),V=f(!1),A=f(null),p=Z({create:!1,list:!1,delete:!1,restore:!1,upload:!1,webdavConfig:!1,webdavBackup:!1,webdavList:!1,webdavRestore:!1,webdavDelete:!1,autoBackupConfig:!1}),_=f({text:"",type:""}),d=Z({show:!1,filename:"",action:null,title:"",message:"",confirmClass:""}),c=Z({configured:!1,url:"",username:""}),o=Z({url:"",username:"",password:""}),s=Z({debounce:{enabled:!0,delay:30,maxPerDay:3,keep:5},scheduled:{enabled:!0,hour:2,minute:0,keep:7},webdav:{enabled:!1,syncDaily:!0,syncIncremental:!1},autoClean:!0}),l=f(null),a=localStorage.getItem("token");function i(h){return M(this,arguments,function*(g,t={}){return(yield fetch(g,se(Y({},t),{headers:Y({Authorization:`Bearer ${a}`,"Content-Type":"application/json"},t.headers)}))).json()})}const b=(g,t="success")=>{_.value={text:g,type:t},setTimeout(()=>{_.value={text:"",type:""}},3e3)},y=()=>M(null,null,function*(){p.create=!0;const g=yield i("/api/backup/create",{method:"POST"});g.success?(b("å¤‡ä»½åˆ›å»ºæˆåŠŸï¼"),yield D()):b(g.message||"å¤‡ä»½åˆ›å»ºå¤±è´¥","error"),p.create=!1}),D=()=>M(null,null,function*(){p.list=!0;const g=yield i("/api/backup/list");g.success?m.value=g.backups:b("è·å–å¤‡ä»½åˆ—è¡¨å¤±è´¥","error"),p.list=!1}),C=g=>{window.open(`/api/backup/download/${g}?token=${a}`,"_blank")},S=(g,t)=>{d.show=!0,d.filename=t,d.action=g,g==="delete"?(d.title="åˆ é™¤",d.message=`ç¡®å®šè¦åˆ é™¤å¤‡ä»½æ–‡ä»¶ ${t} å—ï¼Ÿ`,d.confirmClass="btn-danger"):g==="restore"?(d.title="æ¢å¤",d.message=`ç¡®å®šè¦æ¢å¤å¤‡ä»½æ–‡ä»¶ ${t} å—ï¼Ÿ`,d.confirmClass="btn-restore"):g==="webdav-restore"?(d.title="ä»WebDAVæ¢å¤",d.message=`ç¡®å®šè¦ä»WebDAVæ¢å¤å¤‡ä»½ ${t} å—ï¼Ÿè¿™å°†è¦†ç›–å½“å‰æ•°æ®ã€‚`,d.confirmClass="btn-restore"):g==="webdav-delete"&&(d.title="åˆ é™¤WebDAVå¤‡ä»½",d.message=`ç¡®å®šè¦åˆ é™¤WebDAVå¤‡ä»½ ${t} å—ï¼Ÿ`,d.confirmClass="btn-danger")},q=()=>M(null,null,function*(){const{action:g,filename:t}=d;if(d.show=!1,g==="delete"){p.delete=!0;const h=yield i(`/api/backup/delete/${t}`,{method:"DELETE"});h.success?(b("åˆ é™¤æˆåŠŸï¼"),yield D()):b(h.message||"åˆ é™¤å¤±è´¥","error"),p.delete=!1}else if(g==="restore"){p.restore=!0;const h=yield i(`/api/backup/restore/${t}`,{method:"POST"});h.success?(b("æ¢å¤æˆåŠŸï¼"),yield D()):b(h.message||"æ¢å¤å¤±è´¥","error"),p.restore=!1}else g==="webdav-restore"?yield oe(t):g==="webdav-delete"&&(yield ie(t))}),F=g=>g?new Date(g).toLocaleString("zh-CN",{hour12:!1}):"--",j=()=>{A.value.click()},x=g=>M(null,null,function*(){const t=g.target.files[0];if(t){if(!t.name.endsWith(".zip")){b("åªæ”¯æŒ.zipæ ¼å¼çš„å¤‡ä»½æ–‡ä»¶","error"),g.target.value="";return}if(t.size>500*1024*1024){b("å¤‡ä»½æ–‡ä»¶è¿‡å¤§ï¼Œæœ€å¤§æ”¯æŒ500MB","error"),g.target.value="";return}p.upload=!0;try{const h=new FormData;h.append("backup",t);const X=yield(yield fetch("/api/backup/upload",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:h})).json();X.success?(b("å¤‡ä»½æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"),yield D()):b(X.message||"å¤‡ä»½æ–‡ä»¶ä¸Šä¼ å¤±è´¥","error")}catch(h){console.error("ä¸Šä¼ å¤±è´¥:",h),b("å¤‡ä»½æ–‡ä»¶ä¸Šä¼ å¤±è´¥","error")}finally{p.upload=!1,g.target.value=""}}}),I=()=>M(null,null,function*(){const g=yield i("/api/backup/webdav/config");g.success&&g.config&&(c.configured=g.config.configured,c.url=g.config.url||"",c.username=g.config.username||"")}),ne=()=>M(null,null,function*(){if(!o.url||!o.username||!o.password){b("è¯·å¡«å†™å®Œæ•´çš„WebDAVé…ç½®ä¿¡æ¯","error");return}p.webdavConfig=!0;const g=yield i("/api/backup/webdav/config",{method:"POST",body:JSON.stringify(o)});g.success?(b("WebDAVé…ç½®ä¿å­˜æˆåŠŸï¼"),V.value=!1,o.url="",o.username="",o.password="",yield I()):b(g.message||"WebDAVé…ç½®ä¿å­˜å¤±è´¥","error"),p.webdavConfig=!1}),te=()=>M(null,null,function*(){p.webdavBackup=!0;const g=yield i("/api/backup/webdav/backup",{method:"POST"});g.success?(b("å¤‡ä»½åˆ°WebDAVæˆåŠŸï¼"),yield E()):b(g.message||"å¤‡ä»½åˆ°WebDAVå¤±è´¥","error"),p.webdavBackup=!1}),E=()=>M(null,null,function*(){p.webdavList=!0;const g=yield i("/api/backup/webdav/list");g.success?$.value=g.backups||[]:b("è·å–WebDAVå¤‡ä»½åˆ—è¡¨å¤±è´¥","error"),p.webdavList=!1}),oe=g=>M(null,null,function*(){p.webdavRestore=!0;const t=yield i("/api/backup/webdav/restore",{method:"POST",body:JSON.stringify({filename:g})});t.success?b("ä»WebDAVæ¢å¤æˆåŠŸï¼"):b(t.message||"ä»WebDAVæ¢å¤å¤±è´¥","error"),p.webdavRestore=!1}),ie=g=>M(null,null,function*(){p.webdavDelete=!0;const t=yield i(`/api/backup/webdav/delete/${g}`,{method:"DELETE"});t.success?(b("åˆ é™¤æˆåŠŸï¼"),yield E()):b(t.message||"åˆ é™¤å¤±è´¥","error"),p.webdavDelete=!1}),Q=()=>M(null,null,function*(){const g=yield i("/api/backup/auto/config");g.success&&g.config?(Object.assign(s,g.config),l.value=g.stats||null):b("åŠ è½½è‡ªåŠ¨å¤‡ä»½é…ç½®å¤±è´¥","error")}),T=()=>M(null,null,function*(){p.autoBackupConfig=!0;const g=yield i("/api/backup/auto/config",{method:"POST",body:JSON.stringify(s)});g.success?(b("è‡ªåŠ¨å¤‡ä»½é…ç½®ä¿å­˜æˆåŠŸï¼"),yield Q()):b(g.message||"è‡ªåŠ¨å¤‡ä»½é…ç½®ä¿å­˜å¤±è´¥","error"),p.autoBackupConfig=!1}),v=()=>{if(!s.scheduled.enabled)return"æœªå¯ç”¨";const g=String(s.scheduled.hour).padStart(2,"0"),t=String(s.scheduled.minute).padStart(2,"0");return`æ¯å¤© ${g}:${t}`};return J(()=>M(null,null,function*(){yield D(),yield I(),c.configured&&(yield E()),yield Q()})),(g,t)=>(u(),r("div",ka,[e("div",ya,[e("button",{class:H(["tab",{active:n.value==="local"}]),onClick:t[0]||(t[0]=h=>n.value="local")}," ğŸ“¦ æœ¬åœ°å¤‡ä»½ ",2),e("button",{class:H(["tab",{active:n.value==="webdav"}]),onClick:t[1]||(t[1]=h=>n.value="webdav")}," â˜ï¸ WebDAVå¤‡ä»½ ",2),e("button",{class:H(["tab",{active:n.value==="auto"}]),onClick:t[2]||(t[2]=h=>n.value="auto")}," âš™ï¸ è‡ªåŠ¨å¤‡ä»½é…ç½® ",2)]),k(e("div",_a,[e("div",$a,[e("button",{class:"btn btn-primary",onClick:y,disabled:p.create},[t[21]||(t[21]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})],-1)),z(" "+w(p.create?"å¤‡ä»½ä¸­...":"åˆ›å»ºå¤‡ä»½"),1)],8,Ca),e("button",{class:"btn btn-success",onClick:j,disabled:p.upload},[t[22]||(t[22]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5-5 5 5M12 15V3"})],-1)),z(" "+w(p.upload?"ä¸Šä¼ ä¸­...":"ä¸Šä¼ å¤‡ä»½"),1)],8,Ma),e("button",{class:"btn btn-secondary",onClick:D,disabled:p.list},[t[23]||(t[23]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)),z(" "+w(p.list?"åˆ·æ–°ä¸­...":"åˆ·æ–°åˆ—è¡¨"),1)],8,xa),e("input",{ref_key:"fileInput",ref:A,type:"file",accept:".zip",onChange:x,style:{display:"none"}},null,544)]),_.value.text?(u(),r("div",{key:0,class:H(["message",_.value.type])},w(_.value.text),3)):P("",!0),e("div",Va,[m.value.length===0&&!p.list?(u(),r("div",Ba,[...t[24]||(t[24]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#ccc","stroke-width":"1.5"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})],-1),e("p",null,"æš‚æ— å¤‡ä»½æ–‡ä»¶",-1)])])):(u(),r("div",Ua,[(u(!0),r(O,null,N(m.value,h=>(u(),r("div",{key:h.name,class:"backup-card"},[t[28]||(t[28]=e("div",{class:"backup-icon"},[e("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"})])],-1)),e("div",Aa,[e("div",Da,w(h.name),1),e("div",Ta,[e("span",Sa,w(h.size),1),e("span",Ia,w(F(h.created)),1)])]),e("div",La,[e("button",{class:"btn-icon btn-restore",onClick:G=>S("restore",h.name),title:"æ¢å¤å¤‡ä»½"},[...t[25]||(t[25]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)])],8,Wa),e("button",{class:"btn-icon",onClick:G=>C(h.name),title:"ä¸‹è½½å¤‡ä»½"},[...t[26]||(t[26]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})],-1)])],8,za),e("button",{class:"btn-icon btn-danger",onClick:G=>S("delete",h.name),title:"åˆ é™¤å¤‡ä»½"},[...t[27]||(t[27]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,Pa)])]))),128))]))])],512),[[de,n.value==="local"]]),k(e("div",Ha,[e("div",Fa,[e("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=h=>V.value=!0)},[...t[29]||(t[29]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})],-1),z(" WebDAVé…ç½® ",-1)])]),e("button",{class:"btn btn-primary",onClick:te,disabled:p.webdavBackup||!c.configured},[t[30]||(t[30]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})],-1)),z(" "+w(p.webdavBackup?"å¤‡ä»½ä¸­...":"å¤‡ä»½åˆ°WebDAV"),1)],8,Oa),e("button",{class:"btn btn-secondary",onClick:E,disabled:p.webdavList||!c.configured},[t[31]||(t[31]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)),z(" "+w(p.webdavList?"åˆ·æ–°ä¸­...":"åˆ·æ–°åˆ—è¡¨"),1)],8,Na)]),_.value.text?(u(),r("div",{key:0,class:H(["message",_.value.type])},w(_.value.text),3)):P("",!0),c.configured?P("",!0):(u(),r("div",ja,[...t[32]||(t[32]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),e("p",null,"è¯·å…ˆé…ç½®WebDAVè¿æ¥ä¿¡æ¯ï¼ˆæ”¯æŒï¼šåšæœäº‘ã€Nextcloudã€é˜¿é‡Œäº‘ç›˜WebDAVã€Dropboxç­‰ï¼‰",-1)])])),e("div",Ea,[$.value.length===0&&!p.webdavList?(u(),r("div",Ra,[...t[33]||(t[33]=[e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#ccc","stroke-width":"1.5"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})],-1),e("p",null,"æš‚æ— WebDAVå¤‡ä»½",-1)])])):(u(),r("div",qa,[(u(!0),r(O,null,N($.value,h=>(u(),r("div",{key:h.name,class:"backup-card"},[t[36]||(t[36]=ee('<div class="backup-icon" data-v-36d811e2><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#16a34a" stroke-width="2" data-v-36d811e2><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" data-v-36d811e2></path><polyline points="14 2 14 8 20 8" data-v-36d811e2></polyline><path d="M12 18v-6M9 15l3 3 3-3" data-v-36d811e2></path></svg></div>',1)),e("div",Ga,[e("div",Ja,w(h.name),1),e("div",Ka,[e("span",Qa,w(h.size),1),e("span",Xa,w(F(h.created)),1)])]),e("div",Ya,[e("button",{class:"btn-icon btn-restore",onClick:G=>S("webdav-restore",h.name),title:"ä»WebDAVæ¢å¤"},[...t[34]||(t[34]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1)])],8,Za),e("button",{class:"btn-icon btn-danger",onClick:G=>S("webdav-delete",h.name),title:"åˆ é™¤WebDAVå¤‡ä»½"},[...t[35]||(t[35]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,en)])]))),128))]))])],512),[[de,n.value==="webdav"]]),k(e("div",tn,[_.value.text?(u(),r("div",{key:0,class:H(["message",_.value.type])},w(_.value.text),3)):P("",!0),e("div",sn,[t[71]||(t[71]=e("h3",null,"âš¡ è‡ªåŠ¨å¤‡ä»½é…ç½®",-1)),t[72]||(t[72]=e("p",{class:"config-description"},"é…ç½®ç³»ç»Ÿè‡ªåŠ¨å¤‡ä»½ç­–ç•¥ï¼ŒåŒ…æ‹¬å¢é‡å¤‡ä»½å’Œå®šæ—¶å¤‡ä»½ã€‚",-1)),e("div",ln,[e("div",an,[t[38]||(t[38]=e("h4",null,"å¢é‡å¤‡ä»½ï¼ˆé˜²æŠ–ï¼‰",-1)),e("label",nn,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=h=>s.debounce.enabled=h)},null,512),[[K,s.debounce.enabled]]),t[37]||(t[37]=e("span",{class:"slider"},null,-1))])]),t[45]||(t[45]=e("p",{class:"config-info"},"å½“æ•°æ®å˜æ›´æ—¶ï¼Œå»¶è¿Ÿä¸€æ®µæ—¶é—´åè‡ªåŠ¨å¤‡ä»½ã€‚é€‚åˆé¢‘ç¹ä¿®æ”¹çš„åœºæ™¯ã€‚",-1)),s.debounce.enabled?(u(),r("div",on,[e("div",dn,[t[39]||(t[39]=e("label",null,"å»¶è¿Ÿæ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰",-1)),k(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=h=>s.debounce.delay=h),min:"5",max:"1440",class:"form-input"},null,512),[[U,s.debounce.delay,void 0,{number:!0}]]),t[40]||(t[40]=e("small",null,"èŒƒå›´ï¼š5-1440åˆ†é’Ÿ",-1))]),e("div",un,[t[41]||(t[41]=e("label",null,"æ¯å¤©æœ€å¤šå¤‡ä»½æ¬¡æ•°",-1)),k(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=h=>s.debounce.maxPerDay=h),min:"1",max:"10",class:"form-input"},null,512),[[U,s.debounce.maxPerDay,void 0,{number:!0}]]),t[42]||(t[42]=e("small",null,"èŒƒå›´ï¼š1-10æ¬¡",-1))]),e("div",rn,[t[43]||(t[43]=e("label",null,"ä¿ç•™å¤‡ä»½æ•°é‡",-1)),k(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=h=>s.debounce.keep=h),min:"1",max:"30",class:"form-input"},null,512),[[U,s.debounce.keep,void 0,{number:!0}]]),t[44]||(t[44]=e("small",null,"èŒƒå›´ï¼š1-30ä¸ª",-1))])])):P("",!0)]),e("div",cn,[e("div",vn,[t[47]||(t[47]=e("h4",null,"å®šæ—¶å¤‡ä»½ï¼ˆæ¯æ—¥ï¼‰",-1)),e("label",pn,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=h=>s.scheduled.enabled=h)},null,512),[[K,s.scheduled.enabled]]),t[46]||(t[46]=e("span",{class:"slider"},null,-1))])]),t[53]||(t[53]=e("p",{class:"config-info"},"æ¯å¤©åœ¨å›ºå®šæ—¶é—´è‡ªåŠ¨æ‰§è¡Œå¤‡ä»½ã€‚",-1)),s.scheduled.enabled?(u(),r("div",mn,[e("div",bn,[t[49]||(t[49]=e("label",null,"å¤‡ä»½æ—¶é—´",-1)),e("div",gn,[k(e("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=h=>s.scheduled.hour=h),min:"0",max:"23",class:"form-input time-field",placeholder:"æ—¶"},null,512),[[U,s.scheduled.hour,void 0,{number:!0}]]),t[48]||(t[48]=e("span",null,":",-1)),k(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=h=>s.scheduled.minute=h),min:"0",max:"59",class:"form-input time-field",placeholder:"åˆ†"},null,512),[[U,s.scheduled.minute,void 0,{number:!0}]])]),t[50]||(t[50]=e("small",null,"æ ¼å¼ï¼š24å°æ—¶åˆ¶ï¼Œå¦‚ 02:00",-1))]),e("div",hn,[t[51]||(t[51]=e("label",null,"ä¿ç•™å¤©æ•°",-1)),k(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=h=>s.scheduled.keep=h),min:"1",max:"30",class:"form-input"},null,512),[[U,s.scheduled.keep,void 0,{number:!0}]]),t[52]||(t[52]=e("small",null,"èŒƒå›´ï¼š1-30å¤©",-1))])])):P("",!0)]),e("div",fn,[e("div",wn,[t[55]||(t[55]=e("h4",null,"â˜ï¸ WebDAV è‡ªåŠ¨åŒæ­¥",-1)),e("label",kn,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=h=>s.webdav.enabled=h)},null,512),[[K,s.webdav.enabled]]),t[54]||(t[54]=e("span",{class:"slider"},null,-1))])]),t[60]||(t[60]=e("p",{class:"config-info"},"è‡ªåŠ¨å°†æœ¬åœ°å¤‡ä»½åŒæ­¥åˆ° WebDAV äº‘ç«¯ã€‚éœ€è¦å…ˆé…ç½® WebDAV è¿æ¥ã€‚",-1)),s.webdav.enabled?(u(),r("div",yn,[e("div",_n,[e("label",$n,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=h=>s.webdav.syncDaily=h)},null,512),[[K,s.webdav.syncDaily]]),t[56]||(t[56]=e("span",null,"åŒæ­¥æ¯æ—¥å®šæ—¶å¤‡ä»½",-1))]),t[57]||(t[57]=e("small",null,"æ¯å¤©å®šæ—¶å¤‡ä»½åè‡ªåŠ¨ä¸Šä¼ åˆ° WebDAV",-1))]),e("div",Cn,[e("label",Mn,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=h=>s.webdav.syncIncremental=h)},null,512),[[K,s.webdav.syncIncremental]]),t[58]||(t[58]=e("span",null,"åŒæ­¥å¢é‡å¤‡ä»½",-1))]),t[59]||(t[59]=e("small",null,"å¢é‡å¤‡ä»½åè‡ªåŠ¨ä¸Šä¼ ï¼ˆå¯èƒ½é¢‘ç¹ï¼Œä¸æ¨èï¼‰",-1))])])):P("",!0)]),e("div",xn,[e("div",Vn,[t[62]||(t[62]=e("h4",null,"è‡ªåŠ¨æ¸…ç†",-1)),e("label",Bn,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=h=>s.autoClean=h)},null,512),[[K,s.autoClean]]),t[61]||(t[61]=e("span",{class:"slider"},null,-1))])]),t[63]||(t[63]=e("p",{class:"config-info"},"è‡ªåŠ¨åˆ é™¤è¶…å‡ºä¿ç•™æ•°é‡/å¤©æ•°çš„æ—§å¤‡ä»½æ–‡ä»¶ã€‚",-1))]),l.value?(u(),r("div",Un,[t[68]||(t[68]=e("h4",null,"ğŸ“Š å¤‡ä»½ç»Ÿè®¡",-1)),e("div",An,[e("div",Dn,[t[64]||(t[64]=e("span",{class:"stat-label"},"å¢é‡å¤‡ä»½ï¼ˆä»Šæ—¥ï¼‰",-1)),e("span",Tn,w(l.value.debounceToday||0)+" æ¬¡",1)]),e("div",Sn,[t[65]||(t[65]=e("span",{class:"stat-label"},"æœ€åå¢é‡å¤‡ä»½",-1)),e("span",In,w(F(l.value.lastDebounce)||"æ— "),1)]),e("div",Ln,[t[66]||(t[66]=e("span",{class:"stat-label"},"æœ€åå®šæ—¶å¤‡ä»½",-1)),e("span",Wn,w(F(l.value.lastScheduled)||"æ— "),1)]),e("div",zn,[t[67]||(t[67]=e("span",{class:"stat-label"},"ä¸‹æ¬¡å®šæ—¶å¤‡ä»½",-1)),e("span",Pn,w(v()),1)])])])):P("",!0),e("div",Hn,[e("button",{class:"btn btn-secondary",onClick:Q},[...t[69]||(t[69]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M1 4v6h6M23 20v-6h-6"}),e("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"})],-1),z(" é‡ç½® ",-1)])]),e("button",{class:"btn btn-primary",onClick:T,disabled:p.autoBackupConfig},[t[70]||(t[70]=e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1)),z(" "+w(p.autoBackupConfig?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"),1)],8,Fn)])])],512),[[de,n.value==="auto"]]),V.value?(u(),r("div",On,[e("div",Nn,[t[78]||(t[78]=e("h3",null,"WebDAVé…ç½®",-1)),e("div",jn,[t[73]||(t[73]=e("label",null,[z("WebDAV URL "),e("span",{class:"required"},"*")],-1)),k(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=h=>o.url=h),placeholder:"https://dav.jianguoyun.com/dav/",class:"form-input"},null,512),[[U,o.url]]),t[74]||(t[74]=e("small",null,"ä¾‹ï¼šåšæœäº‘ https://dav.jianguoyun.com/dav/",-1))]),e("div",En,[t[75]||(t[75]=e("label",null,[z("ç”¨æˆ·å "),e("span",{class:"required"},"*")],-1)),k(e("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=h=>o.username=h),placeholder:"é‚®ç®±æˆ–ç”¨æˆ·å",class:"form-input"},null,512),[[U,o.username]])]),e("div",Rn,[t[76]||(t[76]=e("label",null,[z("å¯†ç  "),e("span",{class:"required"},"*")],-1)),k(e("input",{type:"password","onUpdate:modelValue":t[18]||(t[18]=h=>o.password=h),placeholder:"åº”ç”¨å¯†ç æˆ–è®¿é—®ä»¤ç‰Œ",class:"form-input"},null,512),[[U,o.password]]),t[77]||(t[77]=e("small",null,"æ³¨æ„ï¼šæŸäº›æœåŠ¡éœ€è¦ä½¿ç”¨åº”ç”¨ä¸“ç”¨å¯†ç ï¼Œè€Œä¸æ˜¯ç™»å½•å¯†ç ",-1))]),e("div",qn,[e("button",{class:"btn btn-secondary",onClick:t[19]||(t[19]=h=>V.value=!1)},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:ne,disabled:p.webdavConfig},w(p.webdavConfig?"æµ‹è¯•è¿æ¥ä¸­...":"ä¿å­˜"),9,Gn)])])])):P("",!0),d.show?(u(),r("div",Jn,[e("div",Kn,[e("h3",null,"ç¡®è®¤"+w(d.title),1),e("p",null,w(d.message),1),e("div",Qn,[e("button",{class:"btn btn-secondary",onClick:t[20]||(t[20]=h=>d.show=!1)},"å–æ¶ˆ"),e("button",{class:H(["btn",d.confirmClass]),onClick:q},"ç¡®è®¤",2)])])])):P("",!0)]))}},Yn=R(Xn,[["__scopeId","data-v-36d811e2"]]),Zn={key:0,class:"login-container"},eo={class:"login-card"},to={class:"login-form"},so={class:"password-input-wrapper"},lo=["type"],ao={key:0,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},no={key:1,width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},oo={class:"login-buttons"},io=["disabled"],uo={key:0,class:"login-error"},ro={key:1,class:"admin-layout"},co={class:"menu-list"},vo={class:"admin-main"},po={class:"admin-header"},mo={class:"header-title"},bo={class:"admin-content"},go={__name:"Admin",setup(L){const n=f("welcome"),m={welcome:bt,menu:Nt,card:Bs,duplicate:cl,tag:Ul,ad:Rl,friend:ta,user:wa,backup:Yn},$=le(()=>m[n.value]),V=le(()=>n.value==="welcome"?{lastLoginTime:A.value,lastLoginIp:p.value,currentUsername:_.value}:{}),A=f(""),p=f(""),_=f("admin"),d=f(!1),c=f(""),o=f(""),s=f(!1),l=f(""),a=f(!1),i=f(!1),b=le(()=>{switch(n.value){case"menu":return"æ ç›®ç®¡ç†";case"card":return"å¡ç‰‡ç®¡ç†";case"duplicate":return"å»é‡ç®¡ç†";case"tag":return"æ ‡ç­¾ç®¡ç†";case"ad":return"å¹¿å‘Šç®¡ç†";case"friend":return"å‹é“¾ç®¡ç†";case"user":return"ç”¨æˆ·ç®¡ç†";case"backup":return"å¤‡ä»½ç®¡ç†";default:return""}});J(()=>{const j=localStorage.getItem("token");d.value=!!j,d.value&&y()});function y(){return M(this,null,function*(){try{const j=yield fetch("/api/users/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(j.ok){const x=yield j.json();A.value=x.last_login_time||"",p.value=x.last_login_ip||"",_.value=x.username||"admin"}}catch(j){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",j)}})}function D(){return M(this,null,function*(){var j,x;if(!c.value||!o.value){l.value="è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ";return}s.value=!0,l.value="";try{const I=yield ot(c.value,o.value);I.data.token&&(localStorage.setItem("token",I.data.token),d.value=!0,A.value=I.data.lastLoginTime||"",p.value=I.data.lastLoginIp||"",yield y())}catch(I){l.value=((x=(j=I.response)==null?void 0:j.data)==null?void 0:x.message)||"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç "}finally{s.value=!1}})}function C(){localStorage.removeItem("token"),d.value=!1,c.value="",o.value="",l.value=""}function S(){window.open("/","_blank")}function q(){i.value=!i.value}function F(){i.value=!1}return(j,x)=>d.value?(u(),r("div",ro,[e("aside",{class:H(["admin-sider",{open:i.value}]),onClick:ae(F,["self"])},[e("div",{class:"logo clickable",onClick:x[3]||(x[3]=I=>{n.value="welcome",F()})},"Admin"),e("ul",co,[e("li",{class:H({active:n.value==="menu"}),onClick:x[4]||(x[4]=I=>{n.value="menu",F()})},"æ ç›®ç®¡ç†",2),e("li",{class:H({active:n.value==="card"}),onClick:x[5]||(x[5]=I=>{n.value="card",F()})},"å¡ç‰‡ç®¡ç†",2),e("li",{class:H({active:n.value==="duplicate"}),onClick:x[6]||(x[6]=I=>{n.value="duplicate",F()})},"å»é‡ç®¡ç†",2),e("li",{class:H({active:n.value==="tag"}),onClick:x[7]||(x[7]=I=>{n.value="tag",F()})},"æ ‡ç­¾ç®¡ç†",2),e("li",{class:H({active:n.value==="ad"}),onClick:x[8]||(x[8]=I=>{n.value="ad",F()})},"å¹¿å‘Šç®¡ç†",2),e("li",{class:H({active:n.value==="friend"}),onClick:x[9]||(x[9]=I=>{n.value="friend",F()})},"å‹é“¾ç®¡ç†",2),e("li",{class:H({active:n.value==="user"}),onClick:x[10]||(x[10]=I=>{n.value="user",F()})},"ç”¨æˆ·ç®¡ç†",2),e("li",{class:H({active:n.value==="backup"}),onClick:x[11]||(x[11]=I=>{n.value="backup",F()})},"å¤‡ä»½ç®¡ç†",2)])],2),e("main",vo,[e("div",po,[e("button",{class:"menu-toggle",onClick:q}," â˜° "),e("div",mo,w(b.value),1),e("div",{class:"header-actions"},[e("span",{class:"home-icon",onClick:S,title:"è¿›å…¥ä¸»é¡µ"},[...x[16]||(x[16]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M3 10.5L12 4l9 6.5V20a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4h-4v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V10.5z",stroke:"#2566d8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),e("button",{class:"btn logout-btn",onClick:C},"é€€å‡ºç™»å½•")])]),e("div",bo,[Ue(De,{name:"fade",mode:"out-in"},{default:Ae(()=>[(u(),Te(Se($.value),Ie({key:n.value},V.value),null,16))]),_:1})]),x[17]||(x[17]=e("footer",{class:"admin-footer"},[e("p",{class:"admin-copyright"},[z("Copyright Â© 2025 Con-Nav-Item | "),e("a",{href:"https://github.com/zczy-k/Con-Nav-Item",target:"_blank",class:"footer-link"},"Powered by zczy-k")])],-1))])])):(u(),r("div",Zn,[e("div",eo,[x[15]||(x[15]=e("h2",{class:"login-title"},"åå°ç®¡ç†ç™»å½•",-1)),e("div",to,[k(e("input",{"onUpdate:modelValue":x[0]||(x[0]=I=>c.value=I),type:"text",placeholder:"ç”¨æˆ·å",class:"login-input",onKeyup:fe(D,["enter"])},null,544),[[U,c.value]]),e("div",so,[k(e("input",{"onUpdate:modelValue":x[1]||(x[1]=I=>o.value=I),type:a.value?"text":"password",placeholder:"å¯†ç ",class:"login-input password-input",onKeyup:fe(D,["enter"])},null,40,lo),[[Be,o.value]]),e("span",{class:"toggle-password",onClick:x[2]||(x[2]=I=>a.value=!a.value)},[a.value?(u(),r("svg",ao,[...x[12]||(x[12]=[e("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"},null,-1),e("circle",{cx:"12",cy:"12",r:"3"},null,-1)])])):(u(),r("svg",no,[...x[13]||(x[13]=[e("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 19c-7 0-11-7-11-7a21.77 21.77 0 0 1 5.06-6.06"},null,-1),e("path",{d:"M1 1l22 22"},null,-1),e("path",{d:"M9.53 9.53A3 3 0 0 0 12 15a3 3 0 0 0 2.47-5.47"},null,-1)])]))])]),e("div",oo,[e("button",{onClick:S,class:"back-btn"},[...x[14]||(x[14]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),z(" è¿”å›é¦–é¡µ ",-1)])]),e("button",{onClick:D,class:"login-btn",disabled:s.value},w(s.value?"ç™»å½•ä¸­...":"ç™»å½•"),9,io)]),l.value?(u(),r("p",uo,w(l.value),1)):P("",!0)])])]))}},ko=R(go,[["__scopeId","data-v-f3b26cdd"]]);export{ko as default};
